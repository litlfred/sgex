{"version":3,"file":"static/js/907.95b658ed.chunk.js","mappings":"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","sources":["components/FeatureFileEditor.js","components/TestingViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { AssetEditorLayout } from './framework';\nimport localStorageService from '../services/localStorageService';\nimport './FeatureFileEditor.css';\n\nconst FeatureFileEditor = ({ \n  file, \n  repository, \n  selectedBranch, \n  isOpen, \n  onClose, \n  onSave,\n  initialContent = '',\n  isDemo = false \n}) => {\n  const [content, setContent] = useState(initialContent);\n  const [isEditing, setIsEditing] = useState(false);\n  const [savedLocally, setSavedLocally] = useState(false);\n\n  useEffect(() => {\n    setContent(initialContent);\n    \n    // Check if there's a local version of this file\n    if (file && file.path) {\n      const localContent = localStorageService.getLocalContent(file.path);\n      if (localContent && localContent !== initialContent) {\n        setSavedLocally(true);\n      }\n    }\n  }, [initialContent, file]);\n\n  const handleContentChange = (e) => {\n    const newContent = e.target.value;\n    setContent(newContent);\n  };\n\n  const handleSave = (savedContent, saveType) => {\n    console.log(`Feature file saved to ${saveType}`);\n    onSave && onSave(savedContent);\n    \n    // Auto-close editing mode after save if not continuing to edit\n    if (saveType === 'local') {\n      setTimeout(() => {\n        setIsEditing(false);\n      }, 2000);\n    } else if (saveType === 'github') {\n      setTimeout(() => {\n        setIsEditing(false);\n      }, 1000);\n    }\n  };\n\n  const handleCancel = () => {\n    const hasChanges = content !== initialContent;\n    if (hasChanges) {\n      if (!window.confirm('You have unsaved changes. Are you sure you want to cancel?')) {\n        return;\n      }\n    }\n    setContent(initialContent);\n    setIsEditing(false);\n  };\n\n  const handleExportLocal = () => {\n    try {\n      const exportData = localStorageService.exportLocalChanges('json');\n      const url = URL.createObjectURL(exportData);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `sgex-feature-files-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error exporting local changes:', error);\n    }\n  };\n\n  const handleLoadLocal = () => {\n    if (file && file.path) {\n      const localContent = localStorageService.getLocalContent(file.path);\n      if (localContent) {\n        const hasChanges = content !== initialContent;\n        if (hasChanges && !window.confirm('Loading local version will discard current changes. Continue?')) {\n          return;\n        }\n        setContent(localContent);\n        setSavedLocally(true);\n      }\n    }\n  };\n\n  const handleDiscardLocal = () => {\n    if (file && file.path && window.confirm('This will permanently delete the local version. Continue?')) {\n      localStorageService.removeLocal(file.path);\n      setSavedLocally(false);\n      if (content !== initialContent) {\n        setContent(initialContent);\n      }\n    }\n  };\n\n  if (!isOpen || !file) return null;\n\n  const hasChanges = content !== initialContent;\n\n  return (\n    <div className=\"feature-editor-overlay\" onClick={onClose}>\n      <div className=\"feature-editor-modal\" onClick={(e) => e.stopPropagation()}>\n        {isEditing ? (\n          <AssetEditorLayout\n            pageName=\"feature-file-editor\"\n            file={file}\n            repository={repository}\n            branch={selectedBranch}\n            content={content}\n            originalContent={initialContent}\n            hasChanges={hasChanges}\n            isDemo={isDemo}\n            onSave={handleSave}\n            showHeader={false}\n            showMascot={false}\n            saveButtonsPosition=\"top\"\n          >\n            <div className=\"feature-editor-header\">\n              <div className=\"editor-title\">\n                <h3>{file.name}</h3>\n                <span className=\"file-path\">{file.path}</span>\n              </div>\n              <div className=\"editor-actions\">\n                <button \n                  className=\"btn btn-secondary\"\n                  onClick={handleCancel}\n                >\n                  Cancel\n                </button>\n                {localStorageService.hasLocalChanges() && (\n                  <button \n                    className=\"btn btn-info\"\n                    onClick={handleExportLocal}\n                    title=\"Export all local changes\"\n                  >\n                    Export All\n                  </button>\n                )}\n              </div>\n            </div>\n\n            <div className=\"feature-editor-content\">\n              <div className=\"editor-container\">\n                <textarea\n                  className=\"feature-editor-textarea\"\n                  value={content}\n                  onChange={handleContentChange}\n                  placeholder=\"Enter your Gherkin feature content here...\"\n                  spellCheck={false}\n                />\n                <div className=\"editor-preview\">\n                  <h4>Preview:</h4>\n                  <SyntaxHighlighter\n                    language=\"gherkin\"\n                    style={oneLight}\n                    customStyle={{\n                      margin: 0,\n                      borderRadius: '4px',\n                      fontSize: '14px',\n                      lineHeight: '1.5'\n                    }}\n                  >\n                    {content || '# Feature content will appear here...'}\n                  </SyntaxHighlighter>\n                </div>\n              </div>\n            </div>\n\n            {!isDemo && (\n              <div className=\"local-storage-notice\">\n                <span className=\"info-icon\">💾</span>\n                Local Mode: Changes will be saved to your browser's local storage. \n                {savedLocally && ' Local version available.'} \n                <button \n                  className=\"btn-link\"\n                  onClick={handleExportLocal}\n                  disabled={!localStorageService.hasLocalChanges()}\n                >\n                  Export changes\n                </button>\n                {savedLocally && (\n                  <button \n                    className=\"btn-link danger\"\n                    onClick={handleDiscardLocal}\n                  >\n                    Discard local\n                  </button>\n                )}\n              </div>\n            )}\n\n            {isDemo && (\n              <div className=\"demo-notice\">\n                <span className=\"info-icon\">🧪</span>\n                Demo Mode: Changes are saved locally for demonstration. Use \"Save Local\" to save changes to your browser's storage.\n              </div>\n            )}\n\n            <div className=\"feature-editor-footer\">\n              <div className=\"editor-info\">\n                <span>Gherkin Feature File</span>\n                {hasChanges && <span className=\"changes-indicator\">• Unsaved changes</span>}\n                {savedLocally && <span className=\"local-indicator\">• Local version available</span>}\n              </div>\n              <div className=\"editor-links\">\n                <a \n                  href={file.url} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"btn btn-link\"\n                >\n                  View on GitHub\n                </a>\n              </div>\n            </div>\n          </AssetEditorLayout>\n        ) : (\n          <>\n            <div className=\"feature-editor-header\">\n              <div className=\"editor-title\">\n                <h3>{file.name}</h3>\n                <span className=\"file-path\">{file.path}</span>\n              </div>\n              <div className=\"editor-actions\">\n                <button \n                  className=\"btn btn-primary\"\n                  onClick={() => setIsEditing(true)}\n                >\n                  Edit\n                </button>\n                {savedLocally && (\n                  <button \n                    className=\"btn btn-info\"\n                    onClick={handleLoadLocal}\n                    title=\"Load local version\"\n                  >\n                    Load Local\n                  </button>\n                )}\n                <button \n                  className=\"btn btn-secondary\"\n                  onClick={onClose}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n\n            <div className=\"feature-editor-content\">\n              <div className=\"feature-viewer\">\n                <SyntaxHighlighter\n                  language=\"gherkin\"\n                  style={oneLight}\n                  customStyle={{\n                    margin: 0,\n                    borderRadius: '4px',\n                    fontSize: '14px',\n                    lineHeight: '1.5',\n                    minHeight: '400px'\n                  }}\n                >\n                  {content}\n                </SyntaxHighlighter>\n              </div>\n            </div>\n\n            <div className=\"feature-editor-footer\">\n              <div className=\"editor-info\">\n                <span>Gherkin Feature File</span>\n                {savedLocally && <span className=\"local-indicator\">• Local version available</span>}\n              </div>\n              <div className=\"editor-links\">\n                <a \n                  href={file.url} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"btn btn-link\"\n                >\n                  View on GitHub\n                </a>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FeatureFileEditor;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport githubService from '../services/githubService';\nimport { PageLayout, useDAKParams } from './framework';\nimport FeatureFileEditor from './FeatureFileEditor';\nimport './TestingViewer.css';\n\n// Demo feature files data for when in demo mode\nconst DEMO_FEATURE_FILES = [\n  {\n    name: 'ViewIPSContent.feature',\n    path: 'input/testing/ViewIPSContent.feature',\n    url: 'https://github.com/demo-user/anc-dak/blob/main/input/testing/ViewIPSContent.feature',\n    download_url: 'https://raw.githubusercontent.com/demo-user/anc-dak/main/input/testing/ViewIPSContent.feature',\n    content: `Feature: View IPS Content\n  As a healthcare provider\n  I want to view International Patient Summary (IPS) content\n  So that I can review standardized patient information\n\n  Background:\n    Given the system has IPS data available\n    And the user has appropriate permissions\n\n  Scenario: View basic IPS information\n    Given I am logged into the system\n    When I navigate to the IPS viewer\n    Then I should see the patient summary header\n    And I should see basic patient demographics\n    And I should see medical history section\n\n  Scenario: View IPS medications\n    Given I am viewing an IPS document\n    When I scroll to the medications section\n    Then I should see a list of current medications\n    And each medication should display name, dosage, and frequency\n    And medications should be sorted by importance\n\n  Scenario: Export IPS content\n    Given I am viewing an IPS document\n    When I click the export button\n    Then I should be able to download the IPS as PDF\n    And the PDF should contain all visible sections\n    And the formatting should be preserved\n\n  Scenario: Handle missing IPS data\n    Given the patient has no IPS document\n    When I attempt to view their IPS\n    Then I should see a \"No IPS available\" message\n    And I should see options to create a new IPS\n    And the system should suggest relevant data sources`\n  },\n  {\n    name: 'PatientRegistration.feature',\n    path: 'input/testing/PatientRegistration.feature',\n    url: 'https://github.com/demo-user/anc-dak/blob/main/input/testing/PatientRegistration.feature',\n    download_url: 'https://raw.githubusercontent.com/demo-user/anc-dak/main/input/testing/PatientRegistration.feature',\n    content: `Feature: Patient Registration\n  As a healthcare worker\n  I want to register new patients in the system\n  So that I can track their care journey\n\n  Background:\n    Given I am logged into the healthcare system\n    And I have patient registration permissions\n\n  Scenario: Register a new patient with complete information\n    Given I am on the patient registration page\n    When I enter the patient's full name \"Sarah Johnson\"\n    And I enter the date of birth \"1990-05-15\"\n    And I enter the contact phone \"555-0123\"\n    And I select the preferred language \"English\"\n    And I click the \"Register Patient\" button\n    Then the patient should be successfully registered\n    And I should see a confirmation message\n    And the patient should receive a unique identifier\n\n  Scenario: Register patient with minimal required information\n    Given I am on the patient registration page\n    When I enter only the required fields\n    And I click \"Register Patient\"\n    Then the system should accept the registration\n    And prompt me to complete the profile later\n\n  Scenario: Handle duplicate patient registration\n    Given a patient with phone \"555-0123\" already exists\n    When I try to register another patient with the same phone\n    Then the system should show a duplicate warning\n    And offer to link to the existing patient record\n    And allow me to verify this is the same person`\n  },\n  {\n    name: 'AntenatalCareWorkflow.feature',\n    path: 'input/testing/AntenatalCareWorkflow.feature',\n    url: 'https://github.com/demo-user/anc-dak/blob/main/input/testing/AntenatalCareWorkflow.feature',\n    download_url: 'https://raw.githubusercontent.com/demo-user/anc-dak/main/input/testing/AntenatalCareWorkflow.feature',\n    content: `Feature: Antenatal Care Workflow\n  As a midwife\n  I want to follow standardized antenatal care protocols\n  So that I can provide consistent quality care to pregnant women\n\n  Background:\n    Given I am a certified midwife logged into the system\n    And the WHO antenatal care guidelines are loaded\n\n  Scenario: First antenatal visit workflow\n    Given a pregnant woman is attending her first ANC visit\n    When I start the first visit assessment\n    Then I should see prompts for initial health history\n    And I should see required vital signs checklist\n    And I should see screening test recommendations\n    And the system should calculate gestational age\n    And I should see next appointment scheduling options\n\n  Scenario: Follow-up visit risk assessment\n    Given a patient is attending a follow-up ANC visit\n    And her previous visit data is available\n    When I review her current condition\n    Then the system should highlight any risk factors\n    And suggest appropriate interventions\n    And update the care plan automatically\n    And schedule appropriate follow-up intervals\n\n  Scenario: High-risk pregnancy detection\n    Given I am conducting an ANC assessment\n    When the patient shows signs of complications\n    Then the system should trigger risk alerts\n    And recommend immediate specialist referral\n    And provide emergency contact information\n    And document the escalation in patient records\n\n  Scenario: Generate antenatal care summary\n    Given a patient has completed multiple ANC visits\n    When I request a care summary report\n    Then I should see a timeline of all visits\n    And all test results and measurements\n    And current risk status and recommendations\n    And the report should be suitable for referrals`\n  }\n];\n\nconst TestingViewer = () => {\n  return (\n    <PageLayout pageName=\"testing-viewer\">\n      <TestingViewerContent />\n    </PageLayout>\n  );\n};\n\nconst TestingViewerContent = () => {\n  const navigate = useNavigate();\n  const { profile, repository, branch } = useDAKParams();\n\n  const [featureFiles, setFeatureFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileContent, setFileContent] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [showEditor, setShowEditor] = useState(false);\n  const [editorFile, setEditorFile] = useState(null);\n  const [editorContent, setEditorContent] = useState('');\n\n  useEffect(() => {\n    const fetchFeatureFiles = async () => {\n      if (!repository) {\n        setError('Missing repository information');\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Check if we're in demo mode - improved detection for demo repositories\n        const isDemoMode = repository.isDemo || \n                          (repository.owner && repository.owner.login === 'demo-user') ||\n                          (repository.full_name && repository.full_name.startsWith('demo-user/'));\n        \n        if (isDemoMode) {\n          // Use demo data in demo mode\n          console.log('Demo mode detected, using demo feature files');\n          setTimeout(() => {\n            setFeatureFiles(DEMO_FEATURE_FILES.map(file => ({\n              name: file.name,\n              path: file.path,\n              url: file.url,\n              download_url: file.download_url\n            })));\n            setLoading(false);\n          }, 1000); // Simulate loading time\n          return;\n        }\n\n        // Extract owner and repo name - handle both demo and real repository structures\n        let owner, repoName;\n        \n        if (repository.owner?.login) {\n          // Real GitHub repository structure\n          owner = repository.owner.login;\n          repoName = repository.name;\n        } else if (repository.full_name) {\n          // Handle repository with full_name\n          [owner, repoName] = repository.full_name.split('/');\n        } else if (typeof repository === 'string') {\n          // Handle string format\n          [owner, repoName] = repository.split('/');\n        } else {\n          // Fallback - try to extract from repository properties\n          owner = repository.owner || 'demo-user';\n          repoName = repository.name || repository.repo || 'unknown';\n        }\n\n        console.log('Fetching feature files for:', { owner, repoName, repository });\n\n        // Try to get files from input/testing directory\n        const files = await githubService.getDirectoryContents(\n          owner,\n          repoName,\n          'input/testing',\n          branch || repository.default_branch || 'main'\n        );\n\n        // Filter for .feature files\n        const featureFiles = files\n          .filter(file => file.type === 'file' && file.name.endsWith('.feature'))\n          .map(file => ({\n            name: file.name,\n            path: file.path,\n            url: file.html_url,\n            download_url: file.download_url\n          }));\n\n        setFeatureFiles(featureFiles);\n      } catch (err) {\n        console.error('Error fetching feature files:', err);\n        if (err.message.includes('Not Found')) {\n          setError('No input/testing directory found in this repository');\n        } else {\n          setError(`Error loading feature files: ${err.message}`);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchFeatureFiles();\n  }, [profile, repository, branch]);\n\n  const handleViewFile = async (file) => {\n    try {\n      setLoading(true);\n      \n      // Check if we're in demo mode - improved detection for demo repositories\n      const isDemoMode = repository.isDemo || \n                        (repository.owner && repository.owner.login === 'demo-user') ||\n                        (repository.full_name && repository.full_name.startsWith('demo-user/'));\n      \n      if (isDemoMode) {\n        // Find the demo file content\n        const demoFile = DEMO_FEATURE_FILES.find(df => df.name === file.name);\n        if (demoFile) {\n          setTimeout(() => {\n            setSelectedFile(file);\n            setFileContent(demoFile.content);\n            setShowModal(true);\n            setLoading(false);\n          }, 500); // Simulate loading time\n        } else {\n          setError(`Demo content not found for file: ${file.name}`);\n          setLoading(false);\n        }\n        return;\n      }\n\n      // For real repositories, fetch from GitHub\n      const response = await fetch(file.download_url);\n      const content = await response.text();\n      setSelectedFile(file);\n      setFileContent(content);\n      setShowModal(true);\n    } catch (err) {\n      console.error('Error loading file content:', err);\n      setError(`Error loading file: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditFile = async (file) => {\n    try {\n      setLoading(true);\n      \n      // Check if we're in demo mode\n      const isDemoMode = repository.isDemo || \n                        (repository.owner && repository.owner.login === 'demo-user') ||\n                        (repository.full_name && repository.full_name.startsWith('demo-user/'));\n      \n      if (isDemoMode) {\n        // Find the demo file content\n        const demoFile = DEMO_FEATURE_FILES.find(df => df.name === file.name);\n        if (demoFile) {\n          setTimeout(() => {\n            setEditorFile(file);\n            setEditorContent(demoFile.content);\n            setShowEditor(true);\n            setLoading(false);\n          }, 500); // Simulate loading time\n        } else {\n          setError(`Demo content not found for file: ${file.name}`);\n          setLoading(false);\n        }\n        return;\n      }\n\n      // For real repositories, fetch from GitHub\n      const response = await fetch(file.download_url);\n      const content = await response.text();\n      setEditorFile(file);\n      setEditorContent(content);\n      setShowEditor(true);\n    } catch (err) {\n      console.error('Error loading file content for editing:', err);\n      setError(`Error loading file: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveFile = (newContent) => {\n    // Update the content if it was successfully saved\n    setEditorContent(newContent);\n    console.log('File saved successfully');\n  };\n\n  const handleBack = () => {\n    navigate(`/dashboard/${profile?.login}/${repository?.name}${branch && branch !== 'main' ? `/${branch}` : ''}`);\n  };\n\n  const renderModal = () => {\n    if (!showModal || !selectedFile) return null;\n\n    return (\n      <div className=\"testing-modal-overlay\" onClick={() => setShowModal(false)}>\n        <div className=\"testing-modal\" onClick={(e) => e.stopPropagation()}>\n          <div className=\"testing-modal-header\">\n            <h3>{selectedFile.name}</h3>\n            <button \n              className=\"testing-modal-close\"\n              onClick={() => setShowModal(false)}\n            >\n              ×\n            </button>\n          </div>\n          <div className=\"testing-modal-content\">\n            <SyntaxHighlighter\n              language=\"gherkin\"\n              style={oneLight}\n              customStyle={{\n                margin: 0,\n                borderRadius: '4px',\n                fontSize: '14px',\n                lineHeight: '1.5',\n                minHeight: '400px'\n              }}\n            >\n              {fileContent}\n            </SyntaxHighlighter>\n          </div>\n          <div className=\"testing-modal-footer\">\n            <a \n              href={selectedFile.url} \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"btn btn-secondary\"\n            >\n              View on GitHub\n            </a>\n            <button \n              className=\"btn btn-primary\"\n              onClick={() => setShowModal(false)}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <PageLayout pageName=\"testing-viewer\">\n      <div className=\"testing-viewer\">\n        <div className=\"testing-header\">\n          <button onClick={handleBack} className=\"back-button\">\n            ← Back to Dashboard\n          </button>\n          <h1>Testing Files</h1>\n          <p className=\"testing-description\">\n            Feature files from the input/testing directory\n          </p>\n        </div>\n\n        {loading && (\n          <div className=\"loading-container\">\n            <div className=\"loading-spinner\"></div>\n            <p>Loading feature files...</p>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"error-container\">\n            <div className=\"error-message\">\n              <span className=\"error-icon\">⚠️</span>\n              {error}\n            </div>\n          </div>\n        )}\n\n        {!loading && !error && featureFiles.length === 0 && (\n          <div className=\"empty-state\">\n            <div className=\"empty-icon\">📂</div>\n            <h3>No Feature Files Found</h3>\n            <p>No .feature files were found in the input/testing directory.</p>\n          </div>\n        )}\n\n        {!loading && !error && featureFiles.length > 0 && (\n          <div className=\"feature-files-grid\">\n            {featureFiles.map((file, index) => (\n              <div key={index} className=\"feature-file-card\">\n                <div className=\"file-icon\">🧪</div>\n                <div className=\"file-info\">\n                  <h3 className=\"file-name\">{file.name}</h3>\n                  <p className=\"file-path\">{file.path}</p>\n                </div>\n                <div className=\"file-actions\">\n                  <button \n                    className=\"btn btn-primary\"\n                    onClick={() => handleViewFile(file)}\n                  >\n                    View\n                  </button>\n                  <button \n                    className=\"btn btn-success\"\n                    onClick={() => handleEditFile(file)}\n                  >\n                    Edit\n                  </button>\n                  <a \n                    href={file.url} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className=\"btn btn-secondary\"\n                  >\n                    GitHub\n                  </a>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {renderModal()}\n\n        <FeatureFileEditor\n          file={editorFile}\n          repository={repository}\n          selectedBranch={branch}\n          isOpen={showEditor}\n          onClose={() => setShowEditor(false)}\n          onSave={handleSaveFile}\n          initialContent={editorContent}\n          isDemo={repository.isDemo || \n                  (repository.owner && repository.owner.login === 'demo-user') ||\n                  (repository.full_name && repository.full_name.startsWith('demo-user/'))}\n        />\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default TestingViewer;"],"names":["_ref","file","repository","selectedBranch","isOpen","onClose","onSave","initialContent","isDemo","content","setContent","useState","isEditing","setIsEditing","savedLocally","setSavedLocally","useEffect","path","localContent","localStorageService","getLocalContent","handleExportLocal","exportData","exportLocalChanges","url","URL","createObjectURL","link","document","createElement","href","download","Date","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","error","console","hasChanges","_jsx","className","onClick","children","e","stopPropagation","_jsxs","AssetEditorLayout","pageName","branch","originalContent","handleSave","savedContent","saveType","log","setTimeout","showHeader","showMascot","saveButtonsPosition","name","handleCancel","window","confirm","hasLocalChanges","title","value","onChange","newContent","target","placeholder","spellCheck","SyntaxHighlighter","language","style","oneLight","customStyle","margin","borderRadius","fontSize","lineHeight","disabled","handleDiscardLocal","removeLocal","rel","_Fragment","handleLoadLocal","minHeight","DEMO_FEATURE_FILES","download_url","TestingViewerContent","navigate","useNavigate","profile","useDAKParams","featureFiles","setFeatureFiles","loading","setLoading","setError","selectedFile","setSelectedFile","fileContent","setFileContent","showModal","setShowModal","showEditor","setShowEditor","editorFile","setEditorFile","editorContent","setEditorContent","async","_repository$owner","owner","login","full_name","startsWith","map","repoName","repo","githubService","getDirectoryContents","default_branch","filter","type","endsWith","html_url","err","message","includes","fetchFeatureFiles","PageLayout","handleBack","length","index","demoFile","find","df","response","fetch","text","handleViewFile","handleEditFile","FeatureFileEditor","TestingViewer"],"sourceRoot":""}