"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[9082],{36245:(e,t,n)=>{var s,o=n(20166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(47941),r=n(43198),a=n(91459),c=new a.Name("fullFormats"),l=new a.Name("fastFormats"),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keywords:!0};if(Array.isArray(t))return f(e,t,i.fullFormats,c),e;const[n,s]="fast"===t.mode?[i.fastFormats,l]:[i.fullFormats,c];return f(e,t.formats||i.formatNames,n,s),t.keywords&&r.default(e),e};function f(e,t,n,i){var r,c;null!==(r=(c=e.opts.code).formats)&&void 0!==r||(c.formats=a._(s||(s=o(['require("ajv-formats/dist/formats").',""])),i));for(const s of t)e.addFormat(s,n[s])}u.get=function(e){const t=("fast"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full")?i.fastFormats:i.fullFormats)[e];if(!t)throw new Error('Unknown format "'.concat(e,'"'));return t},e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},41190:(e,t,n)=>{n.r(t),n.d(t,{Alias:()=>q,CST:()=>s,Composer:()=>en,Document:()=>Ot,Lexer:()=>xn,LineCounter:()=>Ln,Pair:()=>be,Parser:()=>jn,Scalar:()=>R,Schema:()=>At,YAMLError:()=>It,YAMLMap:()=>Ae,YAMLParseError:()=>xt,YAMLSeq:()=>Te,YAMLWarning:()=>Lt,default:()=>Rn,isAlias:()=>d,isCollection:()=>v,isDocument:()=>h,isMap:()=>p,isNode:()=>b,isPair:()=>m,isScalar:()=>y,isSeq:()=>g,parse:()=>$n,parseAllDocuments:()=>Pn,parseDocument:()=>qn,stringify:()=>Un,visit:()=>N,visitAsync:()=>O});var s={};n.r(s),n.d(s,{BOM:()=>mn,DOCUMENT:()=>yn,FLOW_END:()=>gn,SCALAR:()=>vn,createScalarToken:()=>nn,isCollection:()=>bn,isScalar:()=>kn,prettyToken:()=>wn,resolveAsScalar:()=>tn,setScalarValue:()=>sn,stringify:()=>an,tokenType:()=>Sn,visit:()=>hn});var o={};n.r(o),n.d(o,{Alias:()=>q,CST:()=>s,Composer:()=>en,Document:()=>Ot,Lexer:()=>xn,LineCounter:()=>Ln,Pair:()=>be,Parser:()=>jn,Scalar:()=>R,Schema:()=>At,YAMLError:()=>It,YAMLMap:()=>Ae,YAMLParseError:()=>xt,YAMLSeq:()=>Te,YAMLWarning:()=>Lt,isAlias:()=>d,isCollection:()=>v,isDocument:()=>h,isMap:()=>p,isNode:()=>b,isPair:()=>m,isScalar:()=>y,isSeq:()=>g,parse:()=>$n,parseAllDocuments:()=>Pn,parseDocument:()=>qn,stringify:()=>Un,visit:()=>N,visitAsync:()=>O});const i=Symbol.for("yaml.alias"),r=Symbol.for("yaml.document"),a=Symbol.for("yaml.map"),c=Symbol.for("yaml.pair"),l=Symbol.for("yaml.scalar"),u=Symbol.for("yaml.seq"),f=Symbol.for("yaml.node.type"),d=e=>!!e&&"object"===typeof e&&e[f]===i,h=e=>!!e&&"object"===typeof e&&e[f]===r,p=e=>!!e&&"object"===typeof e&&e[f]===a,m=e=>!!e&&"object"===typeof e&&e[f]===c,y=e=>!!e&&"object"===typeof e&&e[f]===l,g=e=>!!e&&"object"===typeof e&&e[f]===u;function v(e){if(e&&"object"===typeof e)switch(e[f]){case a:case u:return!0}return!1}function b(e){if(e&&"object"===typeof e)switch(e[f]){case i:case a:case l:case u:return!0}return!1}const k=e=>(y(e)||v(e))&&!!e.anchor,w=Symbol("break visit"),S=Symbol("skip children"),E=Symbol("remove node");function N(e,t){const n=I(t);if(h(e)){A(null,e.contents,n,Object.freeze([e]))===E&&(e.contents=null)}else A(null,e,n,Object.freeze([]))}function A(e,t,n,s){const o=x(e,t,n,s);if(b(o)||m(o))return L(e,s,o),A(e,o,n,s);if("symbol"!==typeof o)if(v(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=A(e,t.items[e],n,s);if("number"===typeof o)e=o-1;else{if(o===w)return w;o===E&&(t.items.splice(e,1),e-=1)}}}else if(m(t)){s=Object.freeze(s.concat(t));const e=A("key",t.key,n,s);if(e===w)return w;e===E&&(t.key=null);const o=A("value",t.value,n,s);if(o===w)return w;o===E&&(t.value=null)}return o}async function O(e,t){const n=I(t);if(h(e)){await T(null,e.contents,n,Object.freeze([e]))===E&&(e.contents=null)}else await T(null,e,n,Object.freeze([]))}async function T(e,t,n,s){const o=await x(e,t,n,s);if(b(o)||m(o))return L(e,s,o),T(e,o,n,s);if("symbol"!==typeof o)if(v(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=await T(e,t.items[e],n,s);if("number"===typeof o)e=o-1;else{if(o===w)return w;o===E&&(t.items.splice(e,1),e-=1)}}}else if(m(t)){s=Object.freeze(s.concat(t));const e=await T("key",t.key,n,s);if(e===w)return w;e===E&&(t.key=null);const o=await T("value",t.value,n,s);if(o===w)return w;o===E&&(t.value=null)}return o}function I(e){return"object"===typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function x(e,t,n,s){var o,i,r,a,c;return"function"===typeof n?n(e,t,s):p(t)?null===(o=n.Map)||void 0===o?void 0:o.call(n,e,t,s):g(t)?null===(i=n.Seq)||void 0===i?void 0:i.call(n,e,t,s):m(t)?null===(r=n.Pair)||void 0===r?void 0:r.call(n,e,t,s):y(t)?null===(a=n.Scalar)||void 0===a?void 0:a.call(n,e,t,s):d(t)?null===(c=n.Alias)||void 0===c?void 0:c.call(n,e,t,s):void 0}function L(e,t,n){const s=t[t.length-1];if(v(s))s.items[e]=n;else if(m(s))"key"===e?s.key=n:s.value=n;else{if(!h(s)){const e=d(s)?"alias":"scalar";throw new Error("Cannot replace node with ".concat(e," parent"))}s.contents=n}}N.BREAK=w,N.SKIP=S,N.REMOVE=E,O.BREAK=w,O.SKIP=S,O.REMOVE=E;const C={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},_=e=>e.replace(/[!,[\]{}]/g,e=>C[e]);class F{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},F.defaultYaml,e),this.tags=Object.assign({},F.defaultTags,t)}clone(){const e=new F(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new F(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:F.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},F.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:F.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},F.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;{const n=/^\d+\.\d+$/.test(e);return t(6,"Unsupported YAML version ".concat(e),n),!1}}default:return t(0,"Unknown directive ".concat(s),!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t("Not a valid tag: ".concat(e)),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t("Verbatim tags aren't resolved, so ".concat(e," is invalid.")),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^([^]*!)([^!]*)$/);s||t("The ".concat(e," tag has no suffix"));const o=this.tags[n];if(o)try{return o+decodeURIComponent(s)}catch(i){return t(String(i)),null}return"!"===n?e:(t("Could not resolve tag: ".concat(e)),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+_(e.substring(n.length));return"!"===e[0]?e:"!<".concat(e,">")}toString(e){const t=this.yaml.explicit?["%YAML ".concat(this.yaml.version||"1.2")]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&b(e.contents)){const t={};N(e.contents,(e,n)=>{b(n)&&n.tag&&(t[n.tag]=!0)}),s=Object.keys(t)}else s=[];for(const[o,i]of n)"!!"===o&&"tag:yaml.org,2002:"===i||e&&!s.some(e=>e.startsWith(i))||t.push("%TAG ".concat(o," ").concat(i));return t.join("\n")}}function D(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e),n="Anchor must not contain whitespace or control characters: ".concat(t);throw new Error(n)}return!0}function B(e){const t=new Set;return N(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function K(e,t){for(let n=1;;++n){const s="".concat(e).concat(n);if(!t.has(s))return s}}function j(e,t,n,s){if(s&&"object"===typeof s)if(Array.isArray(s))for(let o=0,i=s.length;o<i;++o){const t=s[o],n=j(e,s,String(o),t);void 0===n?delete s[o]:n!==t&&(s[o]=n)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const t=s.get(o),n=j(e,s,o,t);void 0===n?s.delete(o):n!==t&&s.set(o,n)}else if(s instanceof Set)for(const o of Array.from(s)){const t=j(e,s,o,o);void 0===t?s.delete(o):t!==o&&(s.delete(o),s.add(t))}else for(const[o,i]of Object.entries(s)){const t=j(e,s,o,i);void 0===t?delete s[o]:t!==i&&(s[o]=t)}return e.call(t,n,s)}function M(e,t,n){if(Array.isArray(e))return e.map((e,t)=>M(e,String(t),n));if(e&&"function"===typeof e.toJSON){if(!n||!k(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!==typeof e||null!==n&&void 0!==n&&n.keep?e:Number(e)}F.defaultYaml={explicit:!1,version:"1.2"},F.defaultTags={"!!":"tag:yaml.org,2002:"};class P{constructor(e){Object.defineProperty(this,f,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e){let{mapAsMap:t,maxAliasCount:n,onAnchor:s,reviver:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!h(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"===typeof n?n:100},r=M(this,"",i);if("function"===typeof s)for(const{count:a,res:c}of i.anchors.values())s(c,a);return"function"===typeof o?j(o,{"":r},"",r):r}}class q extends P{constructor(e){super(i),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let n,s;null!==t&&void 0!==t&&t.aliasResolveCache?n=t.aliasResolveCache:(n=[],N(e,{Node:(e,t)=>{(d(t)||k(t))&&n.push(t)}}),t&&(t.aliasResolveCache=n));for(const o of n){if(o===this)break;o.anchor===this.source&&(s=o)}return s}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:o}=t,i=this.resolve(s,t);if(!i){const e="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new ReferenceError(e)}let r=n.get(i);if(r||(M(i,null,t),r=n.get(i)),!r||void 0===r.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(o>=0&&(r.count+=1,0===r.aliasCount&&(r.aliasCount=$(s,i,n)),r.count*r.aliasCount>o)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return r.res}toString(e,t,n){const s="*".concat(this.source);if(e){if(D(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new Error(e)}if(e.implicitKey)return"".concat(s," ")}return s}}function $(e,t,n){if(d(t)){const s=t.resolve(e),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}if(v(t)){let s=0;for(const o of t.items){const t=$(e,o,n);t>s&&(s=t)}return s}if(m(t)){const s=$(e,t.key,n),o=$(e,t.value,n);return Math.max(s,o)}return 1}const U=e=>!e||"function"!==typeof e&&"object"!==typeof e;class R extends P{constructor(e){super(l),this.value=e}toJSON(e,t){return null!==t&&void 0!==t&&t.keep?this.value:M(this.value,e,t)}toString(){return String(this.value)}}R.BLOCK_FOLDED="BLOCK_FOLDED",R.BLOCK_LITERAL="BLOCK_LITERAL",R.PLAIN="PLAIN",R.QUOTE_DOUBLE="QUOTE_DOUBLE",R.QUOTE_SINGLE="QUOTE_SINGLE";function z(e,t,n){var s,o,i;if(h(e)&&(e=e.contents),b(e))return e;if(m(e)){var r,c;const t=null===(r=(c=n.schema[a]).createNode)||void 0===r?void 0:r.call(c,n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:l,onAnchor:f,onTagObj:d,schema:p,sourceObjects:y}=n;let g;if(l&&e&&"object"===typeof e){var v;if(g=y.get(e),g)return null!==(v=g.anchor)&&void 0!==v||(g.anchor=f(e)),new q(g.anchor);g={anchor:null,node:null},y.set(e,g)}null!==(s=t)&&void 0!==s&&s.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let k=function(e,t,n){if(t){var s;const e=n.filter(e=>e.tag===t),o=null!==(s=e.find(e=>!e.format))&&void 0!==s?s:e[0];if(!o)throw new Error("Tag ".concat(t," not found"));return o}return n.find(t=>{var n;return(null===(n=t.identify)||void 0===n?void 0:n.call(t,e))&&!t.format})}(e,t,p.tags);if(!k){if(e&&"function"===typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==typeof e){const t=new R(e);return g&&(g.node=t),t}k=e instanceof Map?p[a]:Symbol.iterator in Object(e)?p[u]:p[a]}d&&(d(k),delete n.onTagObj);const w=null!==(o=k)&&void 0!==o&&o.createNode?k.createNode(n.schema,e,n):"function"===typeof(null===(i=k)||void 0===i||null===(i=i.nodeClass)||void 0===i?void 0:i.from)?k.nodeClass.from(n.schema,e,n):new R(e);return t?w.tag=t:k.default||(w.tag=k.tag),g&&(g.node=w),w}function V(e,t,n){let s=n;for(let o=t.length-1;o>=0;--o){const e=t[o];if("number"===typeof e&&Number.isInteger(e)&&e>=0){const t=[];t[e]=s,s=t}else s=new Map([[e,s]])}return z(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Y=e=>null==e||"object"===typeof e&&!!e[Symbol.iterator]().next().done;class J extends P{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>b(t)||m(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Y(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(v(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(s));this.set(n,V(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(v(s))return s.deleteIn(n);throw new Error("Expected YAML collection at ".concat(t,". Remaining path: ").concat(n))}getIn(e,t){const[n,...s]=e,o=this.get(n,!0);return 0===s.length?!t&&y(o)?o.value:o:v(o)?o.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!m(t))return!1;const n=t.value;return null==n||e&&y(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!v(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(v(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(s));this.set(n,V(this.schema,s,t))}}}}const G=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function W(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Q=(e,t,n)=>e.endsWith("\n")?W(n,t):n.includes("\n")?"\n"+W(n,t):(e.endsWith(" ")?"":" ")+n,H="flow",X="block",Z="quoted";function ee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!o||o<0)return e;o<i&&(i=0);const c=Math.max(1+i,1+o-t.length);if(e.length<=c)return e;const l=[],u={};let f,d,h=o-t.length;"number"===typeof s&&(s>o-Math.max(2,i)?l.push(0):h=o-s);let p=!1,m=-1,y=-1,g=-1;n===X&&(m=te(e,m,t.length),-1!==m&&(h=m+c));for(let b;b=e[m+=1];){if(n===Z&&"\\"===b){switch(y=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}g=m}if("\n"===b)n===X&&(m=te(e,m,t.length)),h=m+t.length+c,f=void 0;else{if(" "===b&&d&&" "!==d&&"\n"!==d&&"\t"!==d){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=m)}if(m>=h)if(f)l.push(f),h=f+c,f=void 0;else if(n===Z){for(;" "===d||"\t"===d;)d=b,b=e[m+=1],p=!0;const t=m>g+1?m-2:y-1;if(u[t])return e;l.push(t),u[t]=!0,h=t+c,f=void 0}else p=!0}d=b}if(p&&a&&a(),0===l.length)return e;r&&r();let v=e.slice(0,l[0]);for(let b=0;b<l.length;++b){const s=l[b],o=l[b+1]||e.length;0===s?v="\n".concat(t).concat(e.slice(0,o)):(n===Z&&u[s]&&(v+="".concat(e[s],"\\")),v+="\n".concat(t).concat(e.slice(s+1,o)))}return v}function te(e,t,n){let s=t,o=t+1,i=e[o];for(;" "===i||"\t"===i;)if(t<o+n)i=e[++t];else{do{i=e[++t]}while(i&&"\n"!==i);s=t,o=t+1,i=e[o]}return s}const ne=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),se=e=>/^(%|---|\.\.\.)/m.test(e);function oe(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,o=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(se(e)?"  ":"");let r="",a=0;for(let c=0,l=n[c];l;l=n[++c])if(" "===l&&"\\"===n[c+1]&&"n"===n[c+2]&&(r+=n.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),"\\"===l)switch(n[c+1]){case"u":{r+=n.slice(a,c);const e=n.substr(c+2,4);switch(e){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:"00"===e.substr(0,2)?r+="\\x"+e.substr(2):r+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(s||'"'===n[c+2]||n.length<o)c+=1;else{for(r+=n.slice(a,c)+"\n\n";"\\"===n[c+2]&&"n"===n[c+3]&&'"'!==n[c+4];)r+="\n",c+=2;r+=i," "===n[c+2]&&(r+="\\"),c+=1,a=c+1}break;default:c+=1}return r=a?r+n.slice(a):n,s?r:ee(r,i,Z,ne(t,!1))}function ie(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return oe(e,t);const n=t.indent||(se(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(n))+"'";return t.implicitKey?s:ee(s,n,H,ne(t,!1))}function re(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=oe;else{const t=e.includes('"'),o=e.includes("'");s=t&&!o?ie:o&&!t?oe:n?ie:oe}return s(e,t)}let ae;try{ae=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch(zn){ae=/\n+(?!\n|$)/g}function ce(e,t,n,s){let{comment:o,type:i,value:r}=e;const{blockQuote:a,commentString:c,lineWidth:l}=t.options;if(!a||/\n[\t ]+$/.test(r))return re(r,t);const u=t.indent||(t.forceBlockIndent||se(r)?"  ":""),f="literal"===a||"folded"!==a&&i!==R.BLOCK_FOLDED&&(i===R.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,o=e.length;if(o<=s)return!1;for(let i=0,r=0;i<o;++i)if("\n"===e[i]){if(i-r>s)return!0;if(r=i+1,o-r<=s)return!1}return!0}(r,l,u.length));if(!r)return f?"|\n":">\n";let d,h;for(h=r.length;h>0;--h){const e=r[h-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=r.substring(h);const m=p.indexOf("\n");-1===m?d="-":r===p||m!==p.length-1?(d="+",s&&s()):d="",p&&(r=r.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(ae,"$&".concat(u)));let y,g=!1,v=-1;for(y=0;y<r.length;++y){const e=r[y];if(" "===e)g=!0;else{if("\n"!==e)break;v=y}}let b=r.substring(0,v<y?v+1:y);b&&(r=r.substring(b.length),b=b.replace(/\n+/g,"$&".concat(u)));let k=(g?u?"2":"1":"")+d;if(o&&(k+=" "+c(o.replace(/ ?[\r\n]+/g," ")),n&&n()),!f){const e=r.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(u));let n=!1;const s=ne(t,!0);"folded"!==a&&i!==R.BLOCK_FOLDED&&(s.onOverflow=()=>{n=!0});const o=ee("".concat(b).concat(e).concat(p),u,X,s);if(!n)return">".concat(k,"\n").concat(u).concat(o)}return r=r.replace(/\n+/g,"$&".concat(u)),"|".concat(k,"\n").concat(u).concat(b).concat(r).concat(p)}function le(e,t,n,s){const{implicitKey:o,inFlow:i}=t,r="string"===typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==R.QUOTE_DOUBLE&&/(?:[\0-\x08\x0B-\x1F\x7F-\x9F]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/.test(r.value)&&(a=R.QUOTE_DOUBLE);const c=e=>{switch(e){case R.BLOCK_FOLDED:case R.BLOCK_LITERAL:return o||i?re(r.value,t):ce(r,t,n,s);case R.QUOTE_DOUBLE:return oe(r.value,t);case R.QUOTE_SINGLE:return ie(r.value,t);case R.PLAIN:return function(e,t,n,s){const{type:o,value:i}=e,{actualString:r,implicitKey:a,indent:c,indentStep:l,inFlow:u}=t;if(a&&i.includes("\n")||u&&/[[\]{},]/.test(i))return re(i,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes("\n")?re(i,t):ce(e,t,n,s);if(!a&&!u&&o!==R.PLAIN&&i.includes("\n"))return ce(e,t,n,s);if(se(i)){if(""===c)return t.forceBlockIndent=!0,ce(e,t,n,s);if(a&&c===l)return re(i,t)}const f=i.replace(/\n+/g,"$&\n".concat(c));if(r){const e=e=>{var t;return e.default&&"tag:yaml.org,2002:str"!==e.tag&&(null===(t=e.test)||void 0===t?void 0:t.test(f))},{compat:n,tags:s}=t.doc.schema;if(s.some(e)||null!==n&&void 0!==n&&n.some(e))return re(i,t)}return a?f:ee(f,c,H,ne(t,!1))}(r,t,n,s);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,s=o&&e||n;if(l=c(s),null===l)throw new Error("Unsupported default string type ".concat(s))}return l}function ue(e,t){const n=Object.assign({blockQuote:!0,commentString:G,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"===typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function fe(e,t,n,s){var o;if(m(e))return e.toString(t,n,s);if(d(e)){var i;if(t.doc.directives)return e.toString(t);if(null!==(i=t.resolvedAliases)&&void 0!==i&&i.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let r;const a=b(e)?e:t.doc.createNode(e,{onTagObj:e=>r=e});null!==r&&void 0!==r||(r=function(e,t){if(t.tag){var n;const s=e.filter(e=>e.tag===t.tag);if(s.length>0)return null!==(n=s.find(e=>e.format===t.format))&&void 0!==n?n:s[0]}let s,o;if(y(t)){var i;o=t.value;let n=e.filter(e=>{var t;return null===(t=e.identify)||void 0===t?void 0:t.call(e,o)});if(n.length>1){const e=n.filter(e=>e.test);e.length>0&&(n=e)}s=null!==(i=n.find(e=>e.format===t.format))&&void 0!==i?i:n.find(e=>!e.format)}else o=t,s=e.find(e=>e.nodeClass&&o instanceof e.nodeClass);if(!s){var r,a;const e=null!==(r=null===(a=o)||void 0===a||null===(a=a.constructor)||void 0===a?void 0:a.name)&&void 0!==r?r:null===o?"null":typeof o;throw new Error("Tag not resolved for ".concat(e," value"))}return s}(t.doc.schema.tags,a));const c=function(e,t,n){var s;let{anchors:o,doc:i}=n;if(!i.directives)return"";const r=[],a=(y(e)||v(e))&&e.anchor;a&&D(a)&&(o.add(a),r.push("&".concat(a)));const c=null!==(s=e.tag)&&void 0!==s?s:t.default?null:t.tag;return c&&r.push(i.directives.tagString(c)),r.join(" ")}(a,r,t);c.length>0&&(t.indentAtStart=(null!==(o=t.indentAtStart)&&void 0!==o?o:0)+c.length+1);const l="function"===typeof r.stringify?r.stringify(a,t,n,s):y(a)?le(a,t,n,s):a.toString(t,n,s);return c?y(a)||"{"===l[0]||"["===l[0]?"".concat(c," ").concat(l):"".concat(c,"\n").concat(t.indent).concat(l):l}function de(e,t){"debug"!==e&&"warn"!==e||console.warn(t)}const he="<<",pe={identify:e=>e===he||"symbol"===typeof e&&e.description===he,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new R(Symbol(he)),{addToJSMap:me}),stringify:()=>he};function me(e,t,n){if(n=e&&d(n)?n.resolve(e.doc):n,g(n))for(const s of n.items)ye(e,t,s);else if(Array.isArray(n))for(const s of n)ye(e,t,s);else ye(e,t,n)}function ye(e,t,n){const s=e&&d(n)?n.resolve(e.doc):n;if(!p(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,e,Map);for(const[i,r]of o)t instanceof Map?t.has(i)||t.set(i,r):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0});return t}function ge(e,t,n){let{key:s,value:o}=n;if(b(s)&&s.addToJSMap)s.addToJSMap(e,t,o);else if(((e,t)=>(pe.identify(t)||y(t)&&(!t.type||t.type===R.PLAIN)&&pe.identify(t.value))&&(null===e||void 0===e?void 0:e.doc.schema.tags.some(e=>e.tag===pe.tag&&e.default)))(e,s))me(e,t,o);else{const n=M(s,"",e);if(t instanceof Map)t.set(n,M(o,n,e));else if(t instanceof Set)t.add(n);else{const i=function(e,t,n){if(null===t)return"";if("object"!==typeof t)return String(t);if(b(e)&&null!==n&&void 0!==n&&n.doc){const t=ue(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),de(n.doc.options.logLevel,"Keys with collection values will be stringified due to JS Object restrictions: ".concat(e,". Set mapAsMap: true to use object keys.")),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(s,n,e),r=M(o,i,e);i in t?Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):t[i]=r}}return t}function ve(e,t,n){const s=z(e,void 0,n),o=z(t,void 0,n);return new be(s,o)}class be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.defineProperty(this,f,{value:c}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return b(t)&&(t=t.clone(e)),b(n)&&(n=n.clone(e)),new be(t,n)}toJSON(e,t){return ge(t,null!==t&&void 0!==t&&t.mapAsMap?new Map:{},this)}toString(e,t,n){return null!==e&&void 0!==e&&e.doc?function(e,t,n,s){let{key:o,value:i}=e;const{allNullValues:r,doc:a,indent:c,indentStep:l,options:{commentString:u,indentSeq:f,simpleKeys:d}}=t;let h=b(o)&&o.comment||null;if(d){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(v(o)||!b(o)&&"object"===typeof o)throw new Error("With simple keys, collection cannot be used as a key value")}let p=!d&&(!o||h&&null==i&&!t.inFlow||v(o)||(y(o)?o.type===R.BLOCK_FOLDED||o.type===R.BLOCK_LITERAL:"object"===typeof o));t=Object.assign({},t,{allNullValues:!1,implicitKey:!p&&(d||!r),indent:c+l});let m,k,w,S=!1,E=!1,N=fe(o,t,()=>S=!0,()=>E=!0);if(!p&&!t.inFlow&&N.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(t.inFlow){if(r||null==i)return S&&n&&n(),""===N?"?":p?"? ".concat(N):N}else if(r&&!d||null==i&&p)return N="? ".concat(N),h&&!S?N+=Q(N,t.indent,u(h)):E&&s&&s(),N;S&&(h=null),p?(h&&(N+=Q(N,t.indent,u(h))),N="? ".concat(N,"\n").concat(c,":")):(N="".concat(N,":"),h&&(N+=Q(N,t.indent,u(h)))),b(i)?(m=!!i.spaceBefore,k=i.commentBefore,w=i.comment):(m=!1,k=null,w=null,i&&"object"===typeof i&&(i=a.createNode(i))),t.implicitKey=!1,p||h||!y(i)||(t.indentAtStart=N.length+1),E=!1,f||!(l.length>=2)||t.inFlow||p||!g(i)||i.flow||i.tag||i.anchor||(t.indent=t.indent.substring(2));let A=!1;const O=fe(i,t,()=>A=!0,()=>E=!0);let T=" ";if(h||m||k){if(T=m?"\n":"",k){const e=u(k);T+="\n".concat(W(e,t.indent))}""!==O||t.inFlow?T+="\n".concat(t.indent):"\n"===T&&(T="\n\n")}else if(!p&&v(i)){var I,x;const e=O[0],n=O.indexOf("\n"),s=-1!==n,o=null!==(I=null!==(x=t.inFlow)&&void 0!==x?x:i.flow)&&void 0!==I?I:0===i.items.length;if(s||!o){let o=!1;if(s&&("&"===e||"!"===e)){let t=O.indexOf(" ");"&"===e&&-1!==t&&t<n&&"!"===O[t+1]&&(t=O.indexOf(" ",t+1)),(-1===t||n<t)&&(o=!0)}o||(T="\n".concat(t.indent))}}else""!==O&&"\n"!==O[0]||(T="");return N+=T+O,t.inFlow?A&&n&&n():w&&!A?N+=Q(N,t.indent,u(w)):E&&s&&s(),N}(this,e,t,n):JSON.stringify(this)}}function ke(e,t,n){var s;return((null!==(s=t.inFlow)&&void 0!==s?s:e.flow)?Se:we)(e,t,n)}function we(e,t,n){let{comment:s,items:o}=e,{blockItemPrefix:i,flowChars:r,itemIndent:a,onChompKeep:c,onComment:l}=n;const{indent:u,options:{commentString:f}}=t,d=Object.assign({},t,{indent:a,type:null});let h=!1;const p=[];for(let g=0;g<o.length;++g){const e=o[g];let n=null;if(b(e))!h&&e.spaceBefore&&p.push(""),Ee(t,p,e.commentBefore,h),e.comment&&(n=e.comment);else if(m(e)){const n=b(e.key)?e.key:null;n&&(!h&&n.spaceBefore&&p.push(""),Ee(t,p,n.commentBefore,h))}h=!1;let s=fe(e,d,()=>n=null,()=>h=!0);n&&(s+=Q(s,a,f(n))),h&&n&&(h=!1),p.push(i+s)}let y;if(0===p.length)y=r.start+r.end;else{y=p[0];for(let e=1;e<p.length;++e){const t=p[e];y+=t?"\n".concat(u).concat(t):"\n"}}return s?(y+="\n"+W(f(s),u),l&&l()):h&&c&&c(),y}function Se(e,t,n){let{items:s}=e,{flowChars:o,itemIndent:i}=n;const{indent:r,indentStep:a,flowCollectionPadding:c,options:{commentString:l}}=t;i+=a;const u=Object.assign({},t,{indent:i,inFlow:!0,type:null});let f=!1,d=0;const h=[];for(let g=0;g<s.length;++g){const e=s[g];let n=null;if(b(e))e.spaceBefore&&h.push(""),Ee(t,h,e.commentBefore,!1),e.comment&&(n=e.comment);else if(m(e)){const s=b(e.key)?e.key:null;s&&(s.spaceBefore&&h.push(""),Ee(t,h,s.commentBefore,!1),s.comment&&(f=!0));const o=b(e.value)?e.value:null;o?(o.comment&&(n=o.comment),o.commentBefore&&(f=!0)):null==e.value&&null!==s&&void 0!==s&&s.comment&&(n=s.comment)}n&&(f=!0);let o=fe(e,u,()=>n=null);g<s.length-1&&(o+=","),n&&(o+=Q(o,i,l(n))),!f&&(h.length>d||o.includes("\n"))&&(f=!0),h.push(o),d=h.length}const{start:p,end:y}=o;if(0===h.length)return p+y;if(!f){const e=h.reduce((e,t)=>e+t.length+2,2);f=t.options.lineWidth>0&&e>t.options.lineWidth}if(f){let e=p;for(const t of h)e+=t?"\n".concat(a).concat(r).concat(t):"\n";return"".concat(e,"\n").concat(r).concat(y)}return"".concat(p).concat(c).concat(h.join(" ")).concat(c).concat(y)}function Ee(e,t,n,s){let{indent:o,options:{commentString:i}}=e;if(n&&s&&(n=n.replace(/^\n+/,"")),n){const e=W(i(n),o);t.push(e.trimStart())}}function Ne(e,t){const n=y(t)?t.value:t;for(const s of e)if(m(s)){if(s.key===t||s.key===n)return s;if(y(s.key)&&s.key.value===n)return s}}class Ae extends J{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(a,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:o}=n,i=new this(e),r=(e,r)=>{if("function"===typeof o)r=o.call(t,e,r);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==r||s)&&i.items.push(ve(e,r,n))};if(t instanceof Map)for(const[a,c]of t)r(a,c);else if(t&&"object"===typeof t)for(const a of Object.keys(t))r(a,t[a]);return"function"===typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i}add(e,t){var n;let s;s=m(e)?e:e&&"object"===typeof e&&"key"in e?new be(e.key,e.value):new be(e,null===e||void 0===e?void 0:e.value);const o=Ne(this.items,s.key),i=null===(n=this.schema)||void 0===n?void 0:n.sortMapEntries;if(o){if(!t)throw new Error("Key ".concat(s.key," already set"));y(o.value)&&U(s.value)?o.value.value=s.value:o.value=s.value}else if(i){const e=this.items.findIndex(e=>i(s,e)<0);-1===e?this.items.push(s):this.items.splice(e,0,s)}else this.items.push(s)}delete(e){const t=Ne(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){var n;const s=Ne(this.items,e),o=null===s||void 0===s?void 0:s.value;return null!==(n=!t&&y(o)?o.value:o)&&void 0!==n?n:void 0}has(e){return!!Ne(this.items,e)}set(e,t){this.add(new be(e,t),!0)}toJSON(e,t,n){const s=n?new n:null!==t&&void 0!==t&&t.mapAsMap?new Map:{};null!==t&&void 0!==t&&t.onCreate&&t.onCreate(s);for(const o of this.items)ge(t,s,o);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!m(s))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(s)," instead"));return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ke(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Oe={collection:"map",default:!0,nodeClass:Ae,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(p(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>Ae.from(e,t,n)};class Te extends J{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(u,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Ie(e);if("number"!==typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=Ie(e);if("number"!==typeof n)return;const s=this.items[n];return!t&&y(s)?s.value:s}has(e){const t=Ie(e);return"number"===typeof t&&t<this.items.length}set(e,t){const n=Ie(e);if("number"!==typeof n)throw new Error("Expected a valid index, not ".concat(e,"."));const s=this.items[n];y(s)&&U(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];null!==t&&void 0!==t&&t.onCreate&&t.onCreate(n);let s=0;for(const o of this.items)n.push(M(o,String(s++),t));return n}toString(e,t,n){return e?ke(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:s}=n,o=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"===typeof s){const n=t instanceof Set?i:String(e++);i=s.call(t,n,i)}o.items.push(z(i,void 0,n))}}return o}}function Ie(e){let t=y(e)?e.value:e;return t&&"string"===typeof t&&(t=Number(t)),"number"===typeof t&&Number.isInteger(t)&&t>=0?t:null}const xe={collection:"seq",default:!0,nodeClass:Te,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(g(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>Te.from(e,t,n)},Le={identify:e=>"string"===typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,s)=>le(e,t=Object.assign({actualString:!0},t),n,s)},Ce={identify:e=>null==e,createNode:()=>new R(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new R(null),stringify:(e,t)=>{let{source:n}=e;return"string"===typeof n&&Ce.test.test(n)?n:t.options.nullStr}},_e={identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new R("t"===e[0]||"T"===e[0]),stringify(e,t){let{source:n,value:s}=e;if(n&&_e.test.test(n)){if(s===("t"===n[0]||"T"===n[0]))return n}return s?t.options.trueStr:t.options.falseStr}};function Fe(e){let{format:t,minFractionDigits:n,tag:s,value:o}=e;if("bigint"===typeof o)return String(o);const i="number"===typeof o?o:Number(o);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(o);if(!t&&n&&(!s||"tag:yaml.org,2002:float"===s)&&/^\d/.test(r)){let e=r.indexOf(".");e<0&&(e=r.length,r+=".");let t=n-(r.length-e-1);for(;t-- >0;)r+="0"}return r}const De={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Fe},Be={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Fe(e)}},Ke={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new R(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Fe},je=e=>"bigint"===typeof e||Number.isInteger(e),Me=(e,t,n,s)=>{let{intAsBigInt:o}=s;return o?BigInt(e):parseInt(e.substring(t),n)};function Pe(e,t,n){const{value:s}=e;return je(s)&&s>=0?n+s.toString(t):Fe(e)}const qe={identify:e=>je(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Me(e,2,8,n),stringify:e=>Pe(e,8,"0o")},$e={identify:je,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Me(e,0,10,n),stringify:Fe},Ue={identify:e=>je(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Me(e,2,16,n),stringify:e=>Pe(e,16,"0x")},Re=[Oe,xe,Le,Ce,_e,qe,$e,Ue,De,Be,Ke];function ze(e){return"bigint"===typeof e||Number.isInteger(e)}const Ve=e=>{let{value:t}=e;return JSON.stringify(t)},Ye=[Oe,xe].concat([{identify:e=>"string"===typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Ve},{identify:e=>null==e,createNode:()=>new R(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ve},{identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:Ve},{identify:ze,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,n)=>{let{intAsBigInt:s}=n;return s?BigInt(e):parseInt(e,10)},stringify:e=>{let{value:t}=e;return ze(t)?t.toString():JSON.stringify(t)}},{identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Ve}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t("Unresolved plain scalar ".concat(JSON.stringify(e))),e)}),Je={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"===typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify(e,t,n,s){let{comment:o,type:i,value:r}=e;if(!r)return"";const a=r;let c;if("function"!==typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<a.length;++t)e+=String.fromCharCode(a[t]);c=btoa(e)}if(null!==i&&void 0!==i||(i=R.BLOCK_LITERAL),i!==R.QUOTE_DOUBLE){const e=Math.max(t.options.lineWidth-t.indent.length,t.options.minContentWidth),n=Math.ceil(c.length/e),s=new Array(n);for(let t=0,o=0;t<n;++t,o+=e)s[t]=c.substr(o,e);c=s.join(i===R.BLOCK_LITERAL?"\n":" ")}return le({comment:o,type:i,value:c},t,n,s)}};function Ge(e,t){if(g(e))for(let s=0;s<e.items.length;++s){let o=e.items[s];if(!m(o)){if(p(o)){o.items.length>1&&t("Each pair must have its own sequence indicator");const e=o.items[0]||new be(new R(null));if(o.commentBefore&&(e.key.commentBefore=e.key.commentBefore?"".concat(o.commentBefore,"\n").concat(e.key.commentBefore):o.commentBefore),o.comment){var n;const t=null!==(n=e.value)&&void 0!==n?n:e.key;t.comment=t.comment?"".concat(o.comment,"\n").concat(t.comment):o.comment}o=e}e.items[s]=m(o)?o:new be(o)}}else t("Expected a sequence for this tag");return e}function We(e,t,n){const{replacer:s}=n,o=new Te(e);o.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let r of t){let e,a;if("function"===typeof s&&(r=s.call(t,String(i++),r)),Array.isArray(r)){if(2!==r.length)throw new TypeError("Expected [key, value] tuple: ".concat(r));e=r[0],a=r[1]}else if(r&&r instanceof Object){const t=Object.keys(r);if(1!==t.length)throw new TypeError("Expected tuple with one key, not ".concat(t.length," keys"));e=t[0],a=r[e]}else e=r;o.items.push(ve(e,a,n))}return o}const Qe={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ge,createNode:We};class He extends Te{constructor(){super(),this.add=Ae.prototype.add.bind(this),this.delete=Ae.prototype.delete.bind(this),this.get=Ae.prototype.get.bind(this),this.has=Ae.prototype.has.bind(this),this.set=Ae.prototype.set.bind(this),this.tag=He.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;null!==t&&void 0!==t&&t.onCreate&&t.onCreate(n);for(const s of this.items){let e,o;if(m(s)?(e=M(s.key,"",t),o=M(s.value,e,t)):e=M(s,"",t),n.has(e))throw new Error("Ordered maps must not include duplicate keys");n.set(e,o)}return n}static from(e,t,n){const s=We(e,t,n),o=new this;return o.items=s.items,o}}He.tag="tag:yaml.org,2002:omap";const Xe={collection:"seq",identify:e=>e instanceof Map,nodeClass:He,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Ge(e,t),s=[];for(const{key:o}of n.items)y(o)&&(s.includes(o.value)?t("Ordered maps must not include duplicate keys: ".concat(o.value)):s.push(o.value));return Object.assign(new He,n)},createNode:(e,t,n)=>He.from(e,t,n)};function Ze(e,t){let{value:n,source:s}=e;return s&&(n?et:tt).test.test(s)?s:n?t.options.trueStr:t.options.falseStr}const et={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new R(!0),stringify:Ze},tt={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new R(!1),stringify:Ze},nt={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Fe},st={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Fe(e)}},ot={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new R(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:Fe},it=e=>"bigint"===typeof e||Number.isInteger(e);function rt(e,t,n,s){let{intAsBigInt:o}=s;const i=e[0];if("-"!==i&&"+"!==i||(t+=1),e=e.substring(t).replace(/_/g,""),o){switch(n){case 2:e="0b".concat(e);break;case 8:e="0o".concat(e);break;case 16:e="0x".concat(e)}const t=BigInt(e);return"-"===i?BigInt(-1)*t:t}const r=parseInt(e,n);return"-"===i?-1*r:r}function at(e,t,n){const{value:s}=e;if(it(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return Fe(e)}const ct={identify:it,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>rt(e,2,2,n),stringify:e=>at(e,2,"0b")},lt={identify:it,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>rt(e,1,8,n),stringify:e=>at(e,8,"0")},ut={identify:it,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>rt(e,0,10,n),stringify:Fe},ft={identify:it,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>rt(e,2,16,n),stringify:e=>at(e,16,"0x")};class dt extends Ae{constructor(e){super(e),this.tag=dt.tag}add(e){let t;t=m(e)?e:e&&"object"===typeof e&&"key"in e&&"value"in e&&null===e.value?new be(e.key,null):new be(e,null);Ne(this.items,t.key)||this.items.push(t)}get(e,t){const n=Ne(this.items,e);return!t&&m(n)?y(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!==typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(typeof t));const n=Ne(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new be(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:s}=n,o=new this(e);if(t&&Symbol.iterator in Object(t))for(let i of t)"function"===typeof s&&(i=s.call(t,i,i)),o.items.push(ve(i,null,n));return o}}dt.tag="tag:yaml.org,2002:set";const ht={collection:"map",identify:e=>e instanceof Set,nodeClass:dt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>dt.from(e,t,n),resolve(e,t){if(p(e)){if(e.hasAllNullValues(!0))return Object.assign(new dt,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function pt(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=s.replace(/_/g,"").split(":").reduce((e,t)=>e*o(60)+o(t),o(0));return"-"===n?o(-1)*i:i}function mt(e){let{value:t}=e,n=e=>e;if("bigint"===typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Fe(e);let s="";t<0&&(s="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),s+i.map(e=>String(e).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const yt={identify:e=>"bigint"===typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,n)=>{let{intAsBigInt:s}=n;return pt(e,s)},stringify:mt},gt={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>pt(e,!1),stringify:mt},vt={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(vt.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,i,r,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,s-1,o,i||0,r||0,a||0,c);const u=t[8];if(u&&"Z"!==u){let e=pt(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:e=>{var t;let{value:n}=e;return null!==(t=null===n||void 0===n?void 0:n.toISOString().replace(/(T00:00:00)?\.000Z$/,""))&&void 0!==t?t:""}},bt=[Oe,xe,Le,Ce,et,tt,ct,lt,ut,ft,nt,st,ot,Je,pe,Xe,Qe,ht,yt,gt,vt],kt=new Map([["core",Re],["failsafe",[Oe,xe,Le]],["json",Ye],["yaml11",bt],["yaml-1.1",bt]]),wt={binary:Je,bool:_e,float:Ke,floatExp:Be,floatNaN:De,floatTime:gt,int:$e,intHex:Ue,intOct:qe,intTime:yt,map:Oe,merge:pe,null:Ce,omap:Xe,pairs:Qe,seq:xe,set:ht,timestamp:vt},St={"tag:yaml.org,2002:binary":Je,"tag:yaml.org,2002:merge":pe,"tag:yaml.org,2002:omap":Xe,"tag:yaml.org,2002:pairs":Qe,"tag:yaml.org,2002:set":ht,"tag:yaml.org,2002:timestamp":vt};function Et(e,t,n){const s=kt.get(t);if(s&&!e)return n&&!s.includes(pe)?s.concat(pe):s.slice();let o=s;if(!o){if(!Array.isArray(e)){const e=Array.from(kt.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw new Error('Unknown schema "'.concat(t,'"; use one of ').concat(e," or define customTags array"))}o=[]}if(Array.isArray(e))for(const i of e)o=o.concat(i);else"function"===typeof e&&(o=e(o.slice()));return n&&(o=o.concat(pe)),o.reduce((e,t)=>{const n="string"===typeof t?wt[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(wt).map(e=>JSON.stringify(e)).join(", ");throw new Error("Unknown custom tag ".concat(e,"; use one of ").concat(n))}return e.includes(n)||e.push(n),e},[])}const Nt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class At{constructor(e){let{compat:t,customTags:n,merge:s,resolveKnownTags:o,schema:i,sortMapEntries:r,toStringDefaults:c}=e;this.compat=Array.isArray(t)?Et(t,"compat"):t?Et(null,t):null,this.name="string"===typeof i&&i||"core",this.knownTags=o?St:{},this.tags=Et(n,this.name,s),this.toStringOptions=null!==c&&void 0!==c?c:null,Object.defineProperty(this,a,{value:Oe}),Object.defineProperty(this,l,{value:Le}),Object.defineProperty(this,u,{value:xe}),this.sortMapEntries="function"===typeof r?r:!0===r?Nt:null}clone(){const e=Object.create(At.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Ot{constructor(e,t,n){var s;this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,f,{value:r});let o=null;"function"===typeof t||Array.isArray(t)?o=t:void 0===n&&t&&(n=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:a}=i;null!==(s=n)&&void 0!==s&&s._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new F({version:a}),this.setSchema(a,n),this.contents=void 0===e?null:this.createNode(e,o,n)}clone(){const e=Object.create(Ot.prototype,{[f]:{value:r}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=b(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Tt(this.contents)&&this.contents.add(e)}addIn(e,t){Tt(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=B(this);e.anchor=!t||n.has(t)?K(t||"a",n):t}return new q(e.anchor)}createNode(e,t,n){let s;if("function"===typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"===typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:r,keepUndefined:a,onTagObj:c,tag:l}=null!==n&&void 0!==n?n:{},{onAnchor:u,setAnchors:f,sourceObjects:d}=function(e,t){const n=[],s=new Map;let o=null;return{onAnchor:s=>{n.push(s),null!==o&&void 0!==o||(o=B(e));const i=K(t,o);return o.add(i),i},setAnchors:()=>{for(const e of n){const t=s.get(e);if("object"!==typeof t||!t.anchor||!y(t.node)&&!v(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,i||"a"),h=z(e,l,{aliasDuplicateObjects:null===o||void 0===o||o,keepUndefined:null!==a&&void 0!==a&&a,onAnchor:u,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:d});return r&&v(h)&&(h.flow=!0),f(),h}createPair(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.createNode(e,null,n),o=this.createNode(t,null,n);return new be(s,o)}delete(e){return!!Tt(this.contents)&&this.contents.delete(e)}deleteIn(e){return Y(e)?null!=this.contents&&(this.contents=null,!0):!!Tt(this.contents)&&this.contents.deleteIn(e)}get(e,t){return v(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Y(e)?!t&&y(this.contents)?this.contents.value:this.contents:v(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!v(this.contents)&&this.contents.has(e)}hasIn(e){return Y(e)?void 0!==this.contents:!!v(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=V(this.schema,[e],t):Tt(this.contents)&&this.contents.set(e,t)}setIn(e,t){Y(e)?this.contents=t:null==this.contents?this.contents=V(this.schema,Array.from(e),t):Tt(this.contents)&&this.contents.setIn(e,t)}setSchema(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch("number"===typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new F({version:"1.1"}),t={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new F({version:e}),t={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,t=null;break;default:{const t=JSON.stringify(e);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: ".concat(t))}}if(n.schema instanceof Object)this.schema=n.schema;else{if(!t)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new At(Object.assign(t,n))}}toJS(){let{json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"===typeof s?s:100},a=M(this.contents,null!==t&&void 0!==t?t:"",r);if("function"===typeof o)for(const{count:c,res:l}of r.anchors.values())o(l,c);return"function"===typeof i?j(i,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error('"indent" option must be a positive integer, not '.concat(t))}return function(e,t){var n;const s=[];let o=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(s.push(t),o=!0):e.directives.docStart&&(o=!0)}o&&s.push("---");const i=ue(e,t),{commentString:r}=i.options;if(e.commentBefore){1!==s.length&&s.unshift("");const t=r(e.commentBefore);s.unshift(W(t,""))}let a=!1,c=null;if(e.contents){if(b(e.contents)){if(e.contents.spaceBefore&&o&&s.push(""),e.contents.commentBefore){const t=r(e.contents.commentBefore);s.push(W(t,""))}i.forceBlockIndent=!!e.comment,c=e.contents.comment}const t=c?void 0:()=>a=!0;let n=fe(e.contents,i,()=>c=null,t);c&&(n+=Q(n,"",r(c))),"|"!==n[0]&&">"!==n[0]||"---"!==s[s.length-1]?s.push(n):s[s.length-1]="--- ".concat(n)}else s.push(fe(e.contents,i));if(null!==(n=e.directives)&&void 0!==n&&n.docEnd)if(e.comment){const t=r(e.comment);t.includes("\n")?(s.push("..."),s.push(W(t,""))):s.push("... ".concat(t))}else s.push("...");else{let t=e.comment;t&&a&&(t=t.replace(/^\n+/,"")),t&&(a&&!c||""===s[s.length-1]||s.push(""),s.push(W(r(t),"")))}return s.join("\n")+"\n"}(this,e)}}function Tt(e){if(v(e))return!0;throw new Error("Expected a YAML collection as document contents")}class It extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class xt extends It{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Lt extends It{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Ct=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map(e=>t.linePos(e));const{line:s,col:o}=n.linePos[0];n.message+=" at line ".concat(s,", column ").concat(o);let i=o-1,r=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&r.length>80){const e=Math.min(i-39,r.length-79);r="\u2026"+r.substring(e),i-=e-1}if(r.length>80&&(r=r.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(r.substring(0,i))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\u2026\n"),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>o&&(e=Math.max(1,Math.min(t.col-o,80-i)));const a=" ".repeat(i)+"^".repeat(e);n.message+=":\n\n".concat(r,"\n").concat(a,"\n")}};function _t(e,t){let{flow:n,indicator:s,next:o,offset:i,onError:r,parentIndent:a,startOnNewline:c}=t,l=!1,u=c,f=c,d="",h="",p=!1,m=!1,y=null,g=null,v=null,b=null,k=null,w=null,S=null;for(const A of e)switch(m&&("space"!==A.type&&"newline"!==A.type&&"comma"!==A.type&&r(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(u&&"comment"!==A.type&&"newline"!==A.type&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),A.type){case"space":n||"doc-start"===s&&"flow-collection"===(null===o||void 0===o?void 0:o.type)||!A.source.includes("\t")||(y=A),f=!0;break;case"comment":{f||r(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=A.source.substring(1)||" ";d?d+=h+e:d=e,h="",u=!1;break}case"newline":u?d?d+=A.source:w&&"seq-item-ind"===s||(l=!0):h+=A.source,u=!0,p=!0,(g||v)&&(b=A),f=!0;break;case"anchor":g&&r(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&r(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=A,null!==S&&void 0!==S||(S=A.offset),u=!1,f=!1,m=!0;break;case"tag":v&&r(A,"MULTIPLE_TAGS","A node can have at most one tag"),v=A,null!==S&&void 0!==S||(S=A.offset),u=!1,f=!1,m=!0;break;case s:(g||v)&&r(A,"BAD_PROP_ORDER","Anchors and tags must be after the ".concat(A.source," indicator")),w&&r(A,"UNEXPECTED_TOKEN","Unexpected ".concat(A.source," in ").concat(null!==n&&void 0!==n?n:"collection")),w=A,u="seq-item-ind"===s||"explicit-key-ind"===s,f=!1;break;case"comma":if(n){k&&r(A,"UNEXPECTED_TOKEN","Unexpected , in ".concat(n)),k=A,u=!1,f=!1;break}default:r(A,"UNEXPECTED_TOKEN","Unexpected ".concat(A.type," token")),u=!1,f=!1}const E=e[e.length-1],N=E?E.offset+E.source.length:i;return m&&o&&"space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&("scalar"!==o.type||""!==o.source)&&r(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=a||"block-map"===(null===o||void 0===o?void 0:o.type)||"block-seq"===(null===o||void 0===o?void 0:o.type))&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:k,found:w,spaceBefore:l,comment:d,hasNewline:p,anchor:g,tag:v,newlineAfterProp:b,end:N,start:null!==S&&void 0!==S?S:N}}function Ft(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Ft(t.key)||Ft(t.value))return!0}return!1;default:return!0}}function Dt(e,t,n){if("flow-collection"===(null===t||void 0===t?void 0:t.type)){const s=t.end[0];if(s.indent===e&&("]"===s.source||"}"===s.source)&&Ft(t)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Bt(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const o="function"===typeof s?s:(e,t)=>e===t||y(e)&&y(t)&&e.value===t.value;return t.some(e=>o(e.key,n))}const Kt="All mapping items must start at the same column";function jt(e,t,n,s){let o="";if(e){let i=!1,r="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=r+t:o=t,r="";break}case"newline":o&&(r+=e),i=!0;break;default:s(a,"UNEXPECTED_TOKEN","Unexpected ".concat(c," at node end"))}t+=e.length}}return{comment:o,offset:t}}const Mt="Block collections are not allowed within flow collections",Pt=e=>e&&("block-map"===e.type||"block-seq"===e.type);function qt(e,t,n,s,o,i){const r="block-map"===n.type?function(e,t,n,s,o){var i;let{composeNode:r,composeEmptyNode:a}=e;const c=new(null!==(i=null===o||void 0===o?void 0:o.nodeClass)&&void 0!==i?i:Ae)(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,u=null;for(const d of n.items){var f;const{start:e,key:o,sep:i,value:h}=d,p=_t(e,{indicator:"explicit-key-ind",next:null!==o&&void 0!==o?o:null===i||void 0===i?void 0:i[0],offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0}),m=!p.found;if(m){if(o&&("block-seq"===o.type?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in o&&o.indent!==n.indent&&s(l,"BAD_INDENT",Kt)),!p.anchor&&!p.tag&&!i){u=p.end,p.comment&&(c.comment?c.comment+="\n"+p.comment:c.comment=p.comment);continue}(p.newlineAfterProp||Ft(o))&&s(null!==o&&void 0!==o?o:e[e.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else(null===(f=p.found)||void 0===f?void 0:f.indent)!==n.indent&&s(l,"BAD_INDENT",Kt);t.atKey=!0;const y=p.end,g=o?r(t,o,p,s):a(t,y,e,null,p,s);t.schema.compat&&Dt(n.indent,o,s),t.atKey=!1,Bt(t,c.items,g)&&s(y,"DUPLICATE_KEY","Map keys must be unique");const v=_t(null!==i&&void 0!==i?i:[],{indicator:"map-value-ind",next:h,offset:g.range[2],onError:s,parentIndent:n.indent,startOnNewline:!o||"block-scalar"===o.type});if(l=v.end,v.found){m&&("block-map"!==(null===h||void 0===h?void 0:h.type)||v.hasNewline||s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&p.start<v.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const e=h?r(t,h,v,s):a(t,l,i,null,v,s);t.schema.compat&&Dt(n.indent,h,s),l=e.range[2];const o=new be(g,e);t.options.keepSourceTokens&&(o.srcToken=d),c.items.push(o)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+="\n"+v.comment:g.comment=v.comment);const e=new be(g);t.options.keepSourceTokens&&(e.srcToken=d),c.items.push(e)}}return u&&u<l&&s(u,"IMPOSSIBLE","Map comment with trailing content"),c.range=[n.offset,l,null!==u&&void 0!==u?u:l],c}(e,t,n,s,i):"block-seq"===n.type?function(e,t,n,s,o){var i;let{composeNode:r,composeEmptyNode:a}=e;const c=new(null!==(i=null===o||void 0===o?void 0:o.nodeClass)&&void 0!==i?i:Te)(t.schema);t.atRoot&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let l=n.offset,u=null;for(const{start:f,value:d}of n.items){const e=_t(f,{indicator:"seq-item-ind",next:d,offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0});if(!e.found){if(!(e.anchor||e.tag||d)){u=e.end,e.comment&&(c.comment=e.comment);continue}d&&"block-seq"===d.type?s(e.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator")}const o=d?r(t,d,e,s):a(t,e.end,f,null,e,s);t.schema.compat&&Dt(n.indent,d,s),l=o.range[2],c.items.push(o)}return c.range=[n.offset,l,null!==u&&void 0!==u?u:l],c}(e,t,n,s,i):function(e,t,n,s,o){var i;let{composeNode:r,composeEmptyNode:a}=e;const c="{"===n.start.source,l=c?"flow map":"flow sequence",u=new(null!==(i=null===o||void 0===o?void 0:o.nodeClass)&&void 0!==i?i:c?Ae:Te)(t.schema);u.flow=!0;const f=t.atRoot;f&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let d=n.offset+n.start.source.length;for(let b=0;b<n.items.length;++b){const e=n.items[b],{start:o,key:i,sep:f,value:p}=e,y=_t(o,{flow:l,indicator:"explicit-key-ind",next:null!==i&&void 0!==i?i:null===f||void 0===f?void 0:f[0],offset:d,onError:s,parentIndent:n.indent,startOnNewline:!1});if(!y.found){if(!y.anchor&&!y.tag&&!f&&!p){0===b&&y.comma?s(y.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(l)):b<n.items.length-1&&s(y.start,"UNEXPECTED_TOKEN","Unexpected empty item in ".concat(l)),y.comment&&(u.comment?u.comment+="\n"+y.comment:u.comment=y.comment),d=y.end;continue}!c&&t.options.strict&&Ft(i)&&s(i,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===b)y.comma&&s(y.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(l));else if(y.comma||s(y.start,"MISSING_CHAR","Missing , between ".concat(l," items")),y.comment){let e="";e:for(const t of o)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){var h;let t=u.items[u.items.length-1];m(t)&&(t=null!==(h=t.value)&&void 0!==h?h:t.key),t.comment?t.comment+="\n"+e:t.comment=e,y.comment=y.comment.substring(e.length+1)}}if(c||f||y.found){t.atKey=!0;const h=y.end,m=i?r(t,i,y,s):a(t,h,o,null,y,s);Pt(i)&&s(m.range,"BLOCK_IN_FLOW",Mt),t.atKey=!1;const g=_t(null!==f&&void 0!==f?f:[],{flow:l,indicator:"map-value-ind",next:p,offset:m.range[2],onError:s,parentIndent:n.indent,startOnNewline:!1});if(g.found){if(!c&&!y.found&&t.options.strict){if(f)for(const e of f){if(e===g.found)break;if("newline"===e.type){s(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}y.start<g.found.offset-1024&&s(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&":"===p.source[0]?s(p,"MISSING_CHAR","Missing space after : in ".concat(l)):s(g.start,"MISSING_CHAR","Missing , or : between ".concat(l," items")));const v=p?r(t,p,g,s):g.found?a(t,g.end,f,null,g,s):null;v?Pt(p)&&s(v.range,"BLOCK_IN_FLOW",Mt):g.comment&&(m.comment?m.comment+="\n"+g.comment:m.comment=g.comment);const b=new be(m,v);if(t.options.keepSourceTokens&&(b.srcToken=e),c){const e=u;Bt(t,e.items,m)&&s(h,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Ae(t.schema);e.flow=!0,e.items.push(b);const n=(null!==v&&void 0!==v?v:m).range;e.range=[m.range[0],n[1],n[2]],u.items.push(e)}d=v?v.range[2]:g.end}else{const e=p?r(t,p,y,s):a(t,y.end,f,null,y,s);u.items.push(e),d=e.range[2],Pt(p)&&s(e.range,"BLOCK_IN_FLOW",Mt)}}const p=c?"}":"]",[y,...g]=n.end;let v=d;if(y&&y.source===p)v=y.offset+y.source.length;else{const e=l[0].toUpperCase()+l.substring(1);s(d,f?"MISSING_CHAR":"BAD_INDENT",f?"".concat(e," must end with a ").concat(p):"".concat(e," in block collection must be sufficiently indented and end with a ").concat(p)),y&&1!==y.source.length&&g.unshift(y)}if(g.length>0){const e=jt(g,v,t.options.strict,s);e.comment&&(u.comment?u.comment+="\n"+e.comment:u.comment=e.comment),u.range=[n.offset,v,e.offset]}else u.range=[n.offset,v,v];return u}(e,t,n,s,i),a=r.constructor;return"!"===o||o===a.tagName?(r.tag=a.tagName,r):(o&&(r.tag=o),r)}function $t(e,t,n){const s=t.offset,o=function(e,t,n){let{offset:s,props:o}=e;if("block-scalar-header"!==o[0].type)return n(o[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=o[0],r=i[0];let a=0,c="",l=-1;for(let h=1;h<i.length;++h){const e=i[h];if(c||"-"!==e&&"+"!==e){const t=Number(e);!a&&t?a=t:-1===l&&(l=s+h)}else c=e}-1!==l&&n(l,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: ".concat(i));let u=!1,f="",d=i.length;for(let h=1;h<o.length;++h){const e=o[h];switch(e.type){case"space":u=!0;case"newline":d+=e.source.length;break;case"comment":if(t&&!u){n(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}d+=e.source.length,f=e.source.substring(1);break;case"error":n(e,"UNEXPECTED_TOKEN",e.message),d+=e.source.length;break;default:{n(e,"UNEXPECTED_TOKEN","Unexpected token in block scalar header: ".concat(e.type));const t=e.source;t&&"string"===typeof t&&(d+=t.length)}}}return{mode:r,indent:a,chomp:c,comment:f,length:d}}(t,e.options.strict,n);if(!o)return{value:"",type:null,comment:"",range:[s,s,s]};const i=">"===o.mode?R.BLOCK_FOLDED:R.BLOCK_LITERAL,r=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),o=[null!==s&&void 0!==s&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let i=1;i<t.length;i+=2)o.push([t[i],t[i+1]]);return o}(t.source):[];let a=r.length;for(let m=r.length-1;m>=0;--m){const e=r[m][1];if(""!==e&&"\r"!==e)break;a=m}if(0===a){const e="+"===o.chomp&&r.length>0?"\n".repeat(Math.max(1,r.length-1)):"";let n=s+o.length;return t.source&&(n+=t.source.length),{value:e,type:i,comment:o.comment,range:[s,n,n]}}let c=t.indent+o.indent,l=t.offset+o.length,u=0;for(let m=0;m<a;++m){const[t,s]=r[m];if(""!==s&&"\r"!==s){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}if(0===o.indent&&(c=t.length),u=m,0===c&&!e.atRoot){n(l,"BAD_INDENT","Block scalar values in collections must be indented")}break}0===o.indent&&t.length>c&&(c=t.length),l+=t.length+s.length+1}for(let m=r.length-1;m>=a;--m)r[m][0].length>c&&(a=m+1);let f="",d="",h=!1;for(let m=0;m<u;++m)f+=r[m][0].slice(c)+"\n";for(let m=u;m<a;++m){let[e,t]=r[m];l+=e.length+t.length+1;const s="\r"===t[t.length-1];if(s&&(t=t.slice(0,-1)),t&&e.length<c){const i=o.indent?"explicit indentation indicator":"first line",r="Block scalar lines must not be less indented than their ".concat(i);n(l-t.length-(s?2:1),"BAD_INDENT",r),e=""}i===R.BLOCK_LITERAL?(f+=d+e.slice(c)+t,d="\n"):e.length>c||"\t"===t[0]?(" "===d?d="\n":h||"\n"!==d||(d="\n\n"),f+=d+e.slice(c)+t,d="\n",h=!0):""===t?"\n"===d?f+="\n":d="\n":(f+=d+t,d=" ",h=!1)}switch(o.chomp){case"-":break;case"+":for(let e=a;e<r.length;++e)f+="\n"+r[e][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const p=s+o.length+t.source.length;return{value:f,type:i,comment:o.comment,range:[s,p,p]}}function Ut(e,t,n){const{offset:s,type:o,source:i,end:r}=e;let a,c;const l=(e,t,o)=>n(s+e,t,o);switch(o){case"scalar":a=R.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n="block scalar indicator ".concat(e[0]);break;case"@":case"`":n="reserved character ".concat(e[0])}n&&t(0,"BAD_SCALAR_START","Plain value cannot start with ".concat(n));return Rt(e)}(i,l);break;case"single-quoted-scalar":a=R.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return Rt(e.slice(1,-1)).replace(/''/g,"'")}(i,l);break;case"double-quoted-scalar":a=R.QUOTE_DOUBLE,c=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const o=e[s];if("\r"!==o||"\n"!==e[s+1])if("\n"===o){const{fold:t,offset:o}=zt(e,s);n+=t,s=o}else if("\\"===o){let o=e[++s];const i=Vt[o];if(i)n+=i;else if("\n"===o)for(o=e[s+1];" "===o||"\t"===o;)o=e[1+ ++s];else if("\r"===o&&"\n"===e[s+1])for(o=e[1+ ++s];" "===o||"\t"===o;)o=e[1+ ++s];else if("x"===o||"u"===o||"U"===o){const i={x:2,u:4,U:8}[o];n+=Yt(e,s+1,i,t),s+=i}else{const o=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(o)),n+=o}}else if(" "===o||"\t"===o){const t=s;let i=e[s+1];for(;" "===i||"\t"===i;)i=e[1+ ++s];"\n"===i||"\r"===i&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):o)}else n+=o}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(i,l);break;default:return n(e,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: ".concat(o)),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=jt(r,u,t,n);return{value:c,type:a,comment:f.comment,range:[s,u,f.offset]}}function Rt(e){var t,n;let s,o;try{s=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),o=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(zn){s=/([^]*?)[ \t]*\r?\n/y,o=/[ \t]*([^]*?)[ \t]*\r?\n/y}let i=s.exec(e);if(!i)return e;let r=i[1],a=" ",c=s.lastIndex;for(o.lastIndex=c;i=o.exec(e);)""===i[1]?"\n"===a?r+=a:a="\n":(r+=a+i[1],a=" "),c=o.lastIndex;const l=/[ \t]*([^]*)/y;return l.lastIndex=c,i=l.exec(e),r+a+(null!==(t=null===(n=i)||void 0===n?void 0:n[1])&&void 0!==t?t:"")}function zt(e,t){let n="",s=e[t+1];for(;(" "===s||"\t"===s||"\n"===s||"\r"===s)&&("\r"!==s||"\n"===e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Vt={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Yt(e,t,n,s){const o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(o)),o}return String.fromCodePoint(i)}function Jt(e,t,n,s){const{value:o,type:i,comment:r,range:a}="block-scalar"===t.type?$t(e,t,s):Ut(t,e.options.strict,s),c=n?e.directives.tagName(n.source,e=>s(n,"TAG_RESOLVE_FAILED",e)):null;let u,f;u=e.options.stringKeys&&e.atKey?e.schema[l]:c?function(e,t,n,s,o){if("!"===n)return e[l];const i=[];for(const c of e.tags)if(!c.collection&&c.tag===n){if(!c.default||!c.test)return c;i.push(c)}for(const c of i){var r;if(null!==(r=c.test)&&void 0!==r&&r.test(t))return c}const a=e.knownTags[n];if(a&&!a.collection)return e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a;return o(s,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(n),"tag:yaml.org,2002:str"!==n),e[l]}(e.schema,o,c,n,s):"scalar"===t.type?function(e,t,n,s){let{atKey:o,directives:i,schema:r}=e;const a=r.tags.find(e=>{var n;return(!0===e.default||o&&"key"===e.default)&&(null===(n=e.test)||void 0===n?void 0:n.test(t))})||r[l];if(r.compat){var c;const e=null!==(c=r.compat.find(e=>{var n;return e.default&&(null===(n=e.test)||void 0===n?void 0:n.test(t))}))&&void 0!==c?c:r[l];if(a.tag!==e.tag){const t=i.tagString(a.tag),o=i.tagString(e.tag);s(n,"TAG_RESOLVE_FAILED","Value may be parsed as either ".concat(t," or ").concat(o),!0)}}return a}(e,o,t,s):e.schema[l];try{const i=u.resolve(o,e=>s(null!==n&&void 0!==n?n:t,"TAG_RESOLVE_FAILED",e),e.options);f=y(i)?i:new R(i)}catch(d){const e=d instanceof Error?d.message:String(d);s(null!==n&&void 0!==n?n:t,"TAG_RESOLVE_FAILED",e),f=new R(o)}return f.range=a,f.source=o,i&&(f.type=i),c&&(f.tag=c),u.format&&(f.format=u.format),r&&(f.comment=r),f}function Gt(e,t,n){if(t){null!==n&&void 0!==n||(n=t.length);for(let o=n-1;o>=0;--o){let n=t[o];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++o];"space"===(null===(s=n)||void 0===s?void 0:s.type);){var s;e+=n.source.length,n=t[++o]}break}}return e}const Wt={composeNode:Qt,composeEmptyNode:Ht};function Qt(e,t,n,s){const o=e.atKey,{spaceBefore:i,comment:r,anchor:a,tag:c}=n;let l,u=!0;switch(t.type){case"alias":l=function(e,t,n){let{options:s}=e,{offset:o,source:i,end:r}=t;const a=new q(i.substring(1));""===a.source&&n(o,"BAD_ALIAS","Alias cannot be an empty string");a.source.endsWith(":")&&n(o+i.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=o+i.length,l=jt(r,c,s.strict,n);a.range=[o,c,l.offset],l.comment&&(a.comment=l.comment);return a}(e,t,s),(a||c)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=Jt(e,t,c,s),a&&(l.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=function(e,t,n,s,o){var i,r,a,c;const l=s.tag,u=l?t.directives.tagName(l.source,e=>o(l,"TAG_RESOLVE_FAILED",e)):null;if("block-seq"===n.type){const{anchor:e,newlineAfterProp:t}=s,n=e&&l?e.offset>l.offset?e:l:null!==e&&void 0!==e?e:l;n&&(!t||t.offset<n.offset)&&o(n,"MISSING_CHAR","Missing newline after block sequence props")}const f="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!l||!u||"!"===u||u===Ae.tagName&&"map"===f||u===Te.tagName&&"seq"===f)return qt(e,t,n,o,u);let d=t.schema.tags.find(e=>e.tag===u&&e.collection===f);if(!d){const s=t.schema.knownTags[u];var h;if(!s||s.collection!==f)return s?o(l,"BAD_COLLECTION_TYPE","".concat(s.tag," used for ").concat(f," collection, but expects ").concat(null!==(h=s.collection)&&void 0!==h?h:"scalar"),!0):o(l,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(u),!0),qt(e,t,n,o,u);t.schema.tags.push(Object.assign({},s,{default:!1})),d=s}const p=qt(e,t,n,o,u,d),m=null!==(i=null===(r=(a=d).resolve)||void 0===r?void 0:r.call(a,p,e=>o(l,"TAG_RESOLVE_FAILED",e),t.options))&&void 0!==i?i:p,y=b(m)?m:new R(m);return y.range=p.range,y.tag=u,null!==(c=d)&&void 0!==c&&c.format&&(y.format=d.format),y}(Wt,e,t,n,s),a&&(l.anchor=a.source.substring(1));break;default:s(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:"Unsupported token (type: ".concat(t.type,")")),l=Ht(e,t.offset,void 0,null,n,s),u=!1}if(a&&""===l.anchor&&s(a,"BAD_ALIAS","Anchor cannot be an empty string"),o&&e.options.stringKeys&&(!y(l)||"string"!==typeof l.value||l.tag&&"tag:yaml.org,2002:str"!==l.tag)){s(null!==c&&void 0!==c?c:t,"NON_STRING_KEY","With stringKeys, all keys must be strings")}return i&&(l.spaceBefore=!0),r&&("scalar"===t.type&&""===t.source?l.comment=r:l.commentBefore=r),e.options.keepSourceTokens&&u&&(l.srcToken=t),l}function Ht(e,t,n,s,o,i){let{spaceBefore:r,comment:a,anchor:c,tag:l,end:u}=o;const f=Jt(e,{type:"scalar",offset:Gt(t,n,s),indent:-1,source:""},l,i);return c&&(f.anchor=c.source.substring(1),""===f.anchor&&i(c,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),a&&(f.comment=a,f.range[2]=u),f}function Xt(e){if("number"===typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"===typeof n?n.length:1)]}function Zt(e){var t;let n="",s=!1,o=!1;for(let i=0;i<e.length;++i){const r=e[i];switch(r[0]){case"#":n+=(""===n?"":o?"\n\n":"\n")+(r.substring(1)||" "),s=!0,o=!1;break;case"%":"#"!==(null===(t=e[i+1])||void 0===t?void 0:t[0])&&(i+=1),s=!1;break;default:s||(o=!0),s=!1}}return{comment:n,afterEmptyLine:o}}class en{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const o=Xt(e);s?this.warnings.push(new Lt(o,t,n)):this.errors.push(new xt(o,t,n))},this.directives=new F({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=Zt(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?"".concat(e.comment,"\n").concat(n):n;else if(s||e.directives.docStart||!o)e.commentBefore=n;else if(v(o)&&!o.flow&&o.items.length>0){let e=o.items[0];m(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?"".concat(n,"\n").concat(t):n}else{const e=o.commentBefore;o.commentBefore=e?"".concat(n,"\n").concat(e):n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Zt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}compose(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return function*(){for(const n of e)yield*t.next(n);yield*t.end(n,s)}()}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,s)=>{const o=Xt(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,n,s){let{offset:o,start:i,value:r,end:a}=n;const c=Object.assign({_directives:t},e),l=new Ot(void 0,c),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=_t(i,{indicator:"doc-start",next:null!==r&&void 0!==r?r:null===a||void 0===a?void 0:a[0],offset:o,onError:s,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,!r||"block-map"!==r.type&&"block-seq"!==r.type||f.hasNewline||s(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Qt(u,r,f,s):Ht(u,f.end,i,null,f,s);const d=l.contents.range[2],h=jt(a,d,!1,s);return h.comment&&(l.comment=h.comment),l.range=[o,d,h.offset],l}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?"".concat(e.message,": ").concat(JSON.stringify(e.source)):e.message,n=new xt(Xt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new xt(Xt(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=jt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?"".concat(e,"\n").concat(t.comment):t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new xt(Xt(e),"UNEXPECTED_TOKEN","Unsupported token ".concat(e.type)))}}end(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return function*(){if(e.doc)e.decorate(e.doc,!0),yield e.doc,e.doc=null;else if(t){const t=Object.assign({_directives:e.directives},e.options),s=new Ot(void 0,t);e.atDirectives&&e.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],e.decorate(s,!1),yield s}}()}}function tn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e){const s=(e,t,s)=>{const o="number"===typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new xt([o,o+1],t,s);n(o,t,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Ut(e,t,s);case"block-scalar":return $t({options:{strict:t}},e,s)}}return null}function nn(e,t){var n;const{implicitKey:s=!1,indent:o,inFlow:i=!1,offset:r=-1,type:a="PLAIN"}=t,c=le({type:a,value:e},{implicitKey:s,indent:o>0?" ".repeat(o):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=null!==(n=t.end)&&void 0!==n?n:[{type:"newline",offset:-1,indent:o,source:"\n"}];switch(c[0]){case"|":case">":{const e=c.indexOf("\n"),t=c.substring(0,e),n=c.substring(e+1)+"\n",s=[{type:"block-scalar-header",offset:r,indent:o,source:t}];return on(s,l)||s.push({type:"newline",offset:-1,indent:o,source:"\n"}),{type:"block-scalar",offset:r,indent:o,props:s,source:n}}case'"':return{type:"double-quoted-scalar",offset:r,indent:o,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:o,source:c,end:l};default:return{type:"scalar",offset:r,indent:o,source:c,end:l}}}function sn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{afterKey:s=!1,implicitKey:o=!1,inFlow:i=!1,type:r}=n,a="indent"in e?e.indent:null;if(s&&"number"===typeof a&&(a+=2),!r)switch(e.type){case"single-quoted-scalar":r="QUOTE_SINGLE";break;case"double-quoted-scalar":r="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");r=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:r="PLAIN"}const c=le({type:r,value:t},{implicitKey:o||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),s=t.substring(0,n),o=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=s,e.source=o}else{const{offset:t}=e,n="indent"in e?e.indent:-1,i=[{type:"block-scalar-header",offset:t,indent:n,source:s}];on(i,"end"in e?e.end:void 0)||i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const s of Object.keys(e))"type"!==s&&"offset"!==s&&delete e[s];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:o})}}(e,c);break;case'"':rn(e,c,"double-quoted-scalar");break;case"'":rn(e,c,"single-quoted-scalar");break;default:rn(e,c,"scalar")}}function on(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function rn(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const s=e.props.slice(1);let o=t.length;"block-scalar-header"===e.props[0].type&&(o-=e.props[0].source.length);for(const e of s)e.offset+=o;delete e.props,Object.assign(e,{type:n,source:t,end:s});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const s="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter(e=>"space"===e.type||"comment"===e.type||"newline"===e.type):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:s,source:t,end:o})}}}const an=e=>"type"in e?cn(e):ln(e);function cn(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=cn(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=ln(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=ln(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=ln(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function ln(e){let{start:t,key:n,sep:s,value:o}=e,i="";for(const r of t)i+=r.source;if(n&&(i+=cn(n)),s)for(const r of s)i+=r.source;return o&&(i+=cn(o)),i}const un=Symbol("break visit"),fn=Symbol("skip children"),dn=Symbol("remove item");function hn(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),pn(Object.freeze([]),e,t)}function pn(e,t,n){let s=n(t,e);if("symbol"===typeof s)return s;for(const o of["key","value"]){const i=t[o];if(i&&"items"in i){for(let t=0;t<i.items.length;++t){const s=pn(Object.freeze(e.concat([[o,t]])),i.items[t],n);if("number"===typeof s)t=s-1;else{if(s===un)return un;s===dn&&(i.items.splice(t,1),t-=1)}}"function"===typeof s&&"key"===o&&(s=s(t,e))}}return"function"===typeof s?s(t,e):s}hn.BREAK=un,hn.SKIP=fn,hn.REMOVE=dn,hn.itemAtPath=(e,t)=>{let n=e;for(const[o,i]of t){var s;const e=null===(s=n)||void 0===s?void 0:s[o];if(!e||!("items"in e))return;n=e.items[i]}return n},hn.parentCollection=(e,t)=>{const n=hn.itemAtPath(e,t.slice(0,-1)),s=t[t.length-1][0],o=null===n||void 0===n?void 0:n[s];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};const mn="\ufeff",yn="\x02",gn="\x18",vn="\x1f",bn=e=>!!e&&"items"in e,kn=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type);function wn(e){switch(e){case mn:return"<BOM>";case yn:return"<DOC>";case gn:return"<FLOW_END>";case vn:return"<SCALAR>";default:return JSON.stringify(e)}}function Sn(e){switch(e){case mn:return"byte-order-mark";case yn:return"doc-mode";case gn:return"flow-error-end";case vn:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function En(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const Nn=new Set("0123456789ABCDEFabcdef"),An=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),On=new Set(",[]{}"),Tn=new Set(" ,[]{}\n\r\t"),In=e=>!e||Tn.has(e);class xn{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}lex(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(s){if(e){if("string"!==typeof e)throw TypeError("source is not a string");t.buffer=t.buffer?t.buffer+e:e,t.lineEndPos=null}t.atEnd=!n;let o=null!==(s=t.next)&&void 0!==s?s:"stream";for(;o&&(n||t.hasChars(1));)o=yield*t.parseNext(o)}()}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&En(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!==typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===mn&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const s=e[n-1];if(" "===s||"\t"===s){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield yn,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(("---"===e||"..."===e)&&En(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!En(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&En(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(In),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&En(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield gn,yield*this.parseLineStart()}let o=0;for(;","===s[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(In),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||En(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>En(e)||"#"===e)}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let o=this.pos;e=this.buffer[o];++o)switch(e){case" ":n+=1;break;case"\n":t=o,n=0;break;case"\r":{const e=this.buffer[o+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(e=this.buffer[s];" "===e;)e=this.buffer[++s];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const o=e;for(;" "===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>o))break;t=e}return yield vn,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(":"===t){const t=this.buffer[s+1];if(En(t)||e&&On.has(t))break;n=s}else if(En(t)){let o=this.buffer[s+1];if("\r"===t&&("\n"===o?(s+=1,t="\n",o=this.buffer[s+1]):n=s),"#"===o||e&&On.has(o))break;if("\n"===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&On.has(t))break;n=s}return t||this.atEnd?(yield vn,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(In))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(En(t)||e&&On.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!En(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(An.has(t))t=this.buffer[++e];else{if("%"!==t||!Nn.has(this.buffer[e+1])||!Nn.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Ln{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function Cn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function _n(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Fn(e){switch(null===e||void 0===e?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Dn(e){switch(e.type){case"document":return e.start;case"block-map":{var t;const n=e.items[e.items.length-1];return null!==(t=n.sep)&&void 0!==t?t:n.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Bn(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===(null===(n=e[++t])||void 0===n?void 0:n.type);)var n;return e.splice(t,e.length)}function Kn(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||Cn(t.start,"explicit-key-ind")||Cn(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,Fn(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class jn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new xn,this.onNewLine=e}parse(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){t.onNewLine&&0===t.offset&&t.onNewLine(0);for(const s of t.lexer.lex(e,n))yield*t.next(s);n||(yield*t.end())}()}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=Sn(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t="Not a YAML token: ".concat(e);yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=null!==e&&void 0!==e?e:this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Kn(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(("document"===e.type||"block-map"===e.type||"block-seq"===e.type)&&("block-map"===t.type||"block-seq"===t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===_n(n.start)&&(0===t.indent||n.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML stream"),source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==_n(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML document"),source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Bn(Dn(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===(null===s||void 0===s?void 0:s.type)?null===n||void 0===n||n.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){var n;const s=e.items[e.items.length-2],o=null===s||void 0===s||null===(n=s.value)||void 0===n?void 0:n.end;if(Array.isArray(o))return Array.prototype.push.apply(o,t.start),o.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,s=n&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type;let o=[];if(s&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const o=t.sep[s];switch(o.type){case"newline":n.push(s);break;case"space":break;case"comment":o.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(o=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(s||t.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||t.explicitKey?s||t.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Cn(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Fn(t.key)&&!Cn(t.sep,"newline")){const e=Bn(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else o.length>0?t.sep=t.sep.concat(o,this.sourceToken):t.sep.push(this.sourceToken);else if(Cn(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Bn(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Cn(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(s||t.value?(e.items.push({start:o,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const s=this.startBlockValue(e);if(s){if("block-seq"===s.type){if(!t.explicitKey&&t.sep&&!Cn(t.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else n&&e.items.push({start:o});return void this.stack.push(s)}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===(null===s||void 0===s?void 0:s.type)?null===n||void 0===n||n.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){var n;const s=e.items[e.items.length-2],o=null===s||void 0===s||null===(n=s.value)||void 0===n?void 0:n.end;if(Array.isArray(o))return Array.prototype.push.apply(o,t.start),o.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||Cn(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Bn(Dn(t));Kn(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Bn(Dn(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Bn(Dn(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Mn(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new Ln||null,prettyErrors:t}}function Pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{lineCounter:n,prettyErrors:s}=Mn(t),o=new jn(null===n||void 0===n?void 0:n.addNewLine),i=new en(t),r=Array.from(i.compose(o.parse(e)));if(s&&n)for(const a of r)a.errors.forEach(Ct(e,n)),a.warnings.forEach(Ct(e,n));return r.length>0?r:Object.assign([],{empty:!0},i.streamInfo())}function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{lineCounter:n,prettyErrors:s}=Mn(t),o=new jn(null===n||void 0===n?void 0:n.addNewLine),i=new en(t);let r=null;for(const a of i.compose(o.parse(e),!0,e.length))if(r){if("silent"!==r.options.logLevel){r.errors.push(new xt(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else r=a;return s&&n&&(r.errors.forEach(Ct(e,n)),r.warnings.forEach(Ct(e,n))),r}function $n(e,t,n){let s;"function"===typeof t?s=t:void 0===n&&t&&"object"===typeof t&&(n=t);const o=qn(e,n);if(!o)return null;if(o.warnings.forEach(e=>de(o.options.logLevel,e)),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:s},n))}function Un(e,t,n){let s=null;if("function"===typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t),"string"===typeof n&&(n=n.length),"number"===typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){var o;const{keepUndefined:e}=null!==(o=null!==n&&void 0!==n?n:t)&&void 0!==o?o:{};if(!e)return}return h(e)&&!s?e.toString(n):new Ot(e,s,n).toString(n)}const Rn=o},43198:(e,t,n)=>{var s,o,i,r,a,c,l,u,f=n(20166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const d=n(58900),h=n(91459),p=h.operators,m={formatMaximum:{okStr:"<=",ok:p.LTE,fail:p.GT},formatMinimum:{okStr:">=",ok:p.GTE,fail:p.LT},formatExclusiveMaximum:{okStr:"<",ok:p.LT,fail:p.GTE},formatExclusiveMinimum:{okStr:">",ok:p.GT,fail:p.LTE}},y={message:e=>{let{keyword:t,schemaCode:n}=e;return h.str(s||(s=f(["should be "," ",""])),m[t].okStr,n)},params:e=>{let{keyword:t,schemaCode:n}=e;return h._(o||(o=f(["{comparison: ",", limit: ","}"])),m[t].okStr,n)}};t.formatLimitDefinition={keyword:Object.keys(m),type:"string",schemaType:"string",$data:!0,error:y,code(e){const{gen:t,data:n,schemaCode:s,keyword:o,it:p}=e,{opts:y,self:g}=p;if(!y.validateFormats)return;const v=new d.KeywordCxt(p,g.RULES.all.format.definition,"format");function b(e){return h._(u||(u=f(["",".compare(",", ",") "," 0"])),e,n,s,m[o].fail)}v.$data?function(){const n=t.scopeValue("formats",{ref:g.formats,code:y.code.formats}),s=t.const("fmt",h._(i||(i=f(["","[","]"])),n,v.schemaCode));e.fail$data(h.or(h._(r||(r=f(["typeof ",' != "object"'])),s),h._(a||(a=f([""," instanceof RegExp"])),s),h._(c||(c=f(["typeof ",'.compare != "function"'])),s),b(s)))}():function(){const n=v.schema,s=g.formats[n];if(!s||!0===s)return;if("object"!=typeof s||s instanceof RegExp||"function"!=typeof s.compare)throw new Error('"'.concat(o,'": format "').concat(n,'" does not define "compare" function'));const i=t.scopeValue("formats",{key:n,ref:s,code:y.code.formats?h._(l||(l=f(["","",""])),y.code.formats,h.getProperty(n)):void 0});e.fail$data(b(i))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},47941:(e,t,n)=>{var s=n(12897).default;function o(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:o(a,c),time:o(u,f),"date-time":o(function(e){const t=e.split(d);return 2===t.length&&a(t[0])&&u(t[1],!0)},h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return p.test(e)&&m.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:http[s\u017F]?|ftp):\/\/(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!(?:10|127)(?:\.[0-9]{1,3}){3})(?!(?:169\.254|192\.168)(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:[0-9KSa-z\xA1-\uFFFF]+-)*[0-9KSa-z\xA1-\uFFFF]+)(?:\.(?:[0-9KSa-z\xA1-\uFFFF]+-)*[0-9KSa-z\xA1-\uFFFF]+)*(?:\.(?:[KSa-z\xA1-\uFFFF]{2,})))(?::[0-9]{2,5})?(?:\/(?:(?![\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*)?$/i,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(k.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return y.lastIndex=0,y.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=v&&e>=g}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:b},double:{type:"number",validate:b},password:!0,binary:!0},t.fastFormats=s(s({},t.fullFormats),{},{date:o(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,c),time:o(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"date-time":o(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),t.formatNames=Object.keys(t.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(e){const t=i.exec(e);if(!t)return!1;const n=+t[1],s=+t[2],o=+t[3];return s>=1&&s<=12&&o>=1&&o<=(2===s&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:r[s])}function c(e,t){if(e&&t)return e>t?1:e<t?-1:0}const l=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(e,t){const n=l.exec(e);if(!n)return!1;const s=+n[1],o=+n[2],i=+n[3],r=n[5];return(s<=23&&o<=59&&i<=59||23===s&&59===o&&60===i)&&(!t||""!==r)}function f(e,t){if(!e||!t)return;const n=l.exec(e),s=l.exec(t);return n&&s?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=s[1]+s[2]+s[3]+(s[4]||""))?1:e<t?-1:0:void 0}const d=/t|\s/i;function h(e,t){if(!e||!t)return;const[n,s]=e.split(d),[o,i]=t.split(d),r=c(n,o);return void 0!==r?r||f(s,i):void 0}const p=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;const g=-(2**31),v=2**31-1;function b(){return!0}const k=/[^\\]\\Z/}}]);