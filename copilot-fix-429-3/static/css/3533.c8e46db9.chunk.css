.fsh-file-viewer{background:#fff;background:var(--who-card-bg,#fff);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-bottom:1rem;overflow:hidden}.fsh-file-header{align-items:center;background:linear-gradient(135deg,#0078d4,#005a9e);color:#fff;display:flex;gap:.75rem;padding:1rem 1.5rem}.fsh-file-header .file-icon{font-size:1.25rem}.fsh-file-header .file-name{flex:1 1;font-family:Consolas,Monaco,Courier New,monospace;font-size:1rem;font-weight:600}.fsh-file-header .file-type{background:#fff3;border-radius:20px;font-size:.8rem;font-weight:600;letter-spacing:.5px;padding:.25rem .75rem}.fsh-syntax-container{overflow:hidden;position:relative}.fsh-syntax-container pre{background:#f8f9fa!important;background:var(--who-bg-light,#f8f9fa)!important;border:none!important;border-radius:0!important;color:#2c3e50!important;color:var(--who-text-primary,#2c3e50)!important;font-size:14px!important;line-height:1.6!important;margin:0!important;max-height:500px;overflow-x:auto;overflow-y:hidden;overflow-y:auto;padding:1.5rem!important}.fsh-syntax-container code,.fsh-syntax-container pre{font-family:Consolas,Monaco,Courier New,monospace!important}.fsh-syntax-container code{background:#0000!important}.fsh-syntax-container .token.comment{color:#6a737d!important;font-style:italic}.fsh-syntax-container .token.string{color:#032f62!important}.fsh-syntax-container .token.keyword{color:#d73a49!important;font-weight:600}.fsh-syntax-container .token.number{color:#005cc5!important}.fsh-syntax-container .token.operator{color:#d73a49!important}.fsh-syntax-container .token.punctuation{color:#24292e!important}.fsh-file-footer{align-items:center;background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border-top:1px solid #e9ecef;border-top:1px solid var(--who-border-color,#e9ecef);display:flex;justify-content:space-between;padding:.75rem 1.5rem}.content-info{color:#6c757d;color:var(--who-text-muted,#6c757d);font-family:Consolas,Monaco,Courier New,monospace;font-size:.85rem}.fsh-syntax-container .react-syntax-highlighter-line-number{background:#f1f3f4!important;background:var(--who-bg-light,#f1f3f4)!important;border-right:1px solid #e9ecef!important;border-right:1px solid var(--who-border-color,#e9ecef)!important;color:#6c757d!important;color:var(--who-text-muted,#6c757d)!important;margin-right:1rem!important;padding-right:1rem!important;text-align:right!important;-webkit-user-select:none;user-select:none}@media (max-width:768px){.fsh-file-header{font-size:.9rem;padding:.75rem 1rem}.fsh-syntax-container pre{font-size:13px!important;padding:1rem!important}.fsh-file-footer{padding:.5rem 1rem}.content-info{font-size:.8rem}}.fsh-file-viewer.full-width{max-width:none;width:100%}.fsh-file-viewer.compact .fsh-file-header{padding:.5rem 1rem}.fsh-file-viewer.compact .fsh-syntax-container pre{max-height:300px;padding:1rem!important}.fsh-file-viewer.compact .fsh-file-footer{padding:.5rem 1rem}.fsh-file-viewer.loading{opacity:.6;pointer-events:none}.fsh-file-viewer.loading:after{animation:spin 1s linear infinite;border:2px solid #0078d4;border-radius:50%;border-top-color:#0000;content:"";height:20px;left:50%;margin:-10px 0 0 -10px;position:absolute;top:50%;width:20px}.fsh-file-editor{background:#fff;background:var(--who-card-bg,#fff);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-bottom:1rem;overflow:hidden;position:relative}.fsh-editor-header{background:linear-gradient(135deg,#0078d4,#005a9e);color:#fff;justify-content:space-between;padding:1rem 1.5rem}.file-info,.fsh-editor-header{align-items:center;display:flex}.file-info{gap:.75rem}.file-info .file-icon{font-size:1.25rem}.file-info .file-name{font-family:Consolas,Monaco,Courier New,monospace;font-size:1rem;font-weight:600}.file-info .file-type{background:#fff3;border-radius:20px;font-size:.8rem;font-weight:600;letter-spacing:.5px;padding:.25rem .75rem}.editor-controls{align-items:center;display:flex;gap:1rem}.changes-indicator{color:gold;font-size:.9rem;font-weight:500}.mode-toggle{background:#ffffff1a;border:1px solid #ffffff4d;border-radius:6px;color:#fff;cursor:pointer;font-size:.9rem;font-weight:500;padding:.5rem 1rem;transition:all .2s}.mode-toggle:hover{background:#fff3}.mode-toggle.active{background:#fff;border-color:#fff;color:#0078d4}.save-btn{background:#28a745;border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:.9rem;font-weight:500;padding:.5rem 1rem;transition:all .2s}.save-btn:hover{background:#218838}.fsh-editor-content{position:relative}.editor-layout{grid-gap:0;display:grid;gap:0;grid-template-columns:1fr 1fr;min-height:400px}.editor-pane{border-right:1px solid #e9ecef;border-right:1px solid var(--who-border-color,#e9ecef)}.editor-pane,.preview-pane{display:flex;flex-direction:column}.preview-header{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border-bottom:1px solid #e9ecef;border-bottom:1px solid var(--who-border-color,#e9ecef);color:#6c757d;color:var(--who-text-muted,#6c757d);font-size:.9rem;font-weight:600;padding:.75rem 1rem}.preview-content{flex:1 1;overflow:hidden}.viewer-pane{min-height:200px}.fsh-textarea{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border:none;color:#2c3e50;color:var(--who-text-primary,#2c3e50);flex:1 1;font-family:Consolas,Monaco,Courier New,monospace;font-size:14px;line-height:1.6;max-height:600px;min-height:350px;outline:none;overflow-y:auto;padding:1.5rem;resize:none}.fsh-textarea::placeholder{color:#6c757d;color:var(--who-text-muted,#6c757d);font-style:italic}.fsh-textarea:focus{background:#fff;background:var(--who-card-bg,#fff);box-shadow:inset 0 0 0 2px #0078d41a}.preview-content pre{height:100%}.preview-content pre,.viewer-pane pre{background:#f8f9fa!important;background:var(--who-bg-light,#f8f9fa)!important;border:none!important;border-radius:0!important;color:#2c3e50!important;color:var(--who-text-primary,#2c3e50)!important;font-family:Consolas,Monaco,Courier New,monospace!important;font-size:14px!important;line-height:1.6!important;margin:0!important;overflow:auto;padding:1.5rem!important}.fsh-editor-footer{align-items:center;background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border-top:1px solid #e9ecef;border-top:1px solid var(--who-border-color,#e9ecef);display:flex;justify-content:space-between;padding:.75rem 1.5rem}.content-stats{display:flex;font-family:Consolas,Monaco,Courier New,monospace;font-size:.85rem;gap:.5rem}.content-stats,.editor-help{color:#6c757d;color:var(--who-text-muted,#6c757d)}.editor-help{font-size:.8rem}.keyboard-hint{font-style:italic}.fsh-file-editor.editing .mode-toggle.active{background:#28a745;border-color:#28a745;color:#fff}@media (max-width:1024px){.editor-layout{grid-template-columns:1fr}.editor-pane{border-bottom:1px solid #e9ecef;border-right:none}.preview-pane{max-height:300px}}@media (max-width:768px){.fsh-editor-header{align-items:flex-start;flex-direction:column;gap:.75rem;padding:.75rem 1rem}.editor-controls{align-self:stretch;justify-content:flex-end}.fsh-textarea{font-size:13px;min-height:250px;padding:1rem}.preview-content pre,.viewer-pane pre{font-size:13px!important;padding:1rem!important}.fsh-editor-footer{align-items:flex-start;flex-direction:column;gap:.5rem;padding:.5rem 1rem}.editor-help{align-self:stretch;text-align:center}}.fsh-editor-content{transition:all .3s ease}.mode-toggle{transition:all .2s ease}.mode-toggle:focus,.save-btn:focus{outline:2px solid #ffffff80;outline-offset:2px}.fsh-textarea:focus{outline:none}.fsh-file-editor.loading{opacity:.6;pointer-events:none}.fsh-file-editor.loading:after{animation:spin 1s linear infinite;border:2px solid #0078d4;border-radius:50%;border-top-color:#0000;content:"";height:20px;left:50%;margin:-10px 0 0 -10px;position:absolute;top:50%;width:20px;z-index:10}@keyframes spin{to{transform:rotate(1turn)}}.fsh-file-editor.compact .fsh-editor-header{padding:.5rem 1rem}.fsh-file-editor.compact .fsh-textarea{min-height:200px;padding:1rem}.fsh-file-editor.compact .preview-content pre,.fsh-file-editor.compact .viewer-pane pre{padding:1rem!important}.fsh-file-editor.compact .fsh-editor-footer{padding:.5rem 1rem}.archimate-modal-overlay{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:#000c}.archimate-modal{background:#fff;background:var(--who-card-bg,#fff);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);display:flex;flex-direction:column;max-height:90vh;max-width:1200px;overflow:hidden;width:95vw}.archimate-modal.large-modal{max-width:1400px;width:95vw}.archimate-modal .modal-header{background:linear-gradient(135deg,#0078d4,#005a9e);border-bottom:none;color:#fff;padding:1.5rem}.archimate-modal .modal-header h3{font-size:1.5rem;font-weight:600;margin:0}.archimate-modal .modal-body{display:flex;flex:1 1;flex-direction:column;overflow:hidden;padding:0}.archimate-modal .modal-footer{align-items:center;border-top:1px solid #e9ecef;border-top:1px solid var(--who-border-color,#e9ecef);justify-content:space-between;padding:1rem 1.5rem}.archimate-modal .modal-footer,.extraction-tabs{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);display:flex}.extraction-tabs{border-bottom:1px solid #e9ecef;border-bottom:1px solid var(--who-border-color,#e9ecef);padding:0 1.5rem}.tab-btn{align-items:center;background:#0000;border:none;border-bottom:3px solid #0000;color:#6c757d;color:var(--who-text-muted,#6c757d);cursor:pointer;display:flex;font-size:.95rem;font-weight:500;gap:.5rem;padding:1rem 1.5rem;transition:all .2s}.tab-btn:hover{background:#0078d40d;background:var(--who-hover-bg,#0078d40d);color:#2c3e50;color:var(--who-text-primary,#2c3e50)}.tab-btn.active{background:#fff;background:var(--who-card-bg,#fff);border-bottom-color:#0078d4;color:#0078d4}.tab-content{flex:1 1;overflow:auto;padding:1.5rem}.extraction-summary{max-width:100%}.summary-header{border-bottom:1px solid #e9ecef;border-bottom:1px solid var(--who-border-color,#e9ecef);margin-bottom:2rem;padding-bottom:1rem}.summary-header h4{align-items:center;color:#2c3e50;color:var(--who-text-primary,#2c3e50);display:flex;font-size:1.5rem;gap:.5rem;margin:0 0 1rem}.summary-description{color:#6c757d;color:var(--who-text-secondary,#6c757d);font-size:1.1rem;line-height:1.6;margin:0}.summary-stats{grid-gap:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:2rem}.stat-card{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);border-radius:12px;padding:1.5rem;text-align:center;transition:transform .2s}.stat-card:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.stat-value{color:#0078d4;font-size:2rem;font-weight:700;margin-bottom:.5rem}.stat-label{color:#6c757d;color:var(--who-text-muted,#6c757d);font-size:.9rem;font-weight:500;letter-spacing:.5px;text-transform:uppercase}.source-info{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);border-radius:12px;padding:1.5rem}.source-info h5{color:#2c3e50;color:var(--who-text-primary,#2c3e50);font-size:1.1rem;margin:0 0 1rem}.info-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.info-item{align-items:center;border-bottom:1px solid #0000001a;border-bottom:1px solid var(--who-border-color,#0000001a);display:flex;justify-content:space-between;padding:.5rem 0}.info-item:last-child{border-bottom:none}.info-label{color:#6c757d;color:var(--who-text-muted,#6c757d);font-weight:600;min-width:100px}.info-value{color:#2c3e50;color:var(--who-text-primary,#2c3e50);font-family:Consolas,Monaco,Courier New,monospace;font-size:.9rem;text-align:right;word-break:break-word}.structure-view{max-width:100%}.structure-view h4{border-bottom:2px solid #0078d4;color:#2c3e50;color:var(--who-text-primary,#2c3e50);display:inline-block;margin:0 0 1.5rem;padding-bottom:.5rem}.elements-list{grid-gap:1rem;display:grid;gap:1rem;margin-bottom:2rem}.element-card{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);border-radius:8px;padding:1rem;transition:all .2s}.element-card:hover{border-color:#0078d4;box-shadow:0 2px 8px #0078d41a}.element-header{align-items:center;display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:.5rem}.element-name{color:#2c3e50;color:var(--who-text-primary,#2c3e50);font-family:Consolas,Monaco,Courier New,monospace;font-size:1rem;font-weight:600}.element-type{background:#0078d4;color:#fff}.element-cardinality,.element-type{border-radius:20px;font-size:.8rem;font-weight:500;padding:.25rem .75rem}.element-cardinality{background:#e9ecef;background:var(--who-border-color,#e9ecef);color:#6c757d;color:var(--who-text-muted,#6c757d);font-family:Consolas,Monaco,Courier New,monospace}.element-description{color:#6c757d;color:var(--who-text-secondary,#6c757d);line-height:1.5;margin-bottom:.5rem}.element-constraints{border-top:1px solid #e9ecef;border-top:1px solid var(--who-border-color,#e9ecef);font-size:.9rem;margin-top:.5rem;padding-top:.5rem}.element-constraints ul{margin:.5rem 0 0;padding-left:1.5rem}.element-constraints li{color:#6c757d;color:var(--who-text-muted,#6c757d);font-family:Consolas,Monaco,Courier New,monospace;font-size:.85rem}.relationships-section{border-top:1px solid #e9ecef;border-top:1px solid var(--who-border-color,#e9ecef);padding-top:2rem}.relationships-list{grid-gap:1rem;display:grid;gap:1rem}.relationship-card{background:#f0f8ff;background:var(--who-bg-light,#f0f8ff);border:1px solid #0078d4;border-radius:8px;padding:1rem}.relationship-header{align-items:center;display:flex;gap:1rem;margin-bottom:.5rem}.relationship-type{background:#28a745;border-radius:20px;color:#fff;font-size:.8rem;font-weight:500;padding:.25rem .75rem}.relationship-target{color:#2c3e50;color:var(--who-text-primary,#2c3e50);font-family:Consolas,Monaco,Courier New,monospace;font-weight:600}.relationship-description{color:#6c757d;color:var(--who-text-secondary,#6c757d);font-size:.9rem}.xml-controls{border-bottom:1px solid #e9ecef;border-bottom:1px solid var(--who-border-color,#e9ecef);display:flex;gap:1rem;margin-bottom:1rem;padding-bottom:1rem}.xml-content{background:#f8f9fa;background:var(--who-bg-light,#f8f9fa);border:1px solid #e9ecef;border:1px solid var(--who-border-color,#e9ecef);border-radius:8px;max-height:500px;overflow:auto;padding:1rem}.xml-content pre{word-wrap:break-word;color:#2c3e50;color:var(--who-text-primary,#2c3e50);font-family:Consolas,Monaco,Courier New,monospace;font-size:.85rem;line-height:1.5;margin:0;white-space:pre-wrap}.xml-content code{background:#0000;color:inherit}.error-message{align-items:flex-start;background:#fff5f5;border:1px solid #feb2b2;border-radius:12px;display:flex;gap:1rem;margin:1rem;padding:2rem}.error-icon{flex-shrink:0;font-size:2rem}.error-content h4{color:#c53030;font-size:1.2rem;margin:0 0 1rem}.error-content p{color:#742a2a;margin:0 0 1rem}.error-details{background:#fed7d7;border:1px solid #feb2b2;border-radius:6px;color:#742a2a;font-family:Consolas,Monaco,Courier New,monospace;font-size:.9rem;overflow-x:auto;padding:1rem}.footer-info{color:#6c757d;color:var(--who-text-muted,#6c757d);font-size:.9rem}.footer-actions{display:flex;gap:1rem}@media (max-width:1024px){.archimate-modal{height:90vh;width:95vw}.info-grid,.summary-stats{grid-template-columns:1fr}.element-header{align-items:flex-start;flex-direction:column;gap:.5rem}}@media (max-width:768px){.archimate-modal{border-radius:0;height:100vh;width:100vw}.extraction-tabs{padding:0 1rem}.tab-btn{font-size:.85rem;padding:.75rem 1rem}.archimate-modal .modal-header,.tab-content{padding:1rem}.archimate-modal .modal-footer{flex-direction:column;gap:1rem;padding:1rem}.footer-actions{justify-content:center;width:100%}.xml-controls{flex-direction:column}}body.theme-dark .archimate-modal{background:var(--who-secondary-bg);border-color:var(--who-border-color)}body.theme-dark .element-card,body.theme-dark .source-info,body.theme-dark .stat-card,body.theme-dark .xml-content{background:var(--who-card-bg);border-color:var(--who-border-color)}body.theme-dark .element-cardinality{background:var(--who-border-color);color:var(--who-text-muted)}body.theme-dark .relationships-section .relationship-card{background:#0078d41a;border-color:var(--who-border-color)}