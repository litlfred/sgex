{"version":3,"file":"static/js/956.b7c3065c.chunk.js","mappings":"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","sources":["components/OrganizationSelection.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport githubService from '../services/githubService';\nimport { PageLayout } from './framework';\nimport './OrganizationSelection.css';\n\nconst OrganizationSelection = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [organizations, setOrganizations] = useState([]);\n  const [selectedOrganization, setSelectedOrganization] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [includePersonal, setIncludePersonal] = useState(true);\n  \n  const { profile, sourceRepository, action } = location.state || {};\n\n  const getActionConfig = () => {\n    switch (action) {\n      case 'fork':\n        return {\n          title: 'Select Destination for Fork',\n          description: `Choose where to create a fork of \"${sourceRepository?.name}\".`,\n          buttonText: 'Fork Repository',\n          nextRoute: '/dashboard'\n        };\n      case 'create':\n        return {\n          title: 'Select Destination for New DAK',\n          description: `Choose where to create your new DAK based on \"${sourceRepository?.name}\".`,\n          buttonText: 'Continue to Configuration',\n          nextRoute: '/dak-configuration'\n        };\n      default:\n        return {\n          title: 'Select Organization',\n          description: 'Choose an organization for your DAK.',\n          buttonText: 'Continue',\n          nextRoute: '/dashboard'\n        };\n    }\n  };\n\n  const fetchOrganizations = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      let orgsData = [];\n      \n      if (githubService.isAuth()) {\n        orgsData = await githubService.getUserOrganizations();\n      } else {\n        // Fallback to mock organizations for demonstration\n        orgsData = await getMockOrganizations();\n      }\n      \n      // Always ensure WHO organization is included with fresh data\n      try {\n        const whoOrganization = await githubService.getWHOOrganization();\n        \n        // Check if WHO organization is already in the list\n        const whoIndex = orgsData.findIndex(org => org.login === 'WorldHealthOrganization');\n        \n        if (whoIndex >= 0) {\n          // Replace existing WHO org with fresh data\n          orgsData[whoIndex] = { ...orgsData[whoIndex], ...whoOrganization };\n        } else {\n          // Add WHO organization at the beginning of the list\n          orgsData.unshift(whoOrganization);\n        }\n      } catch (whoError) {\n        console.warn('Could not fetch WHO organization data, using fallback:', whoError);\n        \n        // Fallback to hardcoded WHO organization\n        const whoOrganization = {\n          id: 'who-organization',\n          login: 'WorldHealthOrganization',\n          display_name: 'World Health Organization',\n          description: 'The World Health Organization is a specialized agency of the United Nations responsible for international public health.',\n          avatar_url: 'https://avatars.githubusercontent.com/u/12261302?s=200&v=4',\n          html_url: 'https://github.com/WorldHealthOrganization',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: true\n          },\n          plan: {\n            name: 'Organization',\n            private_repos: 'unlimited'\n          },\n          isWHO: true\n        };\n        \n        // Check if WHO organization is already in the list\n        const hasWHO = orgsData.some(org => org.login === 'WorldHealthOrganization');\n        \n        if (!hasWHO) {\n          // Add WHO organization at the beginning of the list\n          orgsData.unshift(whoOrganization);\n        }\n      }\n      \n      setOrganizations(orgsData);\n    } catch (error) {\n      console.error('Error fetching organizations:', error);\n      setError('Failed to fetch organizations. Please check your connection and try again.');\n      // Fallback to mock data for demonstration (which includes WHO)\n      try {\n        const mockOrgs = await getMockOrganizations();\n        setOrganizations(mockOrgs);\n      } catch (mockError) {\n        // Ultimate fallback with hardcoded data\n        setOrganizations([{\n          id: 'who-organization',\n          login: 'WorldHealthOrganization',\n          display_name: 'World Health Organization',\n          description: 'The World Health Organization is a specialized agency of the United Nations responsible for international public health.',\n          avatar_url: 'https://avatars.githubusercontent.com/u/12261302?s=200&v=4',\n          html_url: 'https://github.com/WorldHealthOrganization',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: true\n          },\n          plan: {\n            name: 'Organization',\n            private_repos: 'unlimited'\n          },\n          isWHO: true\n        }]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const getMockOrganizations = async () => {\n    try {\n      // Try to get fresh WHO data even in mock mode\n      const whoOrganization = await githubService.getWHOOrganization();\n      \n      return [\n        whoOrganization,\n        {\n          id: 1,\n          login: 'my-health-org',\n          display_name: 'My Health Organization',\n          description: 'Healthcare technology organization focused on digital health solutions',\n          avatar_url: 'https://avatars.githubusercontent.com/u/1?s=200&v=4',\n          html_url: 'https://github.com/my-health-org',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: true\n          },\n          plan: {\n            name: 'Team',\n            private_repos: 10\n          }\n        },\n        {\n          id: 2,\n          login: 'global-health-initiative',\n          display_name: 'Global Health Initiative',\n          description: 'International organization working on global health standards',\n          avatar_url: 'https://avatars.githubusercontent.com/u/2?s=200&v=4',\n          html_url: 'https://github.com/global-health-initiative',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: false\n          },\n          plan: {\n            name: 'Free',\n            private_repos: 0\n          }\n        }\n      ];\n    } catch (error) {\n      console.warn('Could not fetch WHO data for mock organizations, using fallback:', error);\n      // Return original hardcoded mock data\n      return [\n        {\n          id: 'who-organization',\n          login: 'WorldHealthOrganization',\n          display_name: 'World Health Organization',\n          description: 'The World Health Organization is a specialized agency of the United Nations responsible for international public health.',\n          avatar_url: 'https://avatars.githubusercontent.com/u/12261302?s=200&v=4',\n          html_url: 'https://github.com/WorldHealthOrganization',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: true\n          },\n          plan: {\n            name: 'Organization',\n            private_repos: 'unlimited'\n          },\n          isWHO: true\n        },\n        {\n          id: 1,\n          login: 'my-health-org',\n          display_name: 'My Health Organization',\n          description: 'Healthcare technology organization focused on digital health solutions',\n          avatar_url: 'https://avatars.githubusercontent.com/u/1?s=200&v=4',\n          html_url: 'https://github.com/my-health-org',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: true\n          },\n          plan: {\n            name: 'Team',\n            private_repos: 10\n          }\n        },\n        {\n          id: 2,\n          login: 'global-health-initiative',\n          display_name: 'Global Health Initiative',\n          description: 'International organization working on global health standards',\n          avatar_url: 'https://avatars.githubusercontent.com/u/2?s=200&v=4',\n          html_url: 'https://github.com/global-health-initiative',\n          type: 'Organization',\n          permissions: {\n            can_create_repositories: true,\n            can_create_private_repositories: false\n          },\n          plan: {\n            name: 'Free',\n            private_repos: 0\n          }\n        }\n      ];\n    }\n  };\n\n  useEffect(() => {\n    if (!profile || !sourceRepository || !action) {\n      navigate('/');\n      return;\n    }\n    \n    fetchOrganizations();\n  }, [profile, sourceRepository, action, navigate, fetchOrganizations]);\n\n  const handleOrganizationSelect = (org) => {\n    setSelectedOrganization(org);\n  };\n\n  const handleContinue = () => {\n    if (!selectedOrganization) {\n      alert('Please select an organization to continue');\n      return;\n    }\n\n    const config = getActionConfig();\n    \n    if (action === 'fork') {\n      // For fork, go directly to dashboard after forking\n      navigate(config.nextRoute, {\n        state: {\n          profile,\n          repository: {\n            ...sourceRepository,\n            // Update repository info to reflect the fork destination\n            full_name: `${selectedOrganization.login}/${sourceRepository.name}`,\n            html_url: `https://github.com/${selectedOrganization.login}/${sourceRepository.name}`,\n            owner: selectedOrganization\n          },\n          sourceRepository,\n          destinationOrganization: selectedOrganization,\n          action\n        }\n      });\n    } else if (action === 'create') {\n      // For create, go to DAK configuration\n      navigate(config.nextRoute, {\n        state: {\n          profile,\n          templateRepository: sourceRepository,\n          destinationOrganization: selectedOrganization,\n          action\n        }\n      });\n    }\n  };\n\n  const handleBack = () => {\n    navigate(`/dak-selection/${profile.login}`, { \n      state: { profile, action } \n    });\n  };\n\n  if (!profile || !sourceRepository || !action) {\n    return (\n      <PageLayout pageName=\"organization-selection\">\n        <div>Redirecting...</div>\n      </PageLayout>\n    );\n  }\n\n  const config = getActionConfig();\n  \n  // Create combined list of options\n  const allOptions = [];\n  \n  if (includePersonal) {\n    allOptions.push({\n      ...profile,\n      type: 'User',\n      display_name: profile.name || profile.login,\n      description: 'Your personal GitHub account',\n      permissions: {\n        can_create_repositories: true,\n        can_create_private_repositories: true\n      },\n      isPersonal: true\n    });\n  }\n  \n  allOptions.push(...organizations);\n\n  return (\n    <PageLayout pageName=\"organization-selection\">\n      <div className=\"org-content\">\n        <div className=\"breadcrumb\">\n          <button onClick={() => navigate('/')} className=\"breadcrumb-link\">\n            Select Profile\n          </button>\n          <span className=\"breadcrumb-separator\">›</span>\n          <button onClick={() => navigate('/dak-action', { state: { profile } })} className=\"breadcrumb-link\">\n            Choose DAK Action\n          </button>\n          <span className=\"breadcrumb-separator\">›</span>\n          <button onClick={handleBack} className=\"breadcrumb-link\">\n            Select DAK\n          </button>\n          <span className=\"breadcrumb-separator\">›</span>\n          <span className=\"breadcrumb-current\">Select Organization</span>\n        </div>\n\n        <div className=\"org-main\">\n          <div className=\"org-intro\">\n            <h2>{config.title}</h2>\n            <p>{config.description}</p>\n            \n            {sourceRepository && (\n              <div className=\"source-repo-info\">\n                <span className=\"repo-label\">Source Repository:</span>\n                <div className=\"repo-badge\">\n                  <span className=\"repo-name\">{sourceRepository.name}</span>\n                  <span className=\"repo-owner\">@{sourceRepository.full_name?.split('/')[0]}</span>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div className=\"options-section\">\n            <div className=\"include-personal\">\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={includePersonal}\n                  onChange={(e) => setIncludePersonal(e.target.checked)}\n                />\n                <span>Include my personal account as an option</span>\n              </label>\n            </div>\n\n            {loading ? (\n              <div className=\"loading\">\n                <div className=\"spinner\"></div>\n                <p>Loading organizations...</p>\n              </div>\n            ) : error ? (\n              <div className=\"error-state\">\n                <h3>Error loading organizations</h3>\n                <p>{error}</p>\n                <button onClick={fetchOrganizations} className=\"retry-btn\">\n                  Try Again\n                </button>\n              </div>\n            ) : allOptions.length === 0 ? (\n              <div className=\"empty-state\">\n                <h3>No organizations available</h3>\n                <p>Enable personal account option or join organizations to see options here.</p>\n              </div>\n            ) : (\n              <>\n                <div className=\"org-grid\">\n                  {allOptions.map((org) => (\n                    <div \n                      key={`${org.type}-${org.id}`}\n                      className={`org-card ${selectedOrganization?.id === org.id && selectedOrganization?.type === org.type ? 'selected' : ''} ${org.isPersonal ? 'personal' : ''} ${org.isWHO ? 'who-org' : ''}`}\n                      onClick={() => handleOrganizationSelect(org)}\n                    >\n                      <div className=\"org-header-info\">\n                        <img \n                          src={org.avatar_url || `https://github.com/${org.login}.png`} \n                          alt={`${org.display_name || org.login} avatar`}\n                          className=\"org-avatar\"\n                        />\n                        <div className=\"org-details\">\n                          <h3>{org.display_name || org.login}</h3>\n                          <p className=\"org-login\">@{org.login}</p>\n                          {org.isPersonal && <span className=\"personal-badge\">Personal</span>}\n                          {org.isWHO && <span className=\"who-badge\">WHO Official</span>}\n                        </div>\n                      </div>\n                      \n                      <p className=\"org-description\">{org.description || 'No description available'}</p>\n                      \n                      <div className=\"org-permissions\">\n                        <div className=\"permission-item\">\n                          <span className={`permission-icon ${org.permissions?.can_create_repositories ? 'allowed' : 'denied'}`}>\n                            {org.permissions?.can_create_repositories ? '✓' : '✗'}\n                          </span>\n                          <span>Create repositories</span>\n                        </div>\n                        <div className=\"permission-item\">\n                          <span className={`permission-icon ${org.permissions?.can_create_private_repositories ? 'allowed' : 'denied'}`}>\n                            {org.permissions?.can_create_private_repositories ? '✓' : '✗'}\n                          </span>\n                          <span>Create private repositories</span>\n                        </div>\n                      </div>\n\n                      {org.plan && (\n                        <div className=\"org-plan\">\n                          <span className=\"plan-name\">{org.plan.name} Plan</span>\n                          {org.plan.private_repos !== undefined && (\n                            <span className=\"plan-repos\">{org.plan.private_repos} private repos</span>\n                          )}\n                        </div>\n                      )}\n\n                      {selectedOrganization?.id === org.id && selectedOrganization?.type === org.type && (\n                        <div className=\"selection-indicator\">\n                          <span>✓ Selected</span>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"org-footer\">\n                  <button \n                    className=\"continue-btn\"\n                    onClick={handleContinue}\n                    disabled={!selectedOrganization}\n                  >\n                    {config.buttonText}\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default OrganizationSelection;"],"names":["OrganizationSelection","_sourceRepository$ful","location","useLocation","navigate","useNavigate","organizations","setOrganizations","useState","selectedOrganization","setSelectedOrganization","loading","setLoading","error","setError","includePersonal","setIncludePersonal","profile","sourceRepository","action","state","getActionConfig","title","description","name","buttonText","nextRoute","fetchOrganizations","useCallback","async","orgsData","githubService","isAuth","getUserOrganizations","getMockOrganizations","whoOrganization","getWHOOrganization","whoIndex","findIndex","org","login","unshift","whoError","console","warn","id","display_name","avatar_url","html_url","type","permissions","can_create_repositories","can_create_private_repositories","plan","private_repos","isWHO","some","mockOrgs","mockError","useEffect","_jsx","PageLayout","pageName","children","config","allOptions","push","isPersonal","_jsxs","className","onClick","handleBack","full_name","split","checked","onChange","e","target","length","_Fragment","map","_org$permissions","_org$permissions2","_org$permissions3","_org$permissions4","handleOrganizationSelect","src","alt","undefined","handleContinue","alert","repository","owner","destinationOrganization","templateRepository","disabled"],"sourceRoot":""}