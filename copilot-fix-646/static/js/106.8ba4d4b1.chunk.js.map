{"version":3,"file":"static/js/106.8ba4d4b1.chunk.js","mappings":"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","sources":["components/PATLogin.js","components/LandingPageWithFramework.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useTranslation } from 'react-i18next';\nimport logger from \"../utils/logger\";\nimport \"./PATLogin.css\";\n\nconst PATLogin = ({ onAuthSuccess }) => {\n  const { t } = useTranslation();\n  const [token, setToken] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const componentLogger = logger.getLogger('PATLogin');\n\n  React.useEffect(() => {\n    componentLogger.componentMount({ hasOnAuthSuccess: !!onAuthSuccess });\n    return () => componentLogger.componentUnmount();\n  }, [componentLogger, onAuthSuccess]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    componentLogger.userAction('PAT login attempt', { tokenProvided: !!token.trim() });\n    \n    if (!token.trim()) {\n      const errorMsg = \"Please enter a GitHub Personal Access Token\";\n      setError(errorMsg);\n      componentLogger.warn('PAT login failed - no token provided');\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n    const startTime = Date.now();\n    componentLogger.auth('Starting PAT authentication');\n    \n    try {\n      // Test the token by creating an Octokit instance and making a test request\n      const { Octokit } = await import('@octokit/rest');\n      const octokit = new Octokit({ auth: token.trim() });\n      componentLogger.debug('Octokit instance created for PAT validation');\n      \n      // Test the token by fetching user info\n      componentLogger.apiCall('GET', '/user', null);\n      const userResponse = await octokit.rest.users.getAuthenticated();\n      const duration = Date.now() - startTime;\n      componentLogger.apiResponse('GET', '/user', userResponse.status, duration);\n      \n      componentLogger.auth('PAT authentication successful', { \n        username: userResponse.data.login,\n        duration \n      });\n      \n      // Call success callback with token and octokit instance\n      onAuthSuccess(token.trim(), octokit);\n    } catch (err) {\n      const duration = Date.now() - startTime;\n      componentLogger.apiError('GET', '/user', err);\n      componentLogger.auth('PAT authentication failed', { \n        status: err.status, \n        message: err.message,\n        duration \n      });\n      console.error('PAT authentication failed:', err);\n      \n      if (err.status === 401) {\n        setError(\"Invalid Personal Access Token. Please check your token and try again.\");\n      } else if (err.status === 403) {\n        setError(\"Token doesn't have sufficient permissions. Please ensure your token has 'repo' and 'read:org' scopes.\");\n      } else {\n        setError(\"Authentication failed. Please check your connection and try again.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTokenChange = (e) => {\n    setToken(e.target.value);\n    if (error) setError(\"\"); // Clear error when user starts typing\n  };\n\n  return (\n    <div className=\"pat-login\">\n      <div className=\"pat-login-section\">\n        <form onSubmit={handleSubmit} className=\"pat-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"pat-token\">{t('auth.setupToken')}:</label>\n            <input\n              id=\"pat-token\"\n              type=\"password\"\n              value={token}\n              onChange={handleTokenChange}\n              placeholder=\"ghp_xxxxxxxxxxxxxxxxxxxx\"\n              className={`token-input ${error ? 'error' : ''}`}\n              disabled={loading}\n              autoComplete=\"off\"\n            />\n          </div>\n          \n          <button \n            type=\"submit\" \n            className=\"github-login-btn\" \n            disabled={loading || !token.trim()}\n          >\n            {loading ? (\n              <>\n                <span className=\"spinner small\"></span>\n                {t('common.loading')}...\n              </>\n            ) : (\n              <>\n                <span className=\"github-icon\">🔑</span>\n                {t('auth.signInWithPAT')}\n              </>\n            )}\n          </button>\n        </form>\n        \n        {error && <div className=\"error-message\">{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default PATLogin;","import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport githubService from '../services/githubService';\nimport repositoryCacheService from '../services/repositoryCacheService';\nimport PATLogin from './PATLogin';\nimport { PageLayout } from './framework';\nimport './LandingPage.css';\n\nconst LandingPageWithFramework = () => {\n  const [user, setUser] = useState(null);\n  const [organizations, setOrganizations] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dakCounts, setDakCounts] = useState({});\n  const [warningMessage, setWarningMessage] = useState(null);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Load cached DAK counts without initiating any scanning\n  const loadCachedDakCounts = useCallback((userData, orgsData) => {\n    if (!githubService.isAuth()) {\n      return;\n    }\n\n    const counts = {};\n    \n    // Check cache for user's personal repositories\n    if (userData) {\n      const userCache = repositoryCacheService.getCachedRepositories(userData.login, 'user');\n      if (userCache && userCache.repositories) {\n        counts[`user-${userData.login}`] = userCache.repositories.length;\n      }\n    }\n    \n    // Check cache for organization repositories\n    orgsData.forEach(org => {\n      const orgCache = repositoryCacheService.getCachedRepositories(org.login, 'org');\n      if (orgCache && orgCache.repositories) {\n        counts[`org-${org.login}`] = orgCache.repositories.length;\n      }\n    });\n    \n    setDakCounts(counts);\n  }, []);\n\n  const fetchUserData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Check token permissions first\n      await githubService.checkTokenPermissions();\n      \n      // Fetch user data using GitHub service\n      const userData = await githubService.getCurrentUser();\n      setUser(userData);\n      \n      // Fetch organizations inline\n      let orgsData = [];\n      \n      if (githubService.isAuth()) {\n        try {\n          orgsData = await githubService.getUserOrganizations();\n        } catch (error) {\n          console.error('Error fetching organizations:', error);\n          orgsData = [];\n        }\n      }\n      \n      // Always ensure WHO organization is included\n      try {\n        const whoOrganization = await githubService.getWHOOrganization();\n        \n        // Check if WHO organization is already in the list\n        const whoIndex = orgsData.findIndex(org => org.login === 'WorldHealthOrganization');\n        \n        if (whoIndex >= 0) {\n          // Replace existing WHO org with fresh data and ensure isWHO flag\n          orgsData[whoIndex] = { ...orgsData[whoIndex], ...whoOrganization, isWHO: true };\n        } else {\n          // Add WHO organization at the beginning of the list\n          orgsData.unshift(whoOrganization);\n        }\n      } catch (whoError) {\n        console.warn('Could not fetch WHO organization data, using fallback:', whoError);\n        \n        // Fallback to hardcoded WHO organization\n        const whoOrganization = {\n          id: 'who-organization',\n          login: 'WorldHealthOrganization',\n          name: 'World Health Organization',\n          description: 'The World Health Organization is a specialized agency of the United Nations responsible for international public health.',\n          avatar_url: 'https://avatars.githubusercontent.com/u/12261302?s=200&v=4',\n          html_url: 'https://github.com/WorldHealthOrganization',\n          type: 'Organization',\n          isWHO: true\n        };\n        \n        // Check if WHO organization is already in the list\n        const hasWHO = orgsData.some(org => org.login === 'WorldHealthOrganization');\n        \n        if (!hasWHO) {\n          // Add WHO organization at the beginning of the list\n          orgsData.unshift(whoOrganization);\n        } else {\n          // Ensure existing WHO organization has the isWHO flag\n          orgsData = orgsData.map(org => \n            org.login === 'WorldHealthOrganization' \n              ? { ...org, isWHO: true }\n              : org\n          );\n        }\n      }\n      \n      setOrganizations(orgsData);\n      \n      // Load cached DAK counts (if available)\n      loadCachedDakCounts(userData, orgsData);\n      \n    } catch (error) {\n      console.error('Error fetching user data:', error);\n      setError('Failed to fetch user data. Please check your connection and try again.');\n      setIsAuthenticated(false);\n      sessionStorage.removeItem('github_token');\n      localStorage.removeItem('github_token');\n    } finally {\n      setLoading(false);\n    }\n  }, [loadCachedDakCounts]);\n\n  // Initial authentication check - runs once on mount\n  useEffect(() => {\n    const initializeAuth = () => {\n      // Check if user is already authenticated from previous session\n      const token = sessionStorage.getItem('github_token') || localStorage.getItem('github_token');\n      if (token) {\n        const success = githubService.authenticate(token);\n        if (success) {\n          setIsAuthenticated(true);\n        } else {\n          sessionStorage.removeItem('github_token');\n          localStorage.removeItem('github_token');\n        }\n      }\n    };\n\n    initializeAuth();\n  }, []);\n\n  // Handle warning message from navigation state\n  useEffect(() => {\n    if (location.state?.warningMessage) {\n      setWarningMessage(location.state.warningMessage);\n      // Clear the warning message from navigation state to prevent it from persisting\n      navigate(location.pathname, { replace: true, state: {} });\n    }\n  }, [location.state, navigate, location.pathname]);\n\n  // Fetch user data when authentication state changes\n  useEffect(() => {\n    if (isAuthenticated && !user) {\n      fetchUserData();\n    }\n  }, [isAuthenticated, user, fetchUserData]);\n\n  const handleAuthSuccess = (token, octokitInstance) => {\n    // Store token in session storage for this session\n    sessionStorage.setItem('github_token', token);\n    \n    // Use the provided Octokit instance directly\n    githubService.authenticateWithOctokit(octokitInstance);\n    \n    setIsAuthenticated(true);\n    setError(null);\n    fetchUserData();\n  };\n\n  const handleLogout = () => {\n    githubService.logout();\n    setIsAuthenticated(false);\n    setUser(null);\n    setOrganizations([]);\n    setError(null);\n  };\n\n  const handleProfileSelect = (profile) => {\n    navigate(`/dak-action/${profile.login}`, { state: { profile } });\n  };\n\n  const handleDemoMode = () => {\n    // Create a mock profile for demonstration purposes\n    const demoProfile = {\n      login: 'demo-user',\n      name: 'Demo User',\n      avatar_url: 'https://github.com/github.png',\n      type: 'User',\n      isDemo: true\n    };\n    \n    // Navigate directly to DAK selection with edit action to show enhanced scanning\n    navigate(`/dak-selection/${demoProfile.login}`, {\n      state: {\n        profile: demoProfile,\n        action: 'edit'\n      }\n    });\n  };\n\n  const handleDismissWarning = () => {\n    setWarningMessage(null);\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <PageLayout pageName=\"landing\" showHeader={false}>\n        <div className=\"landing-page\">\n          <div className=\"landing-header\">\n            <div className=\"who-branding\">\n              <h1 className=\"clickable-title\">SGEX Workbench</h1>\n              <p className=\"subtitle\">WHO SMART Guidelines Exchange</p>\n            </div>\n            <div className=\"header-nav\">\n              <a href=\"/sgex/docs/overview\" className=\"nav-link\">📖 Documentation</a>\n            </div>\n          </div>\n          \n          <div className=\"landing-content\">\n            {warningMessage && (\n              <div className=\"warning-message\">\n                <div className=\"warning-content\">\n                  <span className=\"warning-icon\">⚠️</span>\n                  <span className=\"warning-text\">{warningMessage}</span>\n                  <button \n                    className=\"warning-dismiss\" \n                    onClick={handleDismissWarning}\n                    aria-label=\"Dismiss warning\"\n                  >\n                    ×\n                  </button>\n                </div>\n              </div>\n            )}\n            <div className=\"welcome-section\">\n              <h2>Welcome to SGEX Workbench</h2>\n              <p>\n                A browser-based, standards-compliant collaborative editor for \n                WHO SMART Guidelines Digital Adaptation Kits (DAKs).\n              </p>\n              \n              <div className=\"auth-section\">\n                <p>Connect your GitHub account to get started:</p>\n                <PATLogin \n                  onAuthSuccess={handleAuthSuccess}\n                />\n                \n                {error && (\n                  <div className=\"error-message\">\n                    {error}\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"demo-section\">\n                <p>Want to try without authentication?</p>\n                <button \n                  onClick={handleDemoMode}\n                  className=\"demo-mode-btn\"\n                >\n                  🎭 Try Demo Mode\n                </button>\n                <p className=\"demo-note\">\n                  Demo mode showcases the enhanced DAK scanning display with mock data.\n                </p>\n              </div>\n              \n              <div className=\"info-section\">\n                <p>\n                  Need help getting started? Check out our comprehensive{' '}\n                  <a href=\"/sgex/docs/overview\" className=\"doc-link\">\n                    documentation\n                  </a>{' '}\n                  to learn more about SGEX Workbench and DAK components.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout pageName=\"landing\" showHeader={false}>\n      <div className=\"landing-page\">\n        <div className=\"landing-header\">\n          <div className=\"who-branding\">\n            <h1 className=\"clickable-title\">SGEX Workbench</h1>\n            <p className=\"subtitle\">WHO SMART Guidelines Exchange</p>\n          </div>\n          <div className=\"user-info\">\n            <img src={user?.avatar_url} alt=\"User avatar\" className=\"user-avatar\" />\n            <span>{user?.name || user?.login}</span>\n            <a href=\"/sgex/docs/overview\" className=\"nav-link\">📖 Documentation</a>\n            <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\n          </div>\n        </div>\n        \n        <div className=\"landing-content\">\n          {warningMessage && (\n            <div className=\"warning-message\">\n              <div className=\"warning-content\">\n                <span className=\"warning-icon\">⚠️</span>\n                <span className=\"warning-text\">{warningMessage}</span>\n                <button \n                  className=\"warning-dismiss\" \n                  onClick={handleDismissWarning}\n                  aria-label=\"Dismiss warning\"\n                >\n                  ×\n                </button>\n              </div>\n            </div>\n          )}\n          {loading ? (\n            <div className=\"loading-section\">\n              <div className=\"spinner\"></div>\n              <p>Loading profile data...</p>\n            </div>\n          ) : (\n            <div className=\"profile-selection\">\n              <h2>Select Profile or Organization</h2>\n              <p>Choose the GitHub profile or organization containing your DAK repositories:</p>\n              \n              {error && <div className=\"error-message\">{error}</div>}\n              \n              <div className=\"profile-grid\">\n                {/* Personal Profile */}\n                <div \n                  className=\"profile-card\"\n                  onClick={() => handleProfileSelect({ type: 'user', ...user })}\n                >\n                  <div className=\"profile-card-header\">\n                    <img src={user?.avatar_url} alt=\"Personal profile\" />\n                    {dakCounts[`user-${user?.login}`] > 0 && (\n                      <div className=\"dak-count-badge\">\n                        {dakCounts[`user-${user?.login}`]}\n                      </div>\n                    )}\n                  </div>\n                  <h3>{user?.name || user?.login}</h3>\n                  <p>Personal repositories</p>\n                  <div className=\"profile-badges\">\n                    <span className=\"profile-type\">Personal</span>\n                  </div>\n                </div>\n                \n                {/* Organization Profiles */}\n                {organizations.map((org) => (\n                  <div \n                    key={org.login}\n                    className={`profile-card ${org.isWHO ? 'who-org' : ''}`}\n                    onClick={() => handleProfileSelect({ type: 'org', ...org })}\n                  >\n                    <div className=\"profile-card-header\">\n                      <img \n                        src={org.avatar_url || `https://github.com/${org.login}.png`} \n                        alt={`${org.name || org.login} organization`} \n                      />\n                      {dakCounts[`org-${org.login}`] > 0 && (\n                        <div className=\"dak-count-badge\">\n                          {dakCounts[`org-${org.login}`]}\n                        </div>\n                      )}\n                    </div>\n                    <h3>{org.name || org.login}</h3>\n                    <p>@{org.login}</p>\n                    <div className=\"profile-badges\">\n                      <span className=\"profile-type\">Organization</span>\n                      {org.isWHO && <span className=\"who-badge\">WHO Official</span>}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default LandingPageWithFramework;"],"names":["_ref","onAuthSuccess","t","useTranslation","token","setToken","useState","error","setError","loading","setLoading","componentLogger","logger","getLogger","React","componentMount","hasOnAuthSuccess","componentUnmount","_jsx","className","children","_jsxs","onSubmit","async","e","preventDefault","userAction","tokenProvided","trim","warn","startTime","Date","now","auth","Octokit","octokit","debug","apiCall","userResponse","rest","users","getAuthenticated","duration","apiResponse","status","username","data","login","err","apiError","message","console","htmlFor","id","type","value","onChange","target","placeholder","concat","disabled","autoComplete","_Fragment","LandingPageWithFramework","user","setUser","organizations","setOrganizations","isAuthenticated","setIsAuthenticated","dakCounts","setDakCounts","warningMessage","setWarningMessage","navigate","useNavigate","location","useLocation","loadCachedDakCounts","useCallback","userData","orgsData","githubService","isAuth","counts","userCache","repositoryCacheService","getCachedRepositories","repositories","length","forEach","org","orgCache","fetchUserData","checkTokenPermissions","getCurrentUser","getUserOrganizations","whoOrganization","getWHOOrganization","whoIndex","findIndex","_objectSpread","isWHO","unshift","whoError","name","description","avatar_url","html_url","some","map","sessionStorage","removeItem","localStorage","useEffect","initializeAuth","getItem","authenticate","_location$state","state","pathname","replace","handleAuthSuccess","octokitInstance","setItem","authenticateWithOctokit","handleProfileSelect","profile","handleDemoMode","demoProfile","isDemo","action","handleDismissWarning","PageLayout","pageName","showHeader","src","alt","href","onClick","handleLogout","logout","PATLogin"],"sourceRoot":""}