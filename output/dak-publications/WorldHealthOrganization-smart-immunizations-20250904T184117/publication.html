<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="WHO SMART Guidelines Digital Adaptation Kit for smart-immunizations">
    <meta name="author" content="World Health Organization">
    <meta name="generator" content="SGEX DAK Publication Generator POC v0.1.0">
    <meta name="publication-title" content="Smart Immunizations - Digital Adaptation Kit">
    <meta name="publication-version" content="1.0.0">
    <meta name="wysiwyg-enabled" content="true">
    
    <title>Smart Immunizations - Digital Adaptation Kit</title>
    
    <style>
        
/* WHO SMART Guidelines DAK Publication Styles */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background: white;
    font-size: 11pt;
}

/* Page layout and breaks */
.page-break {
    page-break-before: always;
}

@page {
    size: A4;
    margin: 2.5cm 2cm;
    
    @top-center {
        content: "WHO SMART Guidelines - DAK Publication";
        font-size: 9pt;
        color: #666;
    }
    
    @bottom-center {
        content: "Page " counter(page);
        font-size: 9pt;
        color: #666;
    }
}

/* WHO Branding */
.who-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 0;
    border-bottom: 3px solid #0078d4;
    margin-bottom: 30px;
}

.who-logo {
    font-size: 24pt;
    font-weight: bold;
    color: #0078d4;
    background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.document-type {
    font-size: 12pt;
    color: #005a9e;
    font-weight: 600;
}

/* Cover page */
.cover-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 40px 0;
}

.title-section {
    text-align: center;
    padding: 60px 0;
}

.title-section h1 {
    font-size: 28pt;
    color: #0078d4;
    margin-bottom: 20px;
    line-height: 1.3;
}

.subtitle {
    font-size: 16pt;
    color: #666;
    font-style: italic;
}

.metadata-section {
    background: #f8f9fa;
    padding: 30px;
    border-radius: 8px;
    margin: 40px 0;
}

.metadata-item {
    display: flex;
    padding: 8px 0;
    border-bottom: 1px solid #e9ecef;
}

.metadata-item:last-child {
    border-bottom: none;
}

.metadata-item label {
    font-weight: bold;
    color: #005a9e;
    width: 120px;
    flex-shrink: 0;
}

.metadata-item span {
    color: #333;
}

.who-footer {
    text-align: center;
    padding: 20px 0;
    border-top: 2px solid #e9ecef;
}

.copyright {
    font-size: 12pt;
    color: #005a9e;
    font-weight: 600;
    margin-bottom: 10px;
}

.license {
    font-size: 10pt;
    color: #666;
}

/* Table of Contents */
.toc-page h1 {
    color: #0078d4;
    font-size: 24pt;
    margin-bottom: 30px;
    border-bottom: 3px solid #0078d4;
    padding-bottom: 10px;
}

.toc-list {
    margin: 20px 0;
}

.toc-item {
    display: flex;
    align-items: baseline;
    padding: 8px 0;
    border-bottom: 1px dotted #ccc;
}

.toc-title {
    flex-shrink: 0;
}

.toc-title a {
    color: #0078d4;
    text-decoration: none;
}

.toc-title a:hover {
    text-decoration: underline;
}

.toc-dots {
    flex-grow: 1;
    border-bottom: 1px dotted #ccc;
    margin: 0 10px;
    height: 1px;
}

.toc-page {
    flex-shrink: 0;
    font-weight: bold;
    color: #005a9e;
}

/* Executive Summary */
.executive-summary h1 {
    color: #0078d4;
    font-size: 24pt;
    margin-bottom: 20px;
    border-bottom: 3px solid #0078d4;
    padding-bottom: 10px;
}

.summary-stats {
    display: flex;
    justify-content: space-around;
    margin: 30px 0;
    padding: 20px;
    background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
    border-radius: 8px;
    color: white;
}

.stat-item {
    text-align: center;
}

.stat-number {
    font-size: 36pt;
    font-weight: bold;
    margin-bottom: 10px;
}

.stat-label {
    font-size: 12pt;
    opacity: 0.9;
}

.component-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.component-card {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border-left: 4px solid #0078d4;
}

.component-card h3 {
    color: #005a9e;
    margin-bottom: 10px;
    font-size: 14pt;
}

.component-card p {
    color: #666;
    font-size: 10pt;
}

/* Component sections */
.component-section {
    margin-bottom: 40px;
}

.component-section h1 {
    color: #0078d4;
    font-size: 20pt;
    margin-bottom: 20px;
    border-bottom: 2px solid #0078d4;
    padding-bottom: 10px;
}

.component-description {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
    border-left: 4px solid #40e0d0;
}

.component-description p {
    color: #666;
    font-style: italic;
    margin: 0;
}

.component-content {
    margin: 20px 0;
}

.component-content h2 {
    color: #005a9e;
    font-size: 16pt;
    margin: 25px 0 15px 0;
    border-bottom: 1px solid #e9ecef;
    padding-bottom: 8px;
}

.component-content h3 {
    color: #333;
    font-size: 14pt;
    margin: 20px 0 10px 0;
}

.component-content h4 {
    color: #555;
    font-size: 12pt;
    margin: 15px 0 8px 0;
}

.component-content p {
    margin: 10px 0;
    text-align: justify;
}

.component-content ul, .component-content ol {
    margin: 10px 0 10px 20px;
}

.component-content li {
    margin: 5px 0;
}

.component-content strong {
    color: #005a9e;
}

/* Component metadata */
.component-metadata {
    margin-top: 30px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 8px;
    border: 1px solid #e9ecef;
}

.component-metadata h3 {
    color: #005a9e;
    margin-bottom: 15px;
    font-size: 14pt;
}

/* Actors grid */
.actors-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
}

.actor-card {
    background: white;
    padding: 15px;
    border-radius: 6px;
    border: 1px solid #e9ecef;
}

.actor-card h4 {
    color: #0078d4;
    margin-bottom: 5px;
}

.actor-role {
    font-size: 10pt;
    color: #666;
    font-style: italic;
    margin-bottom: 10px;
}

/* Workflows table */
.workflows-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.workflows-table th,
.workflows-table td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #e9ecef;
}

.workflows-table th {
    background: #0078d4;
    color: white;
    font-weight: bold;
}

.workflows-table tbody tr:hover {
    background: #f8f9fa;
}

/* Metrics grid */
.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.metric-card {
    background: white;
    padding: 15px;
    border-radius: 6px;
    border: 1px solid #e9ecef;
    text-align: center;
}

.metric-card h4 {
    color: #0078d4;
    margin-bottom: 8px;
    font-size: 12pt;
}

.metric-type {
    font-size: 10pt;
    color: #666;
    text-transform: uppercase;
    margin-bottom: 5px;
}

.metric-target {
    font-size: 11pt;
    color: #005a9e;
    font-weight: bold;
}

/* Copyright page */
.copyright-page {
    padding: 20px 0;
}

.copyright-page h1 {
    color: #0078d4;
    font-size: 20pt;
    margin-bottom: 20px;
    border-bottom: 2px solid #0078d4;
    padding-bottom: 10px;
}

.copyright-notice p {
    margin: 15px 0;
    text-align: justify;
}

.copyright-notice h2 {
    color: #005a9e;
    font-size: 14pt;
    margin: 25px 0 10px 0;
}

/* Print optimizations */
@media print {
    body {
        font-size: 10pt;
    }
    
    .page-break {
        page-break-before: always;
    }
    
    .component-section {
        page-break-inside: avoid;
    }
    
    .component-card,
    .actor-card,
    .metric-card {
        page-break-inside: avoid;
    }
    
    a {
        color: #0078d4 !important;
        text-decoration: none;
    }
    
    a::after {
        content: " (" attr(href) ")";
        font-size: 8pt;
        color: #666;
    }
}

/* Responsive design for web viewing */
@media screen and (max-width: 768px) {
    .summary-stats {
        flex-direction: column;
        gap: 20px;
    }
    
    .actors-grid,
    .metrics-grid {
        grid-template-columns: 1fr;
    }
    
    .metadata-item {
        flex-direction: column;
    }
    
    .metadata-item label {
        width: auto;
        margin-bottom: 5px;
    }
}
    
        
        /* WYSIWYG Editor Styles */
        .wysiwyg-toolbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #0078d4;
            color: white;
            padding: 10px;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .wysiwyg-toolbar button {
            background: white;
            color: #0078d4;
            border: none;
            padding: 8px 12px;
            margin-right: 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .wysiwyg-editable {
            position: relative;
            border: 2px dashed transparent;
            transition: border-color 0.2s;
        }
        
        .wysiwyg-editable:hover {
            border-color: #40e0d0;
            background: rgba(64, 224, 208, 0.1);
        }
        
        .wysiwyg-editable:focus {
            border-color: #0078d4;
            background: rgba(0, 120, 212, 0.1);
            outline: none;
        }
        
        .wysiwyg-editable::before {
            content: attr(data-wysiwyg-field);
            position: absolute;
            top: -20px;
            left: 0;
            font-size: 10px;
            color: #0078d4;
            background: white;
            padding: 2px 6px;
            border-radius: 2px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .wysiwyg-editable:hover::before {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- WYSIWYG Editor Integration Point -->
    <div id="wysiwyg-toolbar" class="wysiwyg-toolbar" style="display: none;">
        <span>📝 WYSIWYG Mode:</span>
        <button onclick="editContent('publication-title')">✏️ Edit Title</button>
        <button onclick="editContent('custom-preface')">📄 Edit Preface</button>
        <button onclick="previewPublication()">👁️ Preview</button>
        <button onclick="saveChanges()">💾 Save</button>
        <button onclick="toggleWYSIWYG()">❌ Exit WYSIWYG</button>
    </div>
    
    <!-- Cover Page -->
    <div class="cover-page">
        <div class="who-header">
            <div class="who-logo">WHO</div>
            <div class="document-type">SMART Guidelines Digital Adaptation Kit</div>
        </div>
        
        <div class="title-section">
            <h1 data-wysiwyg-field="publication.title" class="wysiwyg-editable">Smart Immunizations - Digital Adaptation Kit</h1>
            <div class="subtitle" data-wysiwyg-field="publication.subtitle" class="wysiwyg-editable">WHO SMART Guidelines Implementation Guide</div>
        </div>
        
        <div class="metadata-section">
            <div class="metadata-item"><strong>Version:</strong> 1.0.0</div>
            <div class="metadata-item"><strong>Generated:</strong> 9/4/2025</div>
            <div class="metadata-item"><strong>Repository:</strong> WorldHealthOrganization/smart-immunizations</div>
        </div>
        
        <div class="copyright-section">
            <div data-wysiwyg-field="publication.copyright" class="wysiwyg-editable">© 2024 World Health Organization - This work is licensed under CC BY-SA 3.0 IGO</div>
            <div>This work is available under the Creative Commons Attribution-ShareAlike 3.0 IGO licence</div>
        </div>
    </div>
    
    <!-- Custom Preface (User-Editable) -->
    
    <div class="custom-preface-section">
        <div data-wysiwyg-field="publication.custom_preface" class="wysiwyg-editable">
            
        <div class="custom-preface">
          <h3>About This Publication</h3>
          <p>This Digital Adaptation Kit (DAK) represents the culmination of extensive collaboration 
          between WHO technical experts, implementation partners, and digital health practitioners.</p>
          <p><strong>Note:</strong> This publication was generated using the SGeX Workbench WYSIWYG 
          publication system, demonstrating user-editable content capabilities.</p>
        </div>
      
        </div>
    </div>
    
    
    
      <div class="toc-list">
        
          <div class="toc-item">
            <div class="toc-title">
              Executive Summary
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">3</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#cover">cover</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">4</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#toc">toc</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">5</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#executive_summary">executive_summary</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">6</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#health_interventions">health_interventions</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">7</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#personas">Generic Personas</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">8</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#user_scenarios">user_scenarios</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">9</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#business_processes">business_processes</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">10</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#data_elements">data_elements</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">11</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#decision_logic">decision_logic</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">12</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#indicators">Program Indicators</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">13</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#requirements">Functional and Non-Functional Requirements</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">14</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              <a href="#test_scenarios">test_scenarios</a>
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">15</div>
          </div>
        
          <div class="toc-item">
            <div class="toc-title">
              Copyright and Licensing
            </div>
            <div class="toc-dots"></div>
            <div class="toc-page">99</div>
          </div>
        
      </div>
    
    
    <!-- Executive Summary -->
    <div class="section executive-summary">
        <h2>Executive Summary</h2>
        <div class="section-content">
            <p>This Digital Adaptation Kit (DAK) provides a comprehensive implementation guide for 
            <strong>Smart Immunizations</strong> following WHO SMART Guidelines standards.</p>
            
            <div class="statistics">
                <h3>DAK Components Overview</h3>
                <ul>
                    <li><strong>Health Interventions:</strong> 1 references</li>
                    <li><strong>Generic Personas:</strong> 2 actors defined</li>
                    <li><strong>User Scenarios:</strong> 1 scenarios documented</li>
                    <li><strong>Business Processes:</strong> 1 workflows</li>
                    <li><strong>Core Data Elements:</strong> 2 elements defined</li>
                    <li><strong>Decision Logic:</strong> 1 decision tables</li>
                    <li><strong>Program Indicators:</strong> 2 metrics</li>
                    <li><strong>Test Scenarios:</strong> 2 test cases</li>
                </ul>
            </div>
        </div>
    </div>
    
    
        <div class="page-break"></div>
        <div class="component-section" id="personas">
            <h1 data-wysiwyg-field="components.personas.title" class="wysiwyg-editable">Generic Personas</h1>
            
            
            
            <div class="component-description">
                <p>Depiction of the human and system actors</p>
            </div>
            
            
            
            <div class="component-content">
                
# Generic Personas

This section describes the key actors and personas involved in the healthcare delivery process.

## Healthcare Worker

**Role**: Primary care provider
**Responsibilities**: 
- Patient assessment and diagnosis
- Treatment planning and implementation
- Documentation and reporting

**Skills and Training**:
- Clinical expertise in relevant health area
- Training on DAK implementation
- Familiarity with digital health tools

## Patient

**Role**: Care recipient
**Characteristics**:
- Seeking healthcare services
- May have varying levels of health literacy
- Requires culturally appropriate care

## System Administrator

**Role**: Technical support and system management
**Responsibilities**:
- System maintenance and updates
- User access management
- Technical troubleshooting
      
                
                
            </div>
            
            <div class="component-metadata">
                <p><strong>Assets:</strong> 2 actor definitions</p>
            </div>
        </div>
      
        <div class="page-break"></div>
        <div class="component-section" id="indicators">
            <h1 data-wysiwyg-field="components.indicators.title" class="wysiwyg-editable">Program Indicators</h1>
            
            
            
            <div class="component-description">
                <p>Core set of indicators for decision-making, performance metrics and reporting</p>
            </div>
            
            
            
            <div class="component-content">
                
# Program Indicators

This section defines the key performance indicators for monitoring and evaluation of the DAK implementation.

## Quality Indicators

### Patient Safety Indicators
- **Adverse Event Rate**: Number of adverse events per 1000 patient visits
- **Medication Error Rate**: Percentage of medication administration errors
- **Patient Satisfaction Score**: Average patient satisfaction rating

### Clinical Quality Indicators
- **Guideline Adherence Rate**: Percentage of cases following clinical guidelines
- **Treatment Completion Rate**: Percentage of patients completing prescribed treatment
- **Diagnostic Accuracy**: Percentage of accurate initial diagnoses

## Efficiency Indicators

### Process Indicators
- **Average Wait Time**: Mean time from arrival to consultation
- **Consultation Duration**: Average time spent per patient consultation
- **Patient Throughput**: Number of patients served per day

### Resource Utilization
- **Healthcare Worker Productivity**: Patients seen per healthcare worker per day
- **Equipment Utilization Rate**: Percentage of time equipment is in use
- **Supply Stock-out Rate**: Percentage of time essential supplies are unavailable
      
                
                
            </div>
            
            <div class="component-metadata">
                <p><strong>Assets:</strong> 2 metrics</p>
            </div>
        </div>
      
        <div class="page-break"></div>
        <div class="component-section" id="requirements">
            <h1 data-wysiwyg-field="components.requirements.title" class="wysiwyg-editable">Functional and Non-Functional Requirements</h1>
            
            
            
            <div class="component-description">
                <p>High-level list of core functions and capabilities that the system must have</p>
            </div>
            
            
            
            <div class="component-content">
                
# Functional and Non-Functional Requirements

This section outlines the system requirements for successful DAK implementation.

## Functional Requirements

### Core System Functions
1. **Patient Registration**: System shall support patient demographic data capture
2. **Clinical Documentation**: System shall enable structured clinical data entry
3. **Decision Support**: System shall provide real-time clinical decision support
4. **Reporting**: System shall generate standardized reports
5. **Data Export**: System shall support data export in standard formats

### User Management
1. **User Authentication**: System shall authenticate users securely
2. **Role-Based Access**: System shall enforce role-based permissions
3. **Audit Trail**: System shall maintain complete audit logs

## Non-Functional Requirements

### Performance Requirements
- **Response Time**: System responses shall be under 3 seconds
- **Concurrent Users**: System shall support up to 100 concurrent users
- **Availability**: System shall maintain 99.5% uptime

### Security Requirements
- **Data Encryption**: All data shall be encrypted in transit and at rest
- **Access Control**: Strong authentication and authorization mechanisms
- **Privacy Compliance**: Adherence to local data protection regulations

### Usability Requirements
- **User Interface**: Intuitive interface requiring minimal training
- **Mobile Compatibility**: Responsive design for mobile devices
- **Offline Capability**: Core functions available without internet connectivity
      
                
                
            </div>
            
            <div class="component-metadata">
                <p><strong>Assets:</strong> 0 requirements</p>
            </div>
        </div>
      
    
    <!-- Footer -->
    <div class="footer">
        <div class="footer-content">
            <div class="footer-metadata">
                <div><strong>Generated:</strong> 2025-09-04T18:41:17.216Z</div>
                <div><strong>Source Repository:</strong> <a href="https://github.com/WorldHealthOrganization/smart-immunizations" target="_blank">https://github.com/WorldHealthOrganization/smart-immunizations</a></div>
                <div><strong>Generator:</strong> SGeX Workbench DAK Publication System (WYSIWYG-enabled)</div>
            </div>
            
            
        </div>
    </div>
    
    <!-- WYSIWYG JavaScript -->
    <script>
        // Template variables for WYSIWYG editing
        window.publicationVariables = {
  "publication": {
    "title": "Smart Immunizations - Digital Adaptation Kit",
    "subtitle": "WHO SMART Guidelines Implementation Guide",
    "copyright": "© 2024 World Health Organization - This work is licensed under CC BY-SA 3.0 IGO",
    "custom_preface": "\n        <div class=\"custom-preface\">\n          <h3>About This Publication</h3>\n          <p>This Digital Adaptation Kit (DAK) represents the culmination of extensive collaboration \n          between WHO technical experts, implementation partners, and digital health practitioners.</p>\n          <p><strong>Note:</strong> This publication was generated using the SGeX Workbench WYSIWYG \n          publication system, demonstrating user-editable content capabilities.</p>\n        </div>\n      ",
    "custom_footer": ""
  },
  "dak": {
    "name": "Smart Immunizations",
    "canonical": "https://smart.who.int/dak/WorldHealthOrganization/smart-immunizations",
    "version": "1.0.0",
    "description": "WHO SMART Guidelines Digital Adaptation Kit for smart-immunizations"
  },
  "generation": {
    "date": "9/4/2025",
    "year": 2025,
    "timestamp": "2025-09-04T18:41:17.216Z"
  },
  "repository": {
    "owner": "WorldHealthOrganization",
    "name": "smart-immunizations",
    "url": "https://github.com/WorldHealthOrganization/smart-immunizations",
    "branch": "main"
  },
  "components": {
    "healthInterventions": {
      "title": "Health Interventions and Recommendations",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 1,
      "assets": [
        {
          "type": "iris_reference",
          "title": "WHO Guidelines Example",
          "url": "https://iris.who.int/example",
          "display_type": "link",
          "publication_usage": {
            "section": "health_interventions",
            "display_type": "inline",
            "caption": "WHO Guidelines Example"
          }
        }
      ],
      "description": "Overview of the health interventions and WHO recommendations included within the DAK",
      "content": "\n# Health Interventions and Recommendations\n\nThis section outlines the key health interventions and evidence-based recommendations included in this Digital Adaptation Kit.\n\n## Overview\n\nThe health interventions defined in this DAK are based on WHO guidelines and best practices for healthcare delivery. These interventions are designed to improve patient outcomes and support healthcare workers in providing high-quality care.\n\n## Key Interventions\n\n1. **Primary Care Assessment**: Comprehensive health assessment protocols\n2. **Treatment Guidelines**: Evidence-based treatment recommendations\n3. **Follow-up Procedures**: Standardized follow-up care protocols\n\n## Implementation Considerations\n\n- Healthcare worker training requirements\n- Resource allocation and planning\n- Quality assurance measures\n- Performance monitoring indicators\n      ",
      "iris_references": [
        {
          "title": "WHO Guidelines Example",
          "url": "https://iris.who.int/example"
        }
      ]
    },
    "personas": {
      "title": "Generic Personas",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 2,
      "assets": [],
      "description": "Depiction of the human and system actors",
      "content": "\n# Generic Personas\n\nThis section describes the key actors and personas involved in the healthcare delivery process.\n\n## Healthcare Worker\n\n**Role**: Primary care provider\n**Responsibilities**: \n- Patient assessment and diagnosis\n- Treatment planning and implementation\n- Documentation and reporting\n\n**Skills and Training**:\n- Clinical expertise in relevant health area\n- Training on DAK implementation\n- Familiarity with digital health tools\n\n## Patient\n\n**Role**: Care recipient\n**Characteristics**:\n- Seeking healthcare services\n- May have varying levels of health literacy\n- Requires culturally appropriate care\n\n## System Administrator\n\n**Role**: Technical support and system management\n**Responsibilities**:\n- System maintenance and updates\n- User access management\n- Technical troubleshooting\n      ",
      "actors": [
        {
          "name": "Healthcare Worker",
          "role": "Primary Care Provider",
          "description": "Front-line healthcare provider"
        },
        {
          "name": "Patient",
          "role": "Care Recipient",
          "description": "Individual receiving healthcare services"
        }
      ]
    },
    "userScenarios": {
      "title": "User Scenarios",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 1,
      "assets": [],
      "description": "Narratives that describe how different personas interact",
      "content": "\n# User Scenarios\n\nThis section presents typical scenarios of how different personas interact with the system and each other.\n\n## Scenario 1: Patient Registration and Initial Assessment\n\n**Actors**: Healthcare Worker, Patient, System\n\n**Flow**:\n1. Patient arrives at healthcare facility\n2. Healthcare worker initiates registration process\n3. System captures patient demographic information\n4. Healthcare worker conducts initial health assessment\n5. System records assessment data and generates care plan\n\n## Scenario 2: Follow-up Visit\n\n**Actors**: Healthcare Worker, Patient, System\n\n**Flow**:\n1. Patient returns for scheduled follow-up\n2. Healthcare worker reviews previous care plan\n3. System displays patient history and recommendations\n4. Healthcare worker updates patient status\n5. System generates updated care plan if needed\n      ",
      "scenarios": [
        {
          "name": "Patient Registration",
          "actors": [
            "Healthcare Worker",
            "Patient"
          ],
          "steps": 5
        }
      ]
    },
    "businessProcesses": {
      "title": "Business Processes and Workflows",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 1,
      "assets": [
        {
          "type": "bpmn_diagram",
          "title": "Patient Care Workflow",
          "complexity": "Medium",
          "steps": 12,
          "publication_usage": {
            "section": "business_processes",
            "display_type": "figure",
            "caption": "Patient Care Workflow (12 steps, Medium complexity)"
          }
        }
      ],
      "description": "Business processes and workflows for achieving health programme objectives",
      "content": "\n# Business Processes and Workflows\n\nThis section documents the key business processes and workflows that support the health interventions.\n\n## Patient Care Workflow\n\n**Purpose**: Standardized approach to patient care delivery\n\n**Key Steps**:\n1. Patient registration and identification\n2. Initial health assessment\n3. Diagnosis and treatment planning\n4. Treatment implementation\n5. Outcome monitoring and evaluation\n6. Follow-up care coordination\n\n## Quality Assurance Process\n\n**Purpose**: Ensure adherence to clinical guidelines and quality standards\n\n**Key Components**:\n- Regular supervision and mentoring\n- Performance indicator monitoring\n- Continuous quality improvement\n- Feedback and corrective action processes\n      ",
      "workflows": [
        {
          "name": "Patient Care Workflow",
          "type": "BPMN",
          "steps": 12,
          "complexity": "Medium"
        }
      ]
    },
    "dataElements": {
      "title": "Core Data Elements",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 2,
      "assets": [],
      "description": "Data elements required throughout different points of a workflow",
      "content": "\n# Core Data Elements\n\nThis section defines the essential data elements required for effective implementation of the DAK.\n\n## Patient Demographics\n\n- **Patient ID**: Unique identifier for each patient\n- **Name**: Patient full name\n- **Date of Birth**: Patient age calculation\n- **Gender**: Biological sex classification\n- **Contact Information**: Phone number, address\n\n## Clinical Data\n\n- **Visit Date**: Date of healthcare encounter\n- **Chief Complaint**: Primary reason for visit\n- **Vital Signs**: Blood pressure, temperature, weight, height\n- **Clinical Assessment**: Healthcare worker observations\n- **Diagnosis**: Primary and secondary diagnoses\n- **Treatment Plan**: Prescribed interventions and medications\n\n## Administrative Data\n\n- **Healthcare Facility**: Location of care delivery\n- **Healthcare Worker ID**: Provider identification\n- **Visit Type**: Initial, follow-up, emergency\n- **Payment Method**: Insurance, out-of-pocket, etc.\n      ",
      "elements": [
        {
          "name": "Patient ID",
          "type": "identifier",
          "required": true
        },
        {
          "name": "Visit Date",
          "type": "date",
          "required": true
        }
      ]
    },
    "decisionLogic": {
      "title": "Decision Support Logic",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 1,
      "assets": [],
      "description": "Decision-support logic and algorithms to support appropriate service delivery",
      "content": "\n# Decision Support Logic\n\nThis section outlines the clinical decision support algorithms and logic embedded in the DAK.\n\n## Treatment Decision Algorithm\n\n**Purpose**: Guide healthcare workers in selecting appropriate treatments based on patient characteristics and clinical findings.\n\n**Input Variables**:\n- Patient age and gender\n- Clinical symptoms and signs\n- Severity indicators\n- Contraindications and allergies\n- Resource availability\n\n**Decision Rules**:\n1. If severe symptoms present → Immediate referral\n2. If moderate symptoms + risk factors → Enhanced monitoring\n3. If mild symptoms → Standard treatment protocol\n\n## Risk Stratification Logic\n\n**Purpose**: Categorize patients based on risk level for targeted interventions.\n\n**Risk Categories**:\n- **High Risk**: Multiple risk factors, immediate intervention required\n- **Medium Risk**: Some risk factors, enhanced monitoring needed\n- **Low Risk**: Minimal risk factors, standard care appropriate\n      ",
      "tables": [
        {
          "name": "Treatment Decision Table",
          "inputs": 3,
          "rules": 8,
          "complexity": "Medium"
        }
      ]
    },
    "indicators": {
      "title": "Program Indicators",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 2,
      "assets": [],
      "description": "Core set of indicators for decision-making, performance metrics and reporting",
      "content": "\n# Program Indicators\n\nThis section defines the key performance indicators for monitoring and evaluation of the DAK implementation.\n\n## Quality Indicators\n\n### Patient Safety Indicators\n- **Adverse Event Rate**: Number of adverse events per 1000 patient visits\n- **Medication Error Rate**: Percentage of medication administration errors\n- **Patient Satisfaction Score**: Average patient satisfaction rating\n\n### Clinical Quality Indicators\n- **Guideline Adherence Rate**: Percentage of cases following clinical guidelines\n- **Treatment Completion Rate**: Percentage of patients completing prescribed treatment\n- **Diagnostic Accuracy**: Percentage of accurate initial diagnoses\n\n## Efficiency Indicators\n\n### Process Indicators\n- **Average Wait Time**: Mean time from arrival to consultation\n- **Consultation Duration**: Average time spent per patient consultation\n- **Patient Throughput**: Number of patients served per day\n\n### Resource Utilization\n- **Healthcare Worker Productivity**: Patients seen per healthcare worker per day\n- **Equipment Utilization Rate**: Percentage of time equipment is in use\n- **Supply Stock-out Rate**: Percentage of time essential supplies are unavailable\n      ",
      "metrics": [
        {
          "name": "Patient Satisfaction",
          "type": "quality",
          "target": "> 90%"
        },
        {
          "name": "Treatment Completion Rate",
          "type": "outcome",
          "target": "> 85%"
        }
      ]
    },
    "requirements": {
      "title": "Functional and Non-Functional Requirements",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 0,
      "assets": [],
      "description": "High-level list of core functions and capabilities that the system must have",
      "content": "\n# Functional and Non-Functional Requirements\n\nThis section outlines the system requirements for successful DAK implementation.\n\n## Functional Requirements\n\n### Core System Functions\n1. **Patient Registration**: System shall support patient demographic data capture\n2. **Clinical Documentation**: System shall enable structured clinical data entry\n3. **Decision Support**: System shall provide real-time clinical decision support\n4. **Reporting**: System shall generate standardized reports\n5. **Data Export**: System shall support data export in standard formats\n\n### User Management\n1. **User Authentication**: System shall authenticate users securely\n2. **Role-Based Access**: System shall enforce role-based permissions\n3. **Audit Trail**: System shall maintain complete audit logs\n\n## Non-Functional Requirements\n\n### Performance Requirements\n- **Response Time**: System responses shall be under 3 seconds\n- **Concurrent Users**: System shall support up to 100 concurrent users\n- **Availability**: System shall maintain 99.5% uptime\n\n### Security Requirements\n- **Data Encryption**: All data shall be encrypted in transit and at rest\n- **Access Control**: Strong authentication and authorization mechanisms\n- **Privacy Compliance**: Adherence to local data protection regulations\n\n### Usability Requirements\n- **User Interface**: Intuitive interface requiring minimal training\n- **Mobile Compatibility**: Responsive design for mobile devices\n- **Offline Capability**: Core functions available without internet connectivity\n      ",
      "functional": 8,
      "nonFunctional": 5
    },
    "testScenarios": {
      "title": "Test Scenarios",
      "custom_summary": "",
      "custom_introduction": "",
      "count": 2,
      "assets": [],
      "description": "Set of test scenarios to validate an implementation of the DAK",
      "content": "\n# Test Scenarios\n\nThis section defines comprehensive test scenarios for validating DAK implementation.\n\n## Functional Test Scenarios\n\n### Patient Registration Testing\n- **Scenario**: New patient registration with complete demographic information\n- **Expected Result**: Patient record created successfully with unique identifier\n- **Data Requirements**: Valid demographic data set\n- **Acceptance Criteria**: Registration completed within 2 minutes\n\n### Clinical Workflow Testing\n- **Scenario**: Complete patient care workflow from registration to discharge\n- **Expected Result**: All clinical data captured and care plan generated\n- **Data Requirements**: Clinical test cases with various conditions\n- **Acceptance Criteria**: Workflow completed without errors\n\n## Performance Test Scenarios\n\n### Load Testing\n- **Scenario**: Multiple concurrent users accessing the system\n- **Expected Result**: System maintains performance under load\n- **Test Parameters**: 50 concurrent users for 30 minutes\n- **Acceptance Criteria**: Response times remain under 3 seconds\n\n### Stress Testing\n- **Scenario**: System behavior under extreme load conditions\n- **Expected Result**: Graceful degradation without data loss\n- **Test Parameters**: 200% of expected user load\n- **Acceptance Criteria**: System recovers automatically when load decreases\n\n## Security Test Scenarios\n\n### Authentication Testing\n- **Scenario**: Various authentication attempts including invalid credentials\n- **Expected Result**: Appropriate access granted/denied based on credentials\n- **Test Cases**: Valid login, invalid password, account lockout\n- **Acceptance Criteria**: No unauthorized access permitted\n\n### Data Protection Testing\n- **Scenario**: Attempt to access patient data without proper authorization\n- **Expected Result**: Access denied and security event logged\n- **Test Parameters**: Various unauthorized access attempts\n- **Acceptance Criteria**: All attempts blocked and logged\n      ",
      "scenarios": [
        {
          "name": "Patient Registration Test",
          "type": "functional",
          "priority": "high"
        },
        {
          "name": "Performance Load Test",
          "type": "non-functional",
          "priority": "medium"
        }
      ]
    }
  }
};
        
        // User-editable content fields
        window.editableFields = [
  {
    "key": "title",
    "type": "text",
    "label": "Publication Title",
    "section": "publication"
  },
  {
    "key": "subtitle",
    "type": "text",
    "label": "Publication Subtitle",
    "section": "publication"
  },
  {
    "key": "copyright",
    "type": "text",
    "label": "Copyright Notice",
    "section": "publication"
  },
  {
    "key": "custom_preface",
    "type": "rich_text",
    "label": "Custom Preface",
    "section": "publication"
  },
  {
    "key": "custom_footer",
    "type": "rich_text",
    "label": "Custom Footer",
    "section": "publication"
  },
  {
    "key": "health_interventions_summary",
    "type": "rich_text",
    "label": "Health Interventions Summary",
    "section": "components"
  },
  {
    "key": "personas_introduction",
    "type": "rich_text",
    "label": "Personas Introduction",
    "section": "components"
  },
  {
    "key": "business_processes_description",
    "type": "rich_text",
    "label": "Business Process Description",
    "section": "components"
  }
];
        
        // WYSIWYG helper functions
        function editContent(fieldId) {
            console.log('🎨 Edit content field:', fieldId);
            const element = document.querySelector(`[data-wysiwyg-field="${fieldId}"]`);
            if (element) {
                element.focus();
                console.log('📝 Field focused for editing:', fieldId);
            }
        }
        
        function previewPublication() {
            console.log('👁️ Preview publication with current edits');
            // In real implementation, generate live preview
            alert('Preview mode would show real-time changes here');
        }
        
        function saveChanges() {
            console.log('💾 Save user changes');
            const changes = {};
            document.querySelectorAll('[data-wysiwyg-field]').forEach(el => {
                changes[el.getAttribute('data-wysiwyg-field')] = el.innerHTML;
            });
            console.log('Changes to save:', changes);
            // In real implementation, persist user-editable content
            alert('Changes would be saved to user content storage');
        }
        
        function toggleWYSIWYG() {
            const toolbar = document.getElementById('wysiwyg-toolbar');
            const isVisible = toolbar.style.display !== 'none';
            toolbar.style.display = isVisible ? 'none' : 'block';
            
            // Toggle editable mode
            document.querySelectorAll('.wysiwyg-editable').forEach(el => {
                el.contentEditable = !isVisible;
            });
            
            console.log(isVisible ? '❌ WYSIWYG mode disabled' : '🎨 WYSIWYG mode enabled');
        }
        
        // Initialize WYSIWYG mode
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 WYSIWYG Publication System Initialized');
            console.log('📊 Available template variables:', Object.keys(window.publicationVariables));
            console.log('✏️ Editable fields:', window.editableFields.length);
            
            // Show WYSIWYG toolbar by default for demonstration
            document.getElementById('wysiwyg-toolbar').style.display = 'block';
            document.body.style.paddingTop = '60px'; // Account for toolbar
            
            // Mark all editable elements
            document.querySelectorAll('[data-wysiwyg-field]').forEach(el => {
                el.classList.add('wysiwyg-editable');
            });
        });
        
        // Log variable usage for development
        console.log('🔧 Template Variables Structure:');
        console.log('- publication:', Object.keys(window.publicationVariables.publication || {}));
        console.log('- dak:', Object.keys(window.publicationVariables.dak || {}));
        console.log('- components:', Object.keys(window.publicationVariables.components || {}));
    </script>
</body>
</html>