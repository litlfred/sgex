"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[703],{13333:(e,t,i)=>{i.d(t,{hX:()=>s});const s=function(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((e=>!!(null!==e&&void 0!==e&&e.ctrlKey||null!==e&&void 0!==e&&e.metaKey))(e)){const e=(e=>{const t="/sgex/copilot-fix-761",i=window.location.origin,s=e.startsWith("/")?e.slice(1):e;if(!t)return"".concat(i,"/").concat(s);const n=t.endsWith("/")?t:t+"/";return"".concat(i).concat(n).concat(s)})(t);window.open(e,"_blank","noopener,noreferrer")}else s?i(t,{state:s}):i(t)}},60703:(e,t,i)=>{i.r(t),i.d(t,{default:()=>j});var s=i(65043),n=i(73537),o=i(74117),a=i(93071),c=i(5452),r=i(68598);const l=new class{constructor(){this.logger=c.A.getLogger("OAuthDeviceFlowService"),this.deviceCodeEndpoint="https://github.com/login/device/code",this.tokenEndpoint="https://github.com/login/oauth/access_token",this.verificationUri="https://github.com/login/device",this.clientId={NODE_ENV:"production",PUBLIC_URL:"/sgex/copilot-fix-761",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_REF_NAME:"copilot/fix-761"}.REACT_APP_GITHUB_OAUTH_CLIENT_ID||"",this.deviceCode=null,this.userCode=null,this.verificationUrl=null,this.interval=5,this.expiresIn=900,this.pollingActive=!1,this.pollingTimeoutId=null,this.logger.debug("OAuthDeviceFlowService instance created",{hasClientId:!!this.clientId,clientIdMask:this.clientId?"".concat(this.clientId.substring(0,8),"..."):"none"})}checkConfiguration(){const e=!!this.clientId;return e||this.logger.warn("OAuth Device Flow not configured - missing client ID"),{isConfigured:e,clientId:this.clientId?"".concat(this.clientId.substring(0,8),"..."):null,hasClientId:!!this.clientId}}async requestDeviceCode(){if(this.logger.debug("Requesting device code from GitHub"),!this.clientId)throw new Error("OAuth client ID not configured. Please set REACT_APP_GITHUB_OAUTH_CLIENT_ID environment variable.");const e=new URLSearchParams({client_id:this.clientId,scope:"repo read:org"});try{const t=await fetch(this.deviceCodeEndpoint,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:e});if(!t.ok){const e=await t.text();throw new Error("Device code request failed: ".concat(t.status," ").concat(t.statusText," - ").concat(e))}const i=await t.json();return this.deviceCode=i.device_code,this.userCode=i.user_code,this.verificationUrl=i.verification_uri||this.verificationUri,this.interval=i.interval||5,this.expiresIn=i.expires_in||900,this.logger.debug("Device code received successfully",{userCode:this.userCode,verificationUrl:this.verificationUrl,interval:this.interval,expiresIn:this.expiresIn}),{userCode:this.userCode,verificationUrl:this.verificationUrl,verificationUrlComplete:"".concat(this.verificationUrl,"?code=").concat(this.userCode),interval:this.interval,expiresIn:this.expiresIn}}catch(t){throw this.logger.error("Failed to request device code",{error:t.message}),t}}async pollForToken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(this.logger.debug("Starting token polling"),!this.deviceCode)throw new Error("No device code available. Call requestDeviceCode() first.");this.pollingActive=!0;const t=Date.now()+1e3*this.expiresIn;let i=0,s=this.interval;const n=async()=>{if(!this.pollingActive)return this.logger.debug("Polling cancelled by user"),null;if(Date.now()>t)return this.logger.warn("Device code expired during polling"),this.pollingActive=!1,e({status:"expired",message:"Authorization code expired. Please start over."}),null;i++,this.logger.debug("Polling attempt ".concat(i),{interval:s}),e({status:"polling",message:"Waiting for authorization...",attempt:i,timeRemaining:Math.ceil((t-Date.now())/1e3)});try{const t=new URLSearchParams({client_id:this.clientId,device_code:this.deviceCode,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),i=await fetch(this.tokenEndpoint,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:t}),o=await i.json();if(i.ok&&o.access_token){this.pollingActive=!1;const t={access_token:o.access_token,token_type:o.token_type||"bearer",scope:o.scope||"repo read:org"};return this.logger.debug("Access token received successfully",{tokenType:t.token_type,scope:t.scope,tokenMask:r.A.maskToken(t.access_token)}),e({status:"success",message:"Authorization successful!"}),t}if(o.error)switch(o.error){case"authorization_pending":this.logger.debug("Authorization pending, continuing to poll");break;case"slow_down":s=Math.min(2*s,60),this.logger.debug("Rate limited, slowing down polling",{newInterval:s}),e({status:"slow_down",message:"Rate limited, slowing down polling...",interval:s});break;case"expired_token":return this.logger.warn("Device code expired"),this.pollingActive=!1,e({status:"expired",message:"Authorization code expired. Please start over."}),null;case"access_denied":return this.logger.warn("User denied authorization"),this.pollingActive=!1,e({status:"denied",message:"Authorization was denied by user."}),null;default:return this.logger.error("Unknown error during token polling",{error:o.error,description:o.error_description}),this.pollingActive=!1,e({status:"error",message:"Authorization error: ".concat(o.error_description||o.error)}),null}this.pollingActive&&(this.pollingTimeoutId=setTimeout(n,1e3*s))}catch(o){this.logger.error("Error during token polling",{error:o.message,attempt:i}),s=Math.min(1.5*s,30),e({status:"error",message:"Network error, retrying in ".concat(s,"s..."),interval:s}),this.pollingActive&&(this.pollingTimeoutId=setTimeout(n,1e3*s))}};return n()}cancelPolling(){this.logger.debug("Cancelling OAuth polling"),this.pollingActive=!1,this.pollingTimeoutId&&(clearTimeout(this.pollingTimeoutId),this.pollingTimeoutId=null)}async authenticateWithDeviceFlow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this.logger.debug("Starting complete OAuth Device Flow authentication");try{e({status:"requesting_code",message:"Requesting authorization code..."});e({status:"awaiting_authorization",message:"Please authorize the application in your browser",deviceAuth:await this.requestDeviceCode()});const t=await this.pollForToken(e);if(!t)return{success:!1,error:"Authorization was not completed"};return r.A.storeToken(t.access_token)?(this.logger.debug("OAuth Device Flow authentication completed successfully"),{success:!0,token:t.access_token,tokenType:"oauth",scope:t.scope}):(this.logger.error("Failed to store OAuth token securely"),{success:!1,error:"Failed to store authentication token"})}catch(t){return this.logger.error("OAuth Device Flow authentication failed",{error:t.message}),this.cancelPolling(),{success:!1,error:t.message}}}static isSupported(){return!!(window.fetch&&window.URLSearchParams&&window.Promise)}getPollingStatus(){return{isPolling:this.pollingActive,hasDeviceCode:!!this.deviceCode,userCode:this.userCode,verificationUrl:this.verificationUrl,interval:this.interval}}reset(){this.logger.debug("Resetting OAuth Device Flow state"),this.cancelPolling(),this.deviceCode=null,this.userCode=null,this.verificationUrl=null,this.interval=5,this.expiresIn=900}};var d=i(19794),h=i(6735),u=i(70579);const g=e=>{let{onClose:t}=e;const{t:i}=(0,o.Bd)(),[n,a]=(0,s.useState)(0),c=(0,d.A)("collaboration.png"),r=[{title:"Our Mission",content:(0,u.jsxs)("div",{className:"slide-content",children:[(0,u.jsx)("p",{children:"SGEX is an experimental collaborative project developing a workbench of tools to make it easier and faster to develop high fidelity SMART Guidelines Digital Adaptation Kits (DAKs)."}),(0,u.jsx)("p",{children:"Our mission is to empower healthcare organizations worldwide to create and maintain standards-compliant digital health implementations through:"}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Collaborative Development:"})," Every contribution matters, whether reporting bugs, testing features, or sharing feedback"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"AI-Powered Assistance:"})," Hybrid approach combining human insight with AI coding agents for efficient development"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Community-Driven Evolution:"})," Real-time improvement through collaborative discussion and iterative refinement"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Real-World Impact:"})," Building tools that help healthcare workers worldwide deliver better patient care"]})]})]})},{title:"How to Contribute",content:(0,u.jsxs)("div",{className:"slide-content",children:[(0,u.jsx)("p",{children:"Contributing to SGEX is a collaborative journey that combines human creativity with AI assistance:"}),(0,u.jsxs)("div",{className:"contribution-steps",children:[(0,u.jsxs)("div",{className:"step",children:[(0,u.jsx)("span",{className:"step-number",children:"1"}),(0,u.jsxs)("div",{className:"step-content",children:[(0,u.jsx)("h4",{children:"\ud83d\udc1b Start with Feedback"}),(0,u.jsx)("p",{children:"Report bugs, request features, or suggest improvements through our issue tracker"})]})]}),(0,u.jsxs)("div",{className:"step",children:[(0,u.jsx)("span",{className:"step-number",children:"2"}),(0,u.jsxs)("div",{className:"step-content",children:[(0,u.jsx)("h4",{children:"\ud83e\udd16 AI-Powered Development"}),(0,u.jsx)("p",{children:"Issues may be assigned to coding agents for initial analysis and implementation"})]})]}),(0,u.jsxs)("div",{className:"step",children:[(0,u.jsx)("span",{className:"step-number",children:"3"}),(0,u.jsxs)("div",{className:"step-content",children:[(0,u.jsx)("h4",{children:"\ud83c\udf1f Community Collaboration"}),(0,u.jsx)("p",{children:"The community reviews, tests, and refines changes through collaborative discussion"})]})]}),(0,u.jsxs)("div",{className:"step",children:[(0,u.jsx)("span",{className:"step-number",children:"4"}),(0,u.jsxs)("div",{className:"step-content",children:[(0,u.jsx)("h4",{children:"\ud83d\ude80 Real-Time Evolution"}),(0,u.jsx)("p",{children:"The workbench continuously evolves based on actual usage and feedback from healthcare professionals"})]})]})]})]})},{title:"Get Started",content:(0,u.jsxs)("div",{className:"slide-content",children:[(0,u.jsx)("div",{className:"collaboration-image",children:(0,u.jsx)("img",{src:c,alt:(0,h.lm)(i,h.ld.IMAGE_COLLABORATION,"Collaboration in SGEX")})}),(0,u.jsx)("p",{children:"Every contribution helps improve digital health tools for healthcare workers worldwide. Whether you're reporting a bug, testing a feature, or sharing feedback, you're part of building the future of digital health tooling."}),(0,u.jsxs)("div",{className:"get-started-actions",children:[(0,u.jsx)("h4",{children:"Ready to contribute?"}),(0,u.jsx)("button",{className:"action-link primary",onClick:()=>{window.location.href=window.location.origin+"/sgex/"},children:"View Main Site"}),(0,u.jsx)("p",{className:"or-text",children:"or"}),(0,u.jsx)("button",{className:"action-link secondary",onClick:t,children:"Use the help mascot on any page to quickly report issues"})]})]})},{title:"How to Pronounce",content:(0,u.jsx)("div",{className:"slide-content",children:(0,u.jsx)("div",{className:"pronunciation-image",children:(0,u.jsx)("img",{src:"https://github.com/user-attachments/assets/ac49bc04-a463-476e-8f2c-56a89e4035eb",alt:"How to Pronounce SGeX"})})})}];return(0,u.jsx)("div",{className:"collaboration-modal-overlay",onClick:e=>{e.target===e.currentTarget&&t()},children:(0,u.jsxs)("div",{className:"collaboration-modal",children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("h2",{children:r[n].title}),(0,u.jsx)("button",{className:"close-button",onClick:t,children:"\xd7"})]}),(0,u.jsx)("div",{className:"modal-body",children:(0,u.jsx)("div",{className:"slideshow-container",children:(0,u.jsx)("div",{className:"slide active",children:r[n].content})})}),(0,u.jsx)("div",{className:"modal-footer",children:(0,u.jsxs)("div",{className:"slide-navigation",children:[(0,u.jsx)("button",{className:"nav-button prev",onClick:()=>{a(e=>(e-1+r.length)%r.length)},disabled:0===n,children:"\u2039 Previous"}),(0,u.jsx)("div",{className:"slide-indicators",children:r.map((e,t)=>(0,u.jsx)("button",{className:"indicator ".concat(n===t?"active":""),onClick:()=>(e=>{a(e)})(t)},t))}),(0,u.jsx)("button",{className:"nav-button next",onClick:()=>{a(e=>(e+1)%r.length)},disabled:n===r.length-1,children:"Next \u203a"})]})})]})})};var m=i(93156);const p=e=>{let{onAuthSuccess:t,onAuthCancel:i}=e;const{t:n}=(0,o.Bd)(),[a,r]=(0,s.useState)("idle"),[d,h]=(0,s.useState)(null),[g,m]=(0,s.useState)(""),[p,v]=(0,s.useState)(""),[x,b]=(0,s.useState)({}),[j,_]=(0,s.useState)(0),w=c.A.getLogger("OAuthLogin");(0,s.useEffect)(()=>(w.componentMount({hasOnAuthSuccess:!!t}),()=>{w.componentUnmount(),l.cancelPolling()}),[w,t]);const A=(0,s.useCallback)(e=>{var t;switch(w.debug("OAuth status update",e),b(e),e.status){case"requesting_code":r("requesting"),m(e.message),v("");break;case"awaiting_authorization":r("awaiting"),h(e.deviceAuth),m(e.message),_((null===(t=e.deviceAuth)||void 0===t?void 0:t.expiresIn)||900);break;case"polling":r("polling"),m("".concat(e.message," (Attempt ").concat(e.attempt,")")),_(e.timeRemaining||0);break;case"slow_down":m("".concat(e.message," (Next check in ").concat(e.interval,"s)"));break;case"success":r("success"),m(e.message);break;case"expired":case"denied":r("error"),v(e.message);break;case"error":v(e.message);break;default:w.warn("Unknown OAuth update status",e)}},[w]);(0,s.useEffect)(()=>{if("awaiting"===a||"polling"===a){const e=setInterval(()=>{_(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[a]);const k=()=>{w.userAction("OAuth authentication cancelled"),l.cancelPolling(),l.reset(),r("idle"),h(null),m(""),v(""),i&&i()};return l.checkConfiguration().isConfigured?(0,u.jsxs)("div",{className:"oauth-login",children:[(0,u.jsxs)("div",{className:"oauth-login__header",children:[(0,u.jsx)("h3",{children:"GitHub OAuth Authentication"}),(0,u.jsx)("p",{className:"oauth-login__description",children:"Authenticate with GitHub using OAuth for the best experience. This provides higher rate limits and seamless access to your repositories."})]}),(0,u.jsxs)("div",{className:"oauth-login__content",children:["idle"===a&&(0,u.jsxs)("div",{className:"oauth-login__start",children:[(0,u.jsx)("button",{className:"oauth-login__button oauth-login__button--primary",onClick:async()=>{w.userAction("OAuth authentication started"),v(""),r("requesting");try{const e=await l.authenticateWithDeviceFlow(A);e.success?(w.auth("OAuth authentication successful"),r("success"),t&&t({token:e.token,tokenType:e.tokenType,scope:e.scope,authMethod:"oauth-device-flow"})):(w.warn("OAuth authentication failed",{error:e.error}),r("error"),v(e.error||"Authentication failed"))}catch(p){w.error("OAuth authentication error",{error:p.message}),r("error"),v(p.message)}},type:"button",children:"\ud83d\udd10 Authenticate with GitHub OAuth"}),(0,u.jsx)("p",{className:"oauth-login__help",children:"This will open GitHub in a new tab for secure authentication. No passwords or tokens needed!"})]}),"requesting"===a&&(0,u.jsxs)("div",{className:"oauth-login__requesting",children:[(0,u.jsx)("div",{className:"oauth-login__spinner"}),(0,u.jsx)("p",{children:g||"Requesting authorization code..."})]}),("awaiting"===a||"polling"===a)&&d&&(0,u.jsxs)("div",{className:"oauth-login__awaiting",children:[(0,u.jsxs)("div",{className:"oauth-login__instructions",children:[(0,u.jsx)("h4",{children:"Complete Authorization in GitHub"}),(0,u.jsxs)("div",{className:"oauth-login__steps",children:[(0,u.jsxs)("div",{className:"oauth-login__step",children:[(0,u.jsx)("span",{className:"oauth-login__step-number",children:"1"}),(0,u.jsxs)("div",{className:"oauth-login__step-content",children:[(0,u.jsx)("p",{children:"Visit GitHub and enter this code:"}),(0,u.jsxs)("div",{className:"oauth-login__code-container",children:[(0,u.jsx)("code",{className:"oauth-login__user-code",children:d.userCode}),(0,u.jsx)("button",{className:"oauth-login__copy-button",onClick:async()=>{if(null!==d&&void 0!==d&&d.userCode)try{await navigator.clipboard.writeText(d.userCode),w.userAction("User code copied to clipboard")}catch(p){w.warn("Failed to copy code to clipboard",{error:p.message})}},title:"Copy code to clipboard",type:"button",children:"\ud83d\udccb"})]})]})]}),(0,u.jsxs)("div",{className:"oauth-login__step",children:[(0,u.jsx)("span",{className:"oauth-login__step-number",children:"2"}),(0,u.jsxs)("div",{className:"oauth-login__step-content",children:[(0,u.jsx)("p",{children:"Click this button to open GitHub:"}),(0,u.jsx)("button",{className:"oauth-login__button oauth-login__button--github",onClick:()=>{null!==d&&void 0!==d&&d.verificationUrlComplete&&(window.open(d.verificationUrlComplete,"_blank","noopener,noreferrer"),w.userAction("Verification URL opened"))},type:"button",children:"\ud83d\ude80 Open GitHub Authorization"})]})]})]})]}),(0,u.jsxs)("div",{className:"oauth-login__status",children:[(0,u.jsxs)("div",{className:"oauth-login__waiting",children:[(0,u.jsx)("div",{className:"oauth-login__spinner oauth-login__spinner--small"}),(0,u.jsx)("span",{children:g})]}),j>0&&(0,u.jsxs)("div",{className:"oauth-login__timer",children:["Time remaining: ",(e=>{const t=Math.floor(e/60),i=e%60;return"".concat(t,":").concat(i.toString().padStart(2,"0"))})(j)]})]}),(0,u.jsx)("div",{className:"oauth-login__actions",children:(0,u.jsx)("button",{className:"oauth-login__button oauth-login__button--secondary",onClick:k,type:"button",children:"Cancel"})})]}),"success"===a&&(0,u.jsxs)("div",{className:"oauth-login__success",children:[(0,u.jsx)("div",{className:"oauth-login__success-icon",children:"\u2705"}),(0,u.jsx)("h4",{children:"Authentication Successful!"}),(0,u.jsx)("p",{children:"You are now authenticated with GitHub OAuth."})]}),"error"===a&&(0,u.jsxs)("div",{className:"oauth-login__error",children:[(0,u.jsx)("div",{className:"oauth-login__error-icon",children:"\u274c"}),(0,u.jsx)("h4",{children:"Authentication Failed"}),(0,u.jsx)("p",{children:p}),(0,u.jsxs)("div",{className:"oauth-login__actions",children:[(0,u.jsx)("button",{className:"oauth-login__button oauth-login__button--primary",onClick:()=>{w.userAction("OAuth authentication reset"),l.reset(),r("idle"),h(null),m(""),v("")},type:"button",children:"Try Again"}),(0,u.jsx)("button",{className:"oauth-login__button oauth-login__button--secondary",onClick:k,type:"button",children:"Cancel"})]})]}),p&&"error"!==a&&(0,u.jsx)("div",{className:"oauth-login__warning",children:(0,u.jsx)("p",{children:p})})]})]}):(0,u.jsxs)("div",{className:"oauth-login oauth-login--not-configured",children:[(0,u.jsx)("div",{className:"oauth-login__header",children:(0,u.jsx)("h3",{children:"GitHub OAuth Authentication"})}),(0,u.jsx)("div",{className:"oauth-login__content",children:(0,u.jsxs)("div",{className:"oauth-login__error",children:[(0,u.jsx)("p",{children:"OAuth authentication is not configured."}),(0,u.jsx)("p",{children:"Please contact the administrator to set up OAuth client credentials."})]})})]})};var v=i(12602),x=i(62148),b=i(13333);const j=()=>{const{t:e}=(0,o.Bd)(),[t,c]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[j,_]=(0,s.useState)(!1),[w,A]=(0,s.useState)(null),[k,N]=(0,s.useState)(""),[f,y]=(0,s.useState)(""),[C,I]=(0,s.useState)(""),[T,S]=(0,s.useState)(!1),[O,D]=(0,s.useState)("oauth"),E=(0,n.Zp)(),P=(0,n.zy)(),U=(0,d.A)("sgex-mascot.png"),R=(0,d.A)("authoring.png"),G=(0,d.A)("collaboration.png");(0,s.useEffect)(()=>{(()=>{const e=sessionStorage.getItem("github_token")||localStorage.getItem("github_token");if(e){a.A.authenticate(e)?c(!0):(sessionStorage.removeItem("github_token"),localStorage.removeItem("github_token"))}})()},[]),(0,s.useEffect)(()=>{const e=setInterval(()=>{c(a.A.isAuthenticated)},1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{var e;null!==(e=P.state)&&void 0!==e&&e.warningMessage&&(A(P.state.warningMessage),E(P.pathname,{replace:!0,state:{}}))},[P.state,E,P.pathname]);const H=e=>{(0,b.hX)(e,"/select_profile",E)},M=()=>{l(!0)};return(0,u.jsx)(x.Mx,{pageName:"welcome",showBreadcrumbs:!1,children:(0,u.jsxs)("div",{className:"welcome-page-content",children:[w&&(0,u.jsx)("div",{className:"warning-message",children:(0,u.jsxs)("div",{className:"warning-content",children:[(0,u.jsxs)("div",{className:"warning-header",children:[(0,u.jsx)("span",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,u.jsx)("span",{className:"warning-text",children:w})]}),(0,u.jsx)("button",{className:"warning-dismiss",onClick:()=>{A(null)},"aria-label":"Dismiss warning",children:"\xd7 Dismiss"})]})}),(0,u.jsx)("div",{className:"welcome-hero",children:(0,u.jsxs)("div",{className:"welcome-intro",children:[(0,u.jsx)("div",{className:"welcome-mascot",children:(0,u.jsx)("img",{src:U,alt:(0,h.lm)(e,h.ld.MASCOT_HELPER,"SGEX Workbench Helper")})}),(0,u.jsxs)("div",{className:"welcome-text",children:[(0,u.jsx)("h1",{children:"SGEX Workbench"}),(0,u.jsx)("h2",{children:"WHO SMART Guidelines Exchange"}),(0,u.jsx)("p",{className:"mission-statement",children:"SGEX is an experimental collaborative project developing a workbench of tools to make it easier and faster to develop high fidelity SMART Guidelines Digital Adaptation Kits (DAKs). Our mission is to empower healthcare organizations worldwide to create and maintain standards-compliant digital health implementations."})]})]})}),(0,u.jsx)("div",{className:"welcome-cards",children:(0,u.jsxs)("div",{className:"card-grid",children:[(0,u.jsxs)("button",{className:"action-card authoring-card",onClick:H,onKeyDown:e=>("Enter"===e.key||" "===e.key)&&H(),children:[(0,u.jsx)("div",{className:"card-icon",children:(0,u.jsx)("img",{src:R,alt:(0,h.lm)(e,h.ld.IMAGE_AUTHORING,"Authoring")})}),(0,u.jsx)("p",{children:"Create, edit, or fork WHO SMART Guidelines Digital Adaptation Kits."})]}),!t&&(0,u.jsxs)("div",{className:"action-card auth-demo-card",children:[(0,u.jsxs)("div",{className:"auth-method-selector",children:[(0,u.jsx)("button",{className:"auth-method-btn ".concat("oauth"===O?"active":""),onClick:()=>D("oauth"),type:"button",children:"\ud83d\udd10 OAuth (Recommended)"}),(0,u.jsx)("button",{className:"auth-method-btn ".concat("pat"===O?"active":""),onClick:()=>D("pat"),type:"button",children:"\ud83d\udd11 Personal Access Token"})]}),"oauth"===O&&(0,u.jsx)("div",{className:"oauth-section",children:(0,u.jsx)(p,{onAuthSuccess:e=>{i.e(36).then(i.bind(i,97036)).then(t=>{let{Octokit:i}=t;const s=new i({auth:e.token});a.A.authenticateWithOctokit(s),a.A.authenticate(e.token),c(!0),H()})},onAuthCancel:()=>{}})}),"pat"===O&&(0,u.jsxs)("div",{className:"pat-section",children:[(0,u.jsx)("h4",{children:"Quick PAT Login"}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f.trim()){S(!0),I("");try{const{Octokit:e}=await i.e(36).then(i.bind(i,97036)),o=new e({auth:f.trim()}),r=await o.rest.users.getAuthenticated();t=f.trim(),s=o,n=r.data.login,sessionStorage.setItem("github_token",t),n&&sessionStorage.setItem("github_username",n),a.A.authenticateWithOctokit(s),c(!0)}catch(o){console.error("PAT authentication failed:",o),401===o.status?I("Invalid Personal Access Token. Please check your token and try again."):403===o.status?I("Token doesn't have sufficient permissions. Please ensure your token has 'repo' and 'read:org' scopes."):I("Authentication failed. Please check your connection and try again.")}finally{S(!1)}var t,s,n}else I("Please enter a GitHub Personal Access Token")},className:"pat-form",children:[(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"text",value:k,onChange:e=>{N(e.target.value),C&&I("")},placeholder:"Token name",className:"token-name-input",disabled:T})}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"password",value:f,onChange:e=>{y(e.target.value),C&&I("")},placeholder:"ghp_xxxxxxxxxxxxxxxxxxxx",className:"token-input ".concat(C?"error":""),disabled:T})}),(0,u.jsx)("button",{type:"submit",className:"pat-login-btn",disabled:T||!f.trim(),children:T?"Signing In...":"\ud83d\udd11 Sign In"})]}),C&&(0,u.jsx)("div",{className:"pat-error",children:C}),(0,u.jsx)("div",{className:"pat-help-link",children:(0,u.jsx)("button",{type:"button",className:"pat-help-btn",onClick:()=>_(!0),children:"\ud83d\udcd6 Help creating a PAT"})})]}),(0,u.jsxs)("div",{className:"demo-section",children:[(0,u.jsx)("h4",{children:"Want to try without signing in?"}),(0,u.jsx)("button",{onClick:e=>{const t={login:"demo-user",name:"Demo User",avatar_url:"https://github.com/github.png",type:"User",isDemo:!0},i={profile:t,action:"edit"};(0,b.hX)(e,"/dak-selection/".concat(t.login),E,i)},className:"demo-btn",children:"\ud83c\udfad Try Demo Mode"}),(0,u.jsx)("p",{className:"demo-note",children:"Demo mode showcases the enhanced DAK scanning display with mock data."})]})]}),(0,u.jsxs)("button",{className:"action-card collaboration-card",onClick:M,onKeyDown:e=>("Enter"===e.key||" "===e.key)&&M(),children:[(0,u.jsx)("div",{className:"card-icon",children:(0,u.jsx)("img",{src:G,alt:(0,h.lm)(e,h.ld.IMAGE_COLLABORATION,"Collaboration")})}),(0,u.jsx)("p",{children:"Learn about our mission, how to contribute, and join our community-driven development process."})]})]})}),r&&(0,u.jsx)(g,{onClose:()=>{l(!1)}}),j&&(0,u.jsx)(m.A,{helpTopic:v.A.getHelpTopic("github-pat-setup"),contextData:{pageId:"welcome"},onClose:()=>_(!1)})]})})}}}]);
//# sourceMappingURL=703.a46960de.chunk.js.map