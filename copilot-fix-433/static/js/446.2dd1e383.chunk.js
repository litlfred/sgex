"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[446],{13795:(e,s,n)=>{n.r(s),n.d(s,{default:()=>y});var t=n(9950),a=n(91018),o=n(67818),i=n(29946),c=n(88498),r=n(18354),l=n(97399),d=n(88259),u=n(44414);const m=e=>{let{helpTopic:s,contextData:n={}}=e;const[a,o]=(0,t.useState)(!1),i=(0,d.A)("sgex-mascot.png");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"help-button",onClick:()=>{o(!0)},title:"Get Help","aria-label":"Get Help",children:(0,u.jsx)("img",{src:i,alt:"SGEX Helper",className:"help-mascot-icon"})}),a&&(0,u.jsx)(l.A,{topic:s,contextData:n,onClose:()=>{o(!1)}})]})};var h=n(32675),p=n(89379);const f=e=>{let{repository:s,selectedBranch:n}=e;const[a,o]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!0),[l,d]=(0,t.useState)(["authoring"]),[m,h]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[x,j]=(0,t.useState)(!1),[N,y]=(0,t.useState)(null),[w,k]=(0,t.useState)(0),[C,_]=(0,t.useState)(!1),[S,A]=(0,t.useState)({}),[D,R]=(0,t.useState)(null),I=(0,t.useCallback)(async()=>{var e,n;if(!s)return;const t=(null===(e=s.owner)||void 0===e?void 0:e.login)||(null===(n=s.full_name)||void 0===n?void 0:n.split("/")[0]),a=s.name;if(t&&a)try{j(!0),y(null);if(s.isDemo||"demo-user"===t){h(["authoring","bug reports","feature request","enhancement","documentation","question"]);const e=[{id:1,number:42,title:"Review ANC clinical decision logic for gestational age calculation",body:"The current decision logic for determining gestational age in the ANC workflow may need refinement based on recent WHO guidance updates. Please review the DMN tables in the decision-support module.",state:"open",labels:[{name:"authoring",color:"0e8a16"},{name:"clinical-review",color:"fbca04"}],user:{login:"clinical-expert"},created_at:"2024-07-15T10:30:00Z",html_url:"https://github.com/".concat(t,"/").concat(a,"/issues/42"),comments:3},{id:2,number:38,title:"Update maternal health indicators based on new WHO recommendations",body:"Recent WHO updates to maternal health indicators need to be incorporated into the program indicators component. This includes new definitions for high-risk pregnancy classifications.",state:"open",labels:[{name:"authoring",color:"0e8a16"},{name:"indicators",color:"d4c5f9"}],user:{login:"who-expert"},created_at:"2024-07-10T14:20:00Z",html_url:"https://github.com/".concat(t,"/").concat(a,"/issues/38"),comments:1},{id:3,number:35,title:"Clarification needed on FHIR profile for antenatal care encounters",body:"The current FHIR profile definitions for antenatal care encounters seem to conflict with some of the business process requirements. Need clinical input on the correct mapping.",state:"closed",labels:[{name:"authoring",color:"0e8a16"},{name:"fhir",color:"c2e0c6"}],user:{login:"implementer"},created_at:"2024-07-05T09:15:00Z",html_url:"https://github.com/".concat(t,"/").concat(a,"/issues/35"),comments:5}];g(e);const s=e.filter(e=>"open"===e.state&&e.labels.some(e=>"authoring"===e.name)).length;return k(s),void j(!1)}if(!i.A.isAuth())return;const e="".concat(t,"/").concat(a),n=Date.now();let o=[];if(S[e]&&D&&n-D<3e5)o=S[e];else{const s=await i.A.getIssues(t,a,{state:"all",per_page:100}),c=new Set;s.forEach(e=>{e.labels&&Array.isArray(e.labels)&&e.labels.forEach(e=>{"string"===typeof e?c.add(e):e&&e.name&&c.add(e.name)})}),o=Array.from(c).sort(),A(s=>(0,p.A)((0,p.A)({},s),{},{[e]:o})),R(n)}o.includes("authoring")||o.unshift("authoring"),h(o);const c=(await i.A.getIssues(t,a,{state:"all",per_page:100})).filter(e=>!e.pull_request);g(c);const r=c.filter(e=>"open"===e.state&&e.labels&&e.labels.some(e=>"authoring"===("string"===typeof e?e:e.name))).length;k(r)}catch(o){console.error("Error fetching issues and labels:",o),y("Failed to load discussion data")}finally{j(!1)}},[s,S,D]),M=(0,t.useCallback)(()=>{if(!f.length)return void b([]);const e=f.filter(e=>(!c||"open"===e.state)&&(!(!c&&"closed"!==e.state)&&(0===l.length||l.some(s=>e.labels&&e.labels.some(e=>("string"===typeof e?e:e.name)===s)))));b(e)},[f,c,l]);(0,t.useEffect)(()=>{I()},[I]),(0,t.useEffect)(()=>{M()},[M]);const T=e=>e.labels&&Array.isArray(e.labels)?e.labels.map(e=>{const s="string"===typeof e?e:e.name,n="string"===typeof e?"#666":e.color||"666";return(0,u.jsx)("span",{className:"issue-label-badge",style:{backgroundColor:"#".concat(n)},children:s},s)}):[];return s?(0,u.jsxs)("div",{className:"discussions-status-bar",children:[(0,u.jsxs)("div",{className:"status-bar-header",onClick:()=>o(!a),children:[(0,u.jsxs)("div",{className:"status-bar-title",children:[(0,u.jsx)("span",{className:"status-icon",children:"\ud83d\udcac"}),(0,u.jsx)("span",{className:"status-text",children:"Discussions"}),w>0&&(0,u.jsx)("span",{className:"notification-badge",children:w})]}),(0,u.jsx)("div",{className:"status-bar-controls",children:(0,u.jsx)("span",{className:"expand-icon",children:a?"\u25bc":"\u25b6"})})]}),a&&(0,u.jsxs)("div",{className:"status-bar-content",children:[(0,u.jsxs)("div",{className:"filter-controls",children:[(0,u.jsxs)("div",{className:"state-filter",children:[(0,u.jsx)("button",{className:"filter-toggle ".concat(c?"active":""),onClick:()=>r(!0),children:"Open"}),(0,u.jsx)("button",{className:"filter-toggle ".concat(c?"":"active"),onClick:()=>r(!1),children:"Closed"})]}),(0,u.jsx)("div",{className:"label-filters",children:m.map(e=>(0,u.jsx)("button",{className:"label-badge ".concat(l.includes(e)?"selected":"disabled"),onClick:()=>(e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])})(e),children:e},e))}),(0,u.jsx)("button",{className:"new-issue-btn",onClick:()=>{var e,n,t;if(!s)return;const a=(null===(e=s.owner)||void 0===e?void 0:e.login)||(null===(n=s.full_name)||void 0===n?void 0:n.split("/")[0]),o=s.name;if(s.isDemo||"demo-user"===a)alert("Demo Mode: In a real implementation, this would open a new DAK Content Feedback issue in the repository.");else if(null!==(t=window.helpModalInstance)&&void 0!==t&&t.openDakIssue)window.helpModalInstance.openDakIssue("content");else{const e="https://github.com/".concat(a,"/").concat(o,"/issues/new?template=dak_content_error.yml&labels=authoring");window.open(e,"_blank")}},children:"+ New Discussion"})]}),(0,u.jsxs)("div",{className:"issues-list",children:[x&&(0,u.jsx)("div",{className:"loading-state",children:(0,u.jsx)("span",{children:"Loading discussions..."})}),N&&(0,u.jsxs)("div",{className:"error-state",children:[(0,u.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,u.jsx)("span",{children:N}),(0,u.jsx)("button",{onClick:I,className:"retry-btn",children:"Retry"})]}),!x&&!N&&0===v.length&&(0,u.jsx)("div",{className:"empty-state",children:(0,u.jsx)("span",{children:"No discussions found with current filters"})}),!x&&!N&&v.map(e=>{var n,t;return(0,u.jsxs)("div",{className:"issue-card",onClick:()=>(e=>{var n,t;const a=(null===s||void 0===s||null===(n=s.owner)||void 0===n?void 0:n.login)||(null===s||void 0===s||null===(t=s.full_name)||void 0===t?void 0:t.split("/")[0]);(null===s||void 0===s?void 0:s.isDemo)||"demo-user"===a?alert("Demo Mode: In a real implementation, this would open issue #".concat(e.number,' "').concat(e.title,'" in GitHub.')):window.open(e.html_url,"_blank")})(e),children:[(0,u.jsxs)("div",{className:"issue-header",children:[(0,u.jsxs)("div",{className:"issue-title",children:[(0,u.jsx)("span",{className:"issue-state ".concat(e.state),children:"open"===e.state?"\ud83d\udfe2":"\ud83d\udd34"}),(0,u.jsx)("span",{className:"issue-title-text",children:e.title})]}),(0,u.jsxs)("div",{className:"issue-number",children:["#",e.number]})]}),(0,u.jsx)("div",{className:"issue-summary",children:e.body?e.body.substring(0,200)+(e.body.length>200?"...":""):"No description provided"}),(0,u.jsxs)("div",{className:"issue-meta",children:[(0,u.jsx)("div",{className:"issue-labels",children:T(e)}),(0,u.jsxs)("div",{className:"issue-info",children:[(0,u.jsxs)("span",{className:"issue-author",children:["by ",null===(n=e.user)||void 0===n?void 0:n.login]}),(0,u.jsx)("span",{className:"issue-date",children:(t=e.created_at,new Date(t).toLocaleDateString())}),e.comments>0&&(0,u.jsxs)("span",{className:"issue-comments",children:["\ud83d\udcac ",e.comments]})]})]})]},e.id)})]})]})]}):null};var g=n(30221),v=n(58377),b=n(83111),x=n(1932),j=n(95388);const N=e=>{var s,n,l,p;let{initialProfile:b=null,initialRepository:N=null,initialSelectedBranch:y=null,onProfileChange:w=()=>{},onRepositoryChange:k=()=>{},onSelectedBranchChange:C=()=>{}}=e;const{t:_}=(0,o.Bd)(),S=(0,a.zy)(),A=(0,a.Zp)(),{user:D,repo:R,branch:I}=(0,a.g)(),M=(0,d.A)("sgex-mascot.png"),[T,E]=(0,t.useState)(b||(null===(s=S.state)||void 0===s?void 0:s.profile)||null),[L,q]=(0,t.useState)(N||(null===(n=S.state)||void 0===n?void 0:n.repository)||null),[P,B]=(0,t.useState)(!T||!L),[H,O]=(0,t.useState)(null),[K,F]=(0,t.useState)(!1),[X,W]=(0,t.useState)(!1),[G,U]=(0,t.useState)("core"),[z,Z]=(0,t.useState)(y||(null===(l=S.state)||void 0===l?void 0:l.selectedBranch)||I||null),[Q,Y]=(0,t.useState)({}),[J,V]=(0,t.useState)(!1);(0,t.useEffect)(()=>{w(T)},[T,w]),(0,t.useEffect)(()=>{k(L)},[L,k]),(0,t.useEffect)(()=>{C(z)},[z,C]);const $=e=>{let{component:s,handleComponentClick:n,t:a}=e;const[o,i]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!1),l=(0,d.A)(s.cardImage);return(0,u.jsxs)("div",{className:"component-card ".concat(s.type.toLowerCase()," large-card ").concat(o?"image-loaded":""),onClick:e=>n(e,s),style:{"--component-color":s.color},tabIndex:0,role:"button","aria-label":"".concat(s.name," - ").concat(s.description),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(e,s))},children:[(0,u.jsx)("div",{className:"component-header",children:(0,u.jsxs)("div",{className:"component-image-container",children:[(0,u.jsx)("img",{src:l,alt:(0,j.lm)(a,j.ld.ICON_DAK_COMPONENT,s.name,{name:s.name}),className:"component-card-image",onLoad:()=>{i(!0),r(!1)},onError:()=>{r(!0),i(!1)},style:{display:c?"none":"block"}}),c&&(0,u.jsx)("div",{className:"component-icon",style:{color:s.color},children:s.icon})]})}),(0,u.jsxs)("div",{className:"component-content",children:[(0,u.jsx)("h4",{className:o&&!c?"visually-hidden":"",children:s.name}),(0,u.jsx)("p",{className:o&&!c?"visually-hidden":"",children:s.description}),(0,u.jsxs)("div",{className:"component-meta",children:[(0,u.jsx)("div",{className:"file-types",children:s.fileTypes.map(e=>(0,u.jsx)("span",{className:"file-type-tag",children:e},e))}),(0,u.jsxs)("div",{className:"file-count",children:[s.count," files"]})]})]})]})};(0,t.useEffect)(()=>{(async()=>{if(T&&L||!D||!R)B(!1);else try{if(B(!0),O(null),!i.A.isAuth()){if(window.location.pathname.includes("/dashboard/")){if(!c.A.validateDemoDAKRepository(D,R))return void A("/",{state:{warningMessage:"Could not access the requested DAK. Repository '".concat(D,"/").concat(R,"' not found or not accessible.")}});const e={login:D,name:D.charAt(0).toUpperCase()+D.slice(1),avatar_url:"https://github.com/".concat(D,".png"),type:"User",isDemo:!0},s={name:R,full_name:"".concat(D,"/").concat(R),owner:{login:D},default_branch:I||"main",html_url:"https://github.com/".concat(D,"/").concat(R),isDemo:!0};return E(e),q(s),Z(I||"main"),void B(!1)}return O(_("auth.authRequired")),void B(!1)}let s=null;try{s=await i.A.getUser(D)}catch(e){return console.error("Error fetching user:",e),void A("/",{state:{warningMessage:"Could not access the requested DAK. User '".concat(D,"' not found or not accessible.")}})}let n=null;try{n=await i.A.getRepository(D,R)}catch(e){return console.error("Error fetching repository:",e),void A("/",{state:{warningMessage:"Could not access the requested DAK. Repository '".concat(D,"/").concat(R,"' not found or not accessible.")}})}if(!await c.A.validateDAKRepository(D,R,I||n.default_branch))return console.log("Repository ".concat(D,"/").concat(R," is not a valid DAK repository")),void A("/",{state:{warningMessage:"Could not access the requested DAK. Repository '".concat(D,"/").concat(R,"' not found or not accessible.")}});if(I)try{await i.A.getBranch(D,R,I),Z(I)}catch(e){console.warn("Branch '".concat(I,"' not found, falling back to default branch")),Z(n.default_branch)}else Z(n.default_branch);E(s),q(n),B(!1)}catch(e){console.error("Error fetching data from URL params:",e),O("Failed to load dashboard data. Please check the URL or try again."),B(!1)}})()},[D,R,I,T,L,A,_]),(0,t.useEffect)(()=>{if(L){const e=r.default.getSelectedBranch(L);if(e)Z(e);else if(T&&"demo-user"===T.login){const e=L.default_branch||"main";Z(e),r.default.setSelectedBranch(L,e)}}},[L,T]);(0,t.useEffect)(()=>{L&&!P&&(async()=>{if(L)try{var e;const s=(null===(e=L.owner)||void 0===e?void 0:e.login)||L.full_name.split("/")[0],n=L.name,t=(await i.A.getIssues(s,n,{state:"all",per_page:100})).filter(e=>!e.pull_request),a=t.filter(e=>"open"===e.state).length,o=t.filter(e=>"closed"===e.state).length;Y({total:t.length,open:a,closed:o})}catch(s){console.warn("Could not load issue counts:",s),Y({total:0,open:0,closed:0})}})()},[L,P]),(0,t.useEffect)(()=>{(async()=>{if(L&&T)try{var e;const s=await i.A.checkRepositoryWritePermissions((null===(e=L.owner)||void 0===e?void 0:e.login)||L.full_name.split("/")[0],L.name);F(s)}catch(H){console.warn("Could not check write permissions:",H),F(!1)}B(!1)})()},[L,T]),(0,t.useEffect)(()=>{const e=e=>{J&&!e.target.closest(".user-menu-container")&&V(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[J]);const ee=[{id:"health-interventions",name:_("dak.healthInterventions"),description:"Clinical guidelines and health intervention specifications that define evidence-based care recommendations",icon:"\ud83d\udcd6",cardImage:"dashboard/dak_interventions.png",type:"L2",color:"#0078d4",fileTypes:["IRIS","Publication"],count:5,editor:"Publication reference manager with IRIS integration"},{id:"generic-personas",name:_("dak.genericPersonas"),description:"Standardized user roles and actor definitions that represent different types of healthcare workers and patients",icon:"\ud83d\udc65",cardImage:"dashboard/dak_personas.png",type:"L2",color:"#107c10",fileTypes:["Actor","Role"],count:8,editor:"Persona definition editor with role-based access specifications"},{id:"user-scenarios",name:_("dak.userScenarios"),description:"Narrative descriptions of how different personas interact with the system in specific healthcare contexts",icon:"\ud83d\udcdd",cardImage:"dashboard/dak_user_scenarios.png",type:"L2",color:"#881798",fileTypes:["Narrative","Use Case"],count:12,editor:"Scenario editor with workflow visualization"},{id:"business-processes",name:_("dak.businessProcesses"),description:"BPMN workflows and business process definitions that model clinical workflows and care pathways",icon:"\ud83d\udd04",cardImage:"dashboard/dak_business_processes.png",type:"L2",color:"#d13438",fileTypes:["BPMN","XML"],count:15,editor:"Graphical BPMN editor with SVG visualization"},{id:"core-data-elements",name:_("dak.coreDataElements"),description:"Essential data structures and terminology needed for clinical data capture and exchange (includes Terminology Services via OCL and Product Master Data via PCMT)",icon:"\ud83d\uddc3\ufe0f",cardImage:"dashboard/dak_core_data_elements.png",type:"L2",color:"#ff8c00",fileTypes:["OCL","Concept","PCMT","Product"],count:Q.total||89,editor:"Data element editor with OCL and PCMT integration"},{id:"decision-support",name:_("dak.decisionSupportLogic"),description:"DMN decision tables and clinical decision support rules that encode clinical logic",icon:"\ud83c\udfaf",cardImage:"dashboard/dak_decision_support_logic.png",type:"L2",color:"#00bcf2",fileTypes:["DMN","XML"],count:24,editor:"DMN decision table editor with validation"},{id:"program-indicators",name:_("dak.programIndicators"),description:"Performance indicators and measurement definitions for monitoring and evaluation",icon:"\ud83d\udcca",cardImage:"dashboard/dak_indicators.png",type:"L2",color:"#498205",fileTypes:["Measure","Logic"],count:18,editor:"Indicator definition editor with measurement logic"},{id:"functional-requirements",name:_("dak.requirements"),description:"System requirements specifications that define capabilities and constraints",icon:"\u2699\ufe0f",cardImage:"dashboard/dak_requirements.png",type:"L2",color:"#6b69d6",fileTypes:["Requirements","Specification"],count:32,editor:"Requirements editor with structured templates"},{id:"test-scenarios",name:_("dak.testScenarios")||"Test Scenarios",description:"Feature files and test scenarios for validating the DAK implementation",icon:"\ud83e\uddea",cardImage:"dashboard/dak_testing.png",type:"L2",color:"#8b5cf6",fileTypes:["Feature","Test"],count:0,editor:"Testing viewer with feature file browser"}],se=(e,s)=>{var n;const t={profile:T,repository:L,component:s,selectedBranch:z};if("decision-support"===s.id){var a;const s=(null===(a=L.owner)||void 0===a?void 0:a.login)||L.full_name.split("/")[0],n=L.name,o=z?"/decision-support-logic/".concat(s,"/").concat(n,"/").concat(z):"/decision-support-logic/".concat(s,"/").concat(n);return void(0,x.hX)(e,o,A,t)}if("business-processes"===s.id){var o;const s=(null===(o=L.owner)||void 0===o?void 0:o.login)||L.full_name.split("/")[0],n=L.name,a=z?"/business-process-selection/".concat(s,"/").concat(n,"/").concat(z):"/business-process-selection/".concat(s,"/").concat(n);return void(0,x.hX)(e,a,A,t)}if("health-interventions"===s.id){var i;const s=(null===(i=L.owner)||void 0===i?void 0:i.login)||L.full_name.split("/")[0],n=L.name,a=z?"/health-interventions/".concat(s,"/").concat(n,"/").concat(z):"/health-interventions/".concat(s,"/").concat(n);return void(0,x.hX)(e,a,A,t)}if("core-data-elements"===s.id){var c;const s=D||(null===(c=L.owner)||void 0===c?void 0:c.login)||L.full_name.split("/")[0],n=R||L.name,a=z,o=a?"/core-data-dictionary-viewer/".concat(s,"/").concat(n,"/").concat(a):"/core-data-dictionary-viewer/".concat(s,"/").concat(n);return void(0,x.hX)(e,o,A,t)}if("generic-personas"===s.id){var r;const s=(null===(r=L.owner)||void 0===r?void 0:r.login)||L.full_name.split("/")[0],n=L.name,a=z?"/actor-editor/".concat(s,"/").concat(n,"/").concat(z):"/actor-editor/".concat(s,"/").concat(n);return void(0,x.hX)(e,a,A,t)}if("test-scenarios"===s.id){var l;const s=(null===(l=L.owner)||void 0===l?void 0:l.login)||L.full_name.split("/")[0],n=L.name,a=z?"/testing-viewer/".concat(s,"/").concat(n,"/").concat(z):"/testing-viewer/".concat(s,"/").concat(n);return void(0,x.hX)(e,a,A,t)}if(!K)return void W(!0);const d=(null===(n=L.owner)||void 0===n?void 0:n.login)||L.full_name.split("/")[0],u=L.name,m=z?"/".concat(s.id,"/").concat(d,"/").concat(u,"/").concat(z):"/".concat(s.id,"/").concat(d,"/").concat(u);(0,x.hX)(e,m,A,t)};return P?(0,u.jsx)("div",{className:"dak-dashboard loading-state",children:(0,u.jsxs)("div",{className:"loading-content",children:[(0,u.jsx)("h2",{children:"Loading Dashboard..."}),(0,u.jsx)("p",{children:"Fetching repository and user data..."})]})}):H?(0,u.jsx)("div",{className:"dak-dashboard error-state",children:(0,u.jsxs)("div",{className:"error-content",children:[(0,u.jsx)("h2",{children:_("dashboard.errorLoading")}),(0,u.jsx)("p",{children:H}),(0,u.jsxs)("div",{className:"error-actions",children:[(0,u.jsx)("button",{onClick:()=>A("/"),className:"action-btn primary",children:_("navigation.home")}),(0,u.jsx)("button",{onClick:()=>window.location.reload(),className:"action-btn secondary",children:_("common.retry")})]})]})}):T&&L?(0,u.jsxs)("div",{className:"dak-dashboard",children:[(0,u.jsx)("div",{className:"dashboard-content",children:(0,u.jsxs)("div",{className:"dashboard-main",children:[(0,u.jsxs)("div",{className:"dashboard-intro",children:[(0,u.jsx)("h2",{children:_("dak.components")}),(0,u.jsxs)("p",{children:["Select a component to edit content for ",(0,u.jsx)("strong",{children:L.name}),z&&(0,u.jsxs)("span",{children:[" on branch ",(0,u.jsx)("code",{className:"branch-display",children:z})]}),". Components are organized according to the WHO SMART Guidelines framework."]})]}),(0,u.jsx)(v.A,{profile:T,repository:L,selectedBranch:z}),L&&z&&(0,u.jsx)(h.A,{repository:L,selectedBranch:z,hasWriteAccess:K,profile:T}),L&&(0,u.jsx)("div",{className:"discussions-status-container",children:(0,u.jsx)(f,{repository:L,selectedBranch:z})}),(0,u.jsxs)("div",{className:"tab-navigation-fullwidth",children:[(0,u.jsxs)("button",{className:"tab-button-fullwidth ".concat("core"===G?"active":""),onClick:()=>U("core"),children:[(0,u.jsx)("span",{className:"tab-icon",children:"\u2b50"}),(0,u.jsx)("span",{className:"tab-text",children:"9 Core Components"})]}),(0,u.jsxs)("button",{className:"tab-button-fullwidth ".concat("publications"===G?"active":""),onClick:()=>U("publications"),children:[(0,u.jsx)("span",{className:"tab-icon",children:"\ud83d\udcda"}),(0,u.jsx)("span",{className:"tab-text",children:"Publications"})]}),(0,u.jsxs)("button",{className:"tab-button-fullwidth ".concat("other"===G?"active":""),onClick:()=>U("other"),children:[(0,u.jsx)("span",{className:"tab-icon",children:"\ud83d\udd27"}),(0,u.jsx)("span",{className:"tab-text",children:"Other DAK Components"})]})]}),"core"===G&&(0,u.jsxs)("div",{className:"components-section active",children:[(0,u.jsxs)("div",{className:"section-header",children:[(0,u.jsx)("h3",{className:"section-title",children:_("dak.components")}),(0,u.jsx)("p",{className:"section-description",children:"Essential components that form the foundation of any WHO SMART Guidelines Digital Adaptation Kit"})]}),(0,u.jsx)("div",{className:"components-grid core-components",children:ee.map(e=>(0,u.jsx)($,{component:e,handleComponentClick:se,t:_},e.id))})]}),"other"===G&&(0,u.jsxs)("div",{className:"components-section other-components active",children:[(0,u.jsxs)("div",{className:"section-header",children:[(0,u.jsx)("h3",{className:"section-title",children:"Other DAK Components"}),(0,u.jsx)("p",{className:"section-description",children:"Additional specialized components for advanced DAK functionality and implementation"})]}),(0,u.jsx)("div",{className:"components-grid other-components",children:(0,u.jsxs)("div",{className:"component-card l3",onClick:e=>{var s;const n=(null===(s=L.owner)||void 0===s?void 0:s.login)||L.full_name.split("/")[0],t=L.name,a=z?"/questionnaire-editor/".concat(n,"/").concat(t,"/").concat(z):"/questionnaire-editor/".concat(n,"/").concat(t),o={profile:T,repository:L,component:{id:"questionnaire-editor",name:"FHIR Questionnaires",description:"Structured questionnaires and forms for data collection using FHIR standard"},selectedBranch:z};(0,x.hX)(e,a,A,o)},style:{"--component-color":"#17a2b8"},children:[(0,u.jsx)("div",{className:"component-header",children:(0,u.jsx)("div",{className:"component-icon",style:{color:"#17a2b8"},children:"\ud83d\udccb"})}),(0,u.jsxs)("div",{className:"component-content",children:[(0,u.jsx)("h4",{children:"FHIR Questionnaires"}),(0,u.jsx)("p",{children:"Structured questionnaires and forms for data collection using FHIR Questionnaire standard"}),(0,u.jsxs)("div",{className:"component-meta",children:[(0,u.jsxs)("div",{className:"file-types",children:[(0,u.jsx)("span",{className:"file-type-tag",children:"JSON"}),(0,u.jsx)("span",{className:"file-type-tag",children:"FHIR"})]}),(0,u.jsx)("div",{className:"file-count",children:"questionnaires/"})]})]})]})})]}),"publications"===G&&(0,u.jsx)("div",{className:"components-section publications-section active",children:(0,u.jsx)(g.A,{profile:T,repository:L,selectedBranch:z,hasWriteAccess:K})})]})}),X&&(0,u.jsx)("div",{className:"permission-dialog-overlay",children:(0,u.jsxs)("div",{className:"permission-dialog",children:[(0,u.jsxs)("div",{className:"dialog-header",children:[(0,u.jsx)("h3",{children:"Edit Access Required"}),(0,u.jsx)("button",{className:"dialog-close",onClick:()=>W(!1),children:"\xd7"})]}),(0,u.jsxs)("div",{className:"dialog-content",children:[(0,u.jsxs)("div",{className:"dialog-mascot",children:[(0,u.jsx)("img",{src:M,alt:(0,j.lm)(_,j.ld.MASCOT_HELPER,"SGEX Helper"),className:"dialog-mascot-img"}),(0,u.jsxs)("div",{className:"mascot-message",children:[(0,u.jsx)("p",{children:"You need edit permissions to modify DAK components!"}),(0,u.jsx)("p",{children:"Your current token only provides read access to this repository."})]})]}),(0,u.jsxs)("div",{className:"permission-options",children:[(0,u.jsxs)("div",{className:"option-card",children:[(0,u.jsx)("h4",{children:"\ud83d\udd27 Upgrade Your Token"}),(0,u.jsx)("p",{children:"Create a new fine-grained token with write permissions for this repository."}),(0,u.jsxs)("div",{className:"option-buttons",children:[(0,u.jsx)("a",{href:"https://github.com/settings/personal-access-tokens/new",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:"Create New Token"}),(0,u.jsx)(m,{helpTopic:"github-token",contextData:{repository:{owner:(null===(p=L.owner)||void 0===p?void 0:p.login)||L.full_name.split("/")[0],name:L.name},requiredScopes:["Contents: Write","Metadata: Read","Pull requests: Write"],permissionMode:"edit",upgradeMode:!0}})]})]}),(0,u.jsxs)("div",{className:"option-card",children:[(0,u.jsx)("h4",{children:"\ud83d\udc41\ufe0f Continue in Read-Only Mode"}),(0,u.jsx)("p",{children:"Browse and view DAK components without editing capabilities."}),(0,u.jsx)("button",{className:"btn-secondary",onClick:()=>W(!1),children:"Continue Read-Only"})]})]})]})]})})]}):(A("/"),(0,u.jsx)("div",{children:"Redirecting..."}))},y=()=>{var e,s,n;const o=(0,a.zy)(),{user:i,repo:c,branch:r}=(0,a.g)(),[l,d]=(0,t.useState)((null===(e=o.state)||void 0===e?void 0:e.profile)||null),[m,h]=(0,t.useState)((null===(s=o.state)||void 0===s?void 0:s.repository)||null),[p,f]=(0,t.useState)((null===(n=o.state)||void 0===n?void 0:n.selectedBranch)||r||null),g={pageId:"dak-dashboard",profile:l,repository:m,selectedDak:m,selectedBranch:p};return(0,u.jsx)(b.Mx,{pageName:"dak-dashboard",contextData:g,children:(0,u.jsx)(N,{initialProfile:l,initialRepository:m,initialSelectedBranch:p,onProfileChange:d,onRepositoryChange:h,onSelectedBranchChange:f})})}}}]);