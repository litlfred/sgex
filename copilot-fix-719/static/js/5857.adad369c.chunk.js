"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[5857],{95857:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var i=a(89379),n=a(9950),l=a(67818),r=a(91018),t=a(87018),c=a(7082),d=a(44414);const o=e=>{let{questionId:s,parameters:a={},githubService:r=null,assetFiles:o=[],showRawData:h=!1,className:m=""}=e;const{t:u,i18n:x}=(0,l.Bd)(),[j,p]=(0,n.useState)(null),[f,v]=(0,n.useState)(!1),[g,q]=(0,n.useState)(null),N=(0,n.useCallback)(async()=>{if(s&&r){v(!0),q(null);try{const e={questionId:s,parameters:(0,i.A)((0,i.A)({},a),{},{locale:x.language.replace("-","_")||"en_US"}),assetFiles:o},n={githubService:r},l=await t.A.executeQuestion(e,n);p(l)}catch(e){q(e.message)}finally{v(!1)}}},[s,a,r,o,x.language]);(0,n.useEffect)(()=>{N()},[N]);return f?(0,d.jsxs)("div",{className:"faq-answer loading ".concat(m),children:[(0,d.jsx)("div",{className:"faq-loading-spinner"}),(0,d.jsx)("p",{children:u("dak.faq.loading")})]}):g?(0,d.jsxs)("div",{className:"faq-answer error ".concat(m),children:[(0,d.jsx)("h4",{children:u("dak.faq.error_title")}),(0,d.jsx)("p",{className:"faq-error-message",children:g}),(0,d.jsx)("button",{onClick:N,className:"faq-retry-button",children:u("dak.faq.retry")})]}):j?(0,d.jsxs)("div",{className:"faq-answer success ".concat(m),children:[(()=>{return null!==j&&void 0!==j&&j.narrative?(0,d.jsx)("div",{className:"faq-narrative",dangerouslySetInnerHTML:{__html:(e=j.narrative,c.default.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","div","span","ul","ol","li","strong","em","code","pre","time","small"],ALLOWED_ATTR:["class","datetime"]}))}}):null;var e})(),(()=>{const e=(null===j||void 0===j?void 0:j.warnings)||[],s=(null===j||void 0===j?void 0:j.errors)||[];return 0===e.length&&0===s.length?null:(0,d.jsxs)("div",{className:"faq-messages",children:[s.map((e,s)=>(0,d.jsxs)("div",{className:"faq-message faq-error",children:[(0,d.jsx)("span",{className:"faq-message-icon",children:"\u26a0\ufe0f"}),e]},"error-".concat(s))),e.map((e,s)=>(0,d.jsxs)("div",{className:"faq-message faq-warning",children:[(0,d.jsx)("span",{className:"faq-message-icon",children:"\u26a0\ufe0f"}),e]},"warning-".concat(s)))]})})(),h&&null!==j&&void 0!==j&&j.structured?(0,d.jsxs)("details",{className:"faq-structured-data",children:[(0,d.jsx)("summary",{children:u("dak.faq.structured_data")}),(0,d.jsx)("pre",{children:JSON.stringify(j.structured,null,2)})]}):null,h&&null!==j&&void 0!==j&&j.meta?(0,d.jsxs)("details",{className:"faq-metadata",children:[(0,d.jsx)("summary",{children:u("dak.faq.metadata")}),(0,d.jsx)("pre",{children:JSON.stringify(j.meta,null,2)})]}):null]}):(0,d.jsx)("div",{className:"faq-answer empty ".concat(m),children:(0,d.jsx)("p",{children:u("dak.faq.no_data")})})};var h=a(29946);const m=()=>{const{t:e}=(0,l.Bd)(),{user:s,repo:a,branch:c}=(0,r.g)(),m=(0,r.zy)(),[u,x]=(0,n.useState)([]),[j,p]=(0,n.useState)(!0),[f,v]=(0,n.useState)(null);(0,n.useEffect)(()=>{g()},[]);const g=async()=>{try{p(!0),await t.A.initialize();const e=t.A.getCatalog();x(e)}catch(e){v(e.message)}finally{p(!1)}},q=(()=>{if(s&&a)return{repository:"".concat(s,"/").concat(a),branch:c||"main"};const e=m.state;return null!==e&&void 0!==e&&e.user&&null!==e&&void 0!==e&&e.repo?{repository:"".concat(e.user,"/").concat(e.repo),branch:e.branch||"main"}:null})();return j?(0,d.jsxs)("div",{className:"dak-faq-demo loading",children:[(0,d.jsx)("div",{className:"loading-spinner"}),(0,d.jsx)("p",{children:e("dak.faq.loading")})]}):f?(0,d.jsxs)("div",{className:"dak-faq-demo error",children:[(0,d.jsx)("h2",{children:"FAQ System Error"}),(0,d.jsx)("p",{children:f}),(0,d.jsx)("button",{onClick:g,children:"Retry"})]}):q?(0,d.jsxs)("div",{className:"dak-faq-demo",children:[(0,d.jsxs)("header",{className:"dak-faq-demo-header",children:[(0,d.jsx)("h1",{children:"DAK FAQ Demo"}),(0,d.jsxs)("div",{className:"repository-info",children:[(0,d.jsx)("span",{className:"repo-name",children:q.repository}),(0,d.jsxs)("span",{className:"branch-name",children:["(",q.branch,")"]})]})]}),(0,d.jsxs)("div",{className:"faq-questions",children:[(0,d.jsx)("h2",{children:"Available Questions"}),(0,d.jsx)("p",{children:"Here are some example FAQ questions that can be answered about this DAK:"}),[{id:"dak-name",title:"What is the name of this DAK?",description:"Extracts the DAK name from sushi-config.yaml"},{id:"dak-version",title:"What is the version of this DAK?",description:"Extracts the DAK version from sushi-config.yaml"},{id:"decision-table-inputs",title:"What are the inputs required for this decision table?",description:"Analyzes DMN files and extracts input requirements for decision tables"}].map(e=>(0,d.jsxs)("div",{className:"faq-question-section",children:[(0,d.jsx)("h3",{children:e.title}),(0,d.jsx)("p",{className:"question-description",children:e.description}),"decision-table-inputs"===e.id?(0,d.jsxs)("div",{className:"dmn-demo",children:[(0,d.jsx)("p",{children:(0,d.jsx)("em",{children:"This is an asset-level question that analyzes individual DMN files. In a real DAK repository, this would scan DMN files in directories like input/cql/ or input/dmn/."})}),(0,d.jsx)(o,{questionId:e.id,parameters:(0,i.A)((0,i.A)({},q),{},{assetFile:"input/cql/IMMZ.D2.DT.BCG.dmn"}),githubService:h.A,showRawData:!0})]}):(0,d.jsx)(o,{questionId:e.id,parameters:q,githubService:h.A,showRawData:!0})]},e.id))]}),(0,d.jsxs)("div",{className:"faq-catalog",children:[(0,d.jsx)("h2",{children:"FAQ Question Catalog"}),(0,d.jsx)("p",{children:"All available questions in the system:"}),(0,d.jsx)("div",{className:"catalog-grid",children:u.map(e=>(0,d.jsxs)("div",{className:"catalog-item",children:[(0,d.jsx)("h4",{children:e.title}),(0,d.jsx)("p",{children:e.description}),(0,d.jsxs)("div",{className:"catalog-meta",children:[(0,d.jsx)("span",{className:"level",children:e.level}),(0,d.jsxs)("span",{className:"version",children:["v",e.version]})]}),(0,d.jsx)("div",{className:"tags",children:e.tags.map(e=>(0,d.jsx)("span",{className:"tag",children:e},e))})]},e.id))})]}),(0,d.jsxs)("div",{className:"mcp-info",children:[(0,d.jsx)("h2",{children:"MCP Server Integration"}),(0,d.jsx)("p",{children:"The FAQ system can also be accessed via the local MCP server API for programmatic access. Start the MCP server and access:"}),(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("code",{children:"GET http://127.0.0.1:3001/faq/questions/catalog"})," - Get question catalog"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("code",{children:"POST http://127.0.0.1:3001/faq/questions/execute"})," - Execute questions"]})]})]})]}):(0,d.jsxs)("div",{className:"dak-faq-demo no-context",children:[(0,d.jsx)("h2",{children:"DAK FAQ Demo"}),(0,d.jsx)("p",{children:"No repository context available. Please navigate from a DAK repository page."}),(0,d.jsxs)("div",{className:"demo-info",children:[(0,d.jsx)("h3",{children:"Available Questions"}),(0,d.jsx)("ul",{children:u.map(e=>(0,d.jsxs)("li",{children:[(0,d.jsx)("strong",{children:e.title})," - ",e.description]},e.id))})]})]})}}}]);