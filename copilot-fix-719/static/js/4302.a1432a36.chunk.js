"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[4302],{94302:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var n=a(9950),t=a(85001),i=a(67818),c=a(29946),o=a(88498),r=a(18354),l=a(25345),d=a(88259),h=a(44414);const m=e=>{let{helpTopic:s,contextData:a={}}=e;const[t,i]=(0,n.useState)(!1),c=(0,d.A)("sgex-mascot.png");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"help-button",onClick:()=>{i(!0)},title:"Get Help","aria-label":"Get Help",children:(0,h.jsx)("img",{src:c,alt:"SGEX Helper",className:"help-mascot-icon"})}),t&&(0,h.jsx)(l.A,{topic:s,contextData:a,onClose:()=>{i(!1)}})]})};var p=a(32675),u=a(30221),f=a(58377),x=a(51635),g=a(1932),v=a(87018),j=a(7082);const N=e=>{let{repository:s,branch:a="main",githubService:t,filters:c={},className:o=""}=e;const{t:r,i18n:l}=(0,i.Bd)(),[d,m]=(0,n.useState)([]),[p,u]=(0,n.useState)(new Set),[f,x]=(0,n.useState)(new Map),[g,N]=(0,n.useState)(new Set),[b,y]=(0,n.useState)(!0),[w,q]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{y(!0),await v.A.initialize();const e=v.A.getCatalog(c);m(e),q(null)}catch(e){console.error("Failed to load FAQ questions:",e),q(e.message)}finally{y(!1)}})()},[c]);const k=async e=>{if(t&&s){N(s=>new Set(s).add(e));try{const n={questionId:e,parameters:{repository:s,branch:a,locale:l.language.replace("-","_")||"en_US"}},i={githubService:t},c=await v.A.executeQuestion(n,i);x(s=>new Map(s).set(e,c))}catch(n){console.error("Failed to execute question ".concat(e,":"),n),x(s=>new Map(s).set(e,{structured:{},narrative:'<p class="error">Error: '.concat(n.message,"</p>"),errors:[n.message],warnings:[],meta:{}}))}finally{N(s=>{const a=new Set(s);return a.delete(e),a})}}},S=e=>j.default.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","div","span","ul","ol","li","strong","em","code","pre","time","small"],ALLOWED_ATTR:["class","datetime"]}),A=e=>{const s=f.get(e);return g.has(e)?(0,h.jsxs)("div",{className:"faq-answer loading",children:[(0,h.jsx)("div",{className:"faq-loading-spinner"}),(0,h.jsx)("p",{children:r("dak.faq.loading")})]}):s?s.errors&&s.errors.length>0?(0,h.jsxs)("div",{className:"faq-answer error",children:[(0,h.jsx)("div",{className:"faq-narrative",dangerouslySetInnerHTML:{__html:S(s.narrative||"")}}),(0,h.jsx)("div",{className:"faq-messages",children:s.errors.map((e,s)=>(0,h.jsxs)("div",{className:"faq-message faq-error",children:[(0,h.jsx)("span",{className:"faq-message-icon",children:"\u26a0\ufe0f"}),e]},"error-".concat(s)))}),(0,h.jsx)("button",{onClick:()=>(async e=>{x(s=>{const a=new Map(s);return a.delete(e),a}),await k(e)})(e),className:"faq-retry-button",children:r("dak.faq.retry")})]}):(0,h.jsxs)("div",{className:"faq-answer success",children:[(0,h.jsx)("div",{className:"faq-narrative",dangerouslySetInnerHTML:{__html:S(s.narrative||"")}}),s.warnings&&s.warnings.length>0&&(0,h.jsx)("div",{className:"faq-messages",children:s.warnings.map((e,s)=>(0,h.jsxs)("div",{className:"faq-message faq-warning",children:[(0,h.jsx)("span",{className:"faq-message-icon",children:"\u26a0\ufe0f"}),e]},"warning-".concat(s)))})]}):(0,h.jsx)("div",{className:"faq-answer empty",children:(0,h.jsx)("p",{children:r("dak.faq.no_data")})})};return b?(0,h.jsx)("div",{className:"faq-accordion loading ".concat(o),children:(0,h.jsxs)("div",{className:"faq-loading",children:[(0,h.jsx)("div",{className:"loading-spinner"}),(0,h.jsx)("p",{children:r("dak.faq.loading_questions")})]})}):w?(0,h.jsx)("div",{className:"faq-accordion error ".concat(o),children:(0,h.jsxs)("div",{className:"faq-error",children:[(0,h.jsx)("h4",{children:r("dak.faq.error_title")}),(0,h.jsx)("p",{children:w}),(0,h.jsx)("button",{onClick:()=>window.location.reload(),className:"btn-secondary",children:r("common.retry")})]})}):0===d.length?(0,h.jsx)("div",{className:"faq-accordion empty ".concat(o),children:(0,h.jsxs)("div",{className:"faq-empty",children:[(0,h.jsx)("h4",{children:r("dak.faq.no_questions_title")}),(0,h.jsx)("p",{children:r("dak.faq.no_questions_message")})]})}):(0,h.jsxs)("div",{className:"faq-accordion ".concat(o),children:[(0,h.jsxs)("div",{className:"faq-accordion-header",children:[(0,h.jsx)("h4",{children:r("dak.faq.available_questions",{count:d.length})}),(0,h.jsx)("p",{children:r("dak.faq.accordion_description")})]}),(0,h.jsx)("div",{className:"faq-accordion-list",children:d.map(e=>{const s=p.has(e.id),a=g.has(e.id);return(0,h.jsxs)("div",{className:"faq-accordion-item ".concat(s?"expanded":""," ").concat(a?"loading":""),children:[(0,h.jsxs)("button",{className:"faq-accordion-toggle",onClick:()=>(async e=>{const s=new Set(p);p.has(e)?s.delete(e):(s.add(e),f.has(e)||await k(e)),u(s)})(e.id),"aria-expanded":s,"aria-controls":"faq-content-".concat(e.id),children:[(0,h.jsxs)("div",{className:"faq-question-info",children:[(0,h.jsx)("h5",{className:"faq-question-title",children:e.title}),(0,h.jsx)("p",{className:"faq-question-description",children:e.description}),(0,h.jsxs)("div",{className:"faq-question-meta",children:[(0,h.jsx)("span",{className:"faq-level",children:e.level}),e.tags&&e.tags.slice(0,3).map(e=>(0,h.jsx)("span",{className:"faq-tag",children:e},e))]})]}),(0,h.jsx)("div",{className:"faq-accordion-icon",children:a?(0,h.jsx)("div",{className:"faq-loading-icon"}):(0,h.jsx)("span",{className:"faq-chevron ".concat(s?"rotated":""),children:"\u25bc"})})]}),s&&(0,h.jsx)("div",{id:"faq-content-".concat(e.id),className:"faq-accordion-content",children:A(e.id)})]},e.id)})})]})};var b=a(95388);const y=()=>{var e,s,a,l;const{t:x}=(0,i.Bd)(),v=(0,t.zy)(),j=(0,t.Zp)(),{user:y,repo:w,branch:q}=(0,t.g)(),k=(0,d.A)("sgex-mascot.png"),[S,A]=(0,n.useState)((null===(e=v.state)||void 0===e?void 0:e.profile)||null),[_,C]=(0,n.useState)((null===(s=v.state)||void 0===s?void 0:s.repository)||null),[T,M]=(0,n.useState)(!S||!_),[I,D]=(0,n.useState)(null),[L,P]=(0,n.useState)(!1),[E,R]=(0,n.useState)(!1),[F,O]=(0,n.useState)("core"),[B,K]=(0,n.useState)((null===(a=v.state)||void 0===a?void 0:a.selectedBranch)||q||null),[H,G]=(0,n.useState)({}),[X,Q]=(0,n.useState)(!1),U=e=>{let{component:s,handleComponentClick:a,t:t}=e;const[i,c]=(0,n.useState)(!1),[o,r]=(0,n.useState)(!1),l=(0,d.A)(s.cardImage);return(0,h.jsxs)("div",{className:"component-card ".concat(s.type.toLowerCase()," large-card ").concat(i?"image-loaded":""),onClick:e=>a(e,s),style:{"--component-color":s.color},tabIndex:0,role:"button","aria-label":"".concat(s.name," - ").concat(s.description),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a(e,s))},children:[(0,h.jsxs)("div",{className:"component-main",children:[(0,h.jsx)("div",{className:"component-header",children:(0,h.jsxs)("div",{className:"component-image-container",children:[(0,h.jsx)("img",{src:l,alt:(0,b.lm)(t,b.ld.ICON_DAK_COMPONENT,s.name,{name:s.name}),className:"component-card-image",onLoad:()=>{c(!0),r(!1)},onError:()=>{r(!0),c(!1)},style:{display:o?"none":"block"}}),o&&(0,h.jsx)("div",{className:"component-icon",style:{color:s.color},children:s.icon})]})}),(0,h.jsxs)("div",{className:"component-content",children:[(0,h.jsx)("h4",{children:s.name}),(0,h.jsx)("p",{children:s.description})]})]}),(0,h.jsx)("div",{className:"component-meta-section",children:(0,h.jsxs)("div",{className:"component-meta",children:[(0,h.jsx)("div",{className:"file-types",children:s.fileTypes.map(e=>(0,h.jsx)("span",{className:"file-type-tag",children:e},e))}),(0,h.jsxs)("div",{className:"file-count",children:[s.count," files"]})]})})]})};(0,n.useEffect)(()=>{(async()=>{if(S&&_||!y||!w)M(!1);else try{if(M(!0),D(null),!c.A.isAuth()){const e={login:y,name:y.charAt(0).toUpperCase()+y.slice(1),avatar_url:"https://github.com/".concat(y,".png"),type:"User"},s={name:w,full_name:"".concat(y,"/").concat(w),owner:{login:y},default_branch:q||"main",html_url:"https://github.com/".concat(y,"/").concat(w)};return A(e),C(s),K(q||"main"),void M(!1)}let s=null;try{s=await c.A.getUser(y)}catch(e){return console.error("Error fetching user:",e),void j("/",{state:{warningMessage:"Could not access the requested DAK. User '".concat(y,"' not found or not accessible.")}})}let a=null;try{a=await c.A.getRepository(y,w)}catch(e){return console.error("Error fetching repository:",e),void j("/",{state:{warningMessage:"Could not access the requested DAK. Repository '".concat(y,"/").concat(w,"' not found or not accessible.")}})}if(!await o.A.validateDAKRepository(y,w,q||a.default_branch))return console.log("Repository ".concat(y,"/").concat(w," is not a valid DAK repository")),void j("/",{state:{warningMessage:"Could not access the requested DAK. Repository '".concat(y,"/").concat(w,"' not found or not accessible.")}});if(q)try{await c.A.getBranch(y,w,q),K(q)}catch(e){console.warn("Branch '".concat(q,"' not found, falling back to default branch")),K(a.default_branch)}else K(a.default_branch);A(s),C(a),M(!1)}catch(e){console.error("Error fetching data from URL params:",e),D("Failed to load dashboard data. Please check the URL or try again."),M(!1)}})()},[y,w,q,S,_,j,x]),(0,n.useEffect)(()=>{if(_){const e=r.default.getSelectedBranch(_);if(e)K(e);else{const e=_.default_branch||"main";K(e),r.default.setSelectedBranch(_,e)}}},[_,S]);(0,n.useEffect)(()=>{_&&!T&&(async()=>{if(_)try{var e;const s=(null===(e=_.owner)||void 0===e?void 0:e.login)||_.full_name.split("/")[0],a=_.name,n=(await c.A.getIssues(s,a,{state:"all",per_page:100})).filter(e=>!e.pull_request),t=n.filter(e=>"open"===e.state).length,i=n.filter(e=>"closed"===e.state).length;G({total:n.length,open:t,closed:i})}catch(s){console.warn("Could not load issue counts:",s),G({total:0,open:0,closed:0})}})()},[_,T]),(0,n.useEffect)(()=>{(async()=>{if(_&&S)try{var e;const s=await c.A.checkRepositoryWritePermissions((null===(e=_.owner)||void 0===e?void 0:e.login)||_.full_name.split("/")[0],_.name);P(s)}catch(I){console.warn("Could not check write permissions:",I),P(!1)}M(!1)})()},[_,S]),(0,n.useEffect)(()=>{const e=e=>{X&&!e.target.closest(".user-menu-container")&&Q(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[X]);const W=[{id:"health-interventions",name:x("dak.healthInterventions"),description:"Clinical guidelines and health intervention specifications that define evidence-based care recommendations",icon:"\ud83d\udcd6",cardImage:"dashboard/dak_interventions.png",type:"L2",color:"#0078d4",fileTypes:["IRIS","Publication"],count:5,editor:"Publication reference manager with IRIS integration"},{id:"generic-personas",name:x("dak.genericPersonas"),description:"Standardized user roles and actor definitions that represent different types of healthcare workers and patients",icon:"\ud83d\udc65",cardImage:"dashboard/dak_personas.png",type:"L2",color:"#107c10",fileTypes:["Actor","Role"],count:8,editor:"Persona definition editor with role-based access specifications"},{id:"user-scenarios",name:x("dak.userScenarios"),description:"Narrative descriptions of how different personas interact with the system in specific healthcare contexts",icon:"\ud83d\udcdd",cardImage:"dashboard/dak_user_scenarios.png",type:"L2",color:"#881798",fileTypes:["Narrative","Use Case"],count:12,editor:"Scenario editor with workflow visualization"},{id:"business-processes",name:x("dak.businessProcesses"),description:"BPMN workflows and business process definitions that model clinical workflows and care pathways",icon:"\ud83d\udd04",cardImage:"dashboard/dak_business_processes.png",type:"L2",color:"#d13438",fileTypes:["BPMN","XML"],count:15,editor:"Graphical BPMN editor with SVG visualization"},{id:"core-data-elements",name:x("dak.coreDataElements"),description:"Essential data structures and terminology needed for clinical data capture and exchange (includes Terminology Services via OCL and Product Master Data via PCMT)",icon:"\ud83d\uddc3\ufe0f",cardImage:"dashboard/dak_core_data_elements.png",type:"L2",color:"#ff8c00",fileTypes:["OCL","Concept","PCMT","Product"],count:H.total||89,editor:"Data element editor with OCL and PCMT integration"},{id:"decision-support",name:x("dak.decisionSupportLogic"),description:"DMN decision tables and clinical decision support rules that encode clinical logic",icon:"\ud83c\udfaf",cardImage:"dashboard/dak_decision_support_logic.png",type:"L2",color:"#00bcf2",fileTypes:["DMN","XML"],count:24,editor:"DMN decision table editor with validation"},{id:"program-indicators",name:x("dak.programIndicators"),description:"Performance indicators and measurement definitions for monitoring and evaluation",icon:"\ud83d\udcca",cardImage:"dashboard/dak_indicators.png",type:"L2",color:"#498205",fileTypes:["Measure","Logic"],count:18,editor:"Indicator definition editor with measurement logic"},{id:"functional-requirements",name:x("dak.requirements"),description:"System requirements specifications that define capabilities and constraints",icon:"\u2699\ufe0f",cardImage:"dashboard/dak_requirements.png",type:"L2",color:"#6b69d6",fileTypes:["Requirements","Specification"],count:32,editor:"Requirements editor with structured templates"},{id:"test-scenarios",name:x("dak.testScenarios")||"Test Scenarios",description:"Feature files and test scenarios for validating the DAK implementation",icon:"\ud83e\uddea",cardImage:"dashboard/dak_testing.png",type:"L2",color:"#8b5cf6",fileTypes:["Feature","Test"],count:0,editor:"Testing viewer with feature file browser"}],z=(e,s)=>{var a;const n={profile:S,repository:_,component:s,selectedBranch:B};if("decision-support"===s.id){var t;const s=(null===(t=_.owner)||void 0===t?void 0:t.login)||_.full_name.split("/")[0],a=_.name,i=B?"/decision-support-logic/".concat(s,"/").concat(a,"/").concat(B):"/decision-support-logic/".concat(s,"/").concat(a);return void(0,g.hX)(e,i,j,n)}if("business-processes"===s.id){var i;const s=(null===(i=_.owner)||void 0===i?void 0:i.login)||_.full_name.split("/")[0],a=_.name,t=B?"/business-process-selection/".concat(s,"/").concat(a,"/").concat(B):"/business-process-selection/".concat(s,"/").concat(a);return void(0,g.hX)(e,t,j,n)}if("health-interventions"===s.id){var c;const s=(null===(c=_.owner)||void 0===c?void 0:c.login)||_.full_name.split("/")[0],a=_.name,t=B?"/health-interventions/".concat(s,"/").concat(a,"/").concat(B):"/health-interventions/".concat(s,"/").concat(a);return void(0,g.hX)(e,t,j,n)}if("core-data-elements"===s.id){var o;const s=y||(null===(o=_.owner)||void 0===o?void 0:o.login)||_.full_name.split("/")[0],a=w||_.name,t=B,i=t?"/core-data-dictionary-viewer/".concat(s,"/").concat(a,"/").concat(t):"/core-data-dictionary-viewer/".concat(s,"/").concat(a);return void(0,g.hX)(e,i,j,n)}if("generic-personas"===s.id){var r;const s=(null===(r=_.owner)||void 0===r?void 0:r.login)||_.full_name.split("/")[0],a=_.name,t=B?"/actor-editor/".concat(s,"/").concat(a,"/").concat(B):"/actor-editor/".concat(s,"/").concat(a);return void(0,g.hX)(e,t,j,n)}if("test-scenarios"===s.id){var l;const s=(null===(l=_.owner)||void 0===l?void 0:l.login)||_.full_name.split("/")[0],a=_.name,t=B?"/testing-viewer/".concat(s,"/").concat(a,"/").concat(B):"/testing-viewer/".concat(s,"/").concat(a);return void(0,g.hX)(e,t,j,n)}if(!L)return void R(!0);const d=(null===(a=_.owner)||void 0===a?void 0:a.login)||_.full_name.split("/")[0],h=_.name,m=B?"/".concat(s.id,"/").concat(d,"/").concat(h,"/").concat(B):"/".concat(s.id,"/").concat(d,"/").concat(h);(0,g.hX)(e,m,j,n)};return T?(0,h.jsx)("div",{className:"dak-dashboard loading-state",children:(0,h.jsxs)("div",{className:"loading-content",children:[(0,h.jsx)("h2",{children:"Loading Dashboard..."}),(0,h.jsx)("p",{children:"Fetching repository and user data..."})]})}):I?(0,h.jsx)("div",{className:"dak-dashboard error-state",children:(0,h.jsxs)("div",{className:"error-content",children:[(0,h.jsx)("h2",{children:x("dashboard.errorLoading")}),(0,h.jsx)("p",{children:I}),(0,h.jsxs)("div",{className:"error-actions",children:[(0,h.jsx)("button",{onClick:()=>j("/"),className:"action-btn primary",children:x("navigation.home")}),(0,h.jsx)("button",{onClick:()=>window.location.reload(),className:"action-btn secondary",children:x("common.retry")})]})]})}):S&&_?(0,h.jsxs)("div",{className:"dak-dashboard",children:[(0,h.jsx)("div",{className:"dashboard-content",children:(0,h.jsxs)("div",{className:"dashboard-main",children:[(0,h.jsxs)("div",{className:"dashboard-intro",children:[(0,h.jsx)("h2",{children:x("dak.components")}),(0,h.jsxs)("p",{children:["Select a component to edit content for ",(0,h.jsx)("strong",{children:_.name}),B&&(0,h.jsxs)("span",{children:[" on branch ",(0,h.jsx)("code",{className:"branch-display",children:B})]}),". Components are organized according to the WHO SMART Guidelines framework."]})]}),(0,h.jsx)(f.A,{profile:S,repository:_,selectedBranch:B}),_&&B&&(0,h.jsx)(p.A,{repository:_,selectedBranch:B,hasWriteAccess:L,profile:S}),(0,h.jsxs)("div",{className:"tab-navigation-fullwidth",children:[(0,h.jsxs)("button",{className:"tab-button-fullwidth ".concat("core"===F?"active":""),onClick:()=>O("core"),children:[(0,h.jsx)("span",{className:"tab-icon",children:"\u2b50"}),(0,h.jsx)("span",{className:"tab-text",children:"9 Core Components"})]}),(0,h.jsxs)("button",{className:"tab-button-fullwidth ".concat("publications"===F?"active":""),onClick:()=>O("publications"),children:[(0,h.jsx)("span",{className:"tab-icon",children:"\ud83d\udcda"}),(0,h.jsx)("span",{className:"tab-text",children:"Publications"})]}),(0,h.jsxs)("button",{className:"tab-button-fullwidth ".concat("other"===F?"active":""),onClick:()=>O("other"),children:[(0,h.jsx)("span",{className:"tab-icon",children:"\ud83d\udd27"}),(0,h.jsx)("span",{className:"tab-text",children:"Other DAK Components"})]}),(0,h.jsxs)("button",{className:"tab-button-fullwidth ".concat("faq"===F?"active":""),onClick:()=>O("faq"),children:[(0,h.jsx)("span",{className:"tab-icon",children:"\u2753"}),(0,h.jsx)("span",{className:"tab-text",children:"DAK FAQ"})]})]}),"core"===F&&(0,h.jsxs)("div",{className:"components-section active",children:[(0,h.jsxs)("div",{className:"section-header",children:[(0,h.jsx)("h3",{className:"section-title",children:x("dak.components")}),(0,h.jsx)("p",{className:"section-description",children:"Essential components that form the foundation of any WHO SMART Guidelines Digital Adaptation Kit"})]}),(0,h.jsx)("div",{className:"components-grid core-components",children:W.map(e=>(0,h.jsx)(U,{component:e,handleComponentClick:z,t:x},e.id))})]}),"other"===F&&(0,h.jsxs)("div",{className:"components-section other-components active",children:[(0,h.jsxs)("div",{className:"section-header",children:[(0,h.jsx)("h3",{className:"section-title",children:"Other DAK Components"}),(0,h.jsx)("p",{className:"section-description",children:"Additional specialized components for advanced DAK functionality and implementation"})]}),(0,h.jsx)("div",{className:"components-grid other-components",children:(0,h.jsxs)("div",{className:"component-card l3",onClick:e=>{var s;const a=(null===(s=_.owner)||void 0===s?void 0:s.login)||_.full_name.split("/")[0],n=_.name,t=B?"/questionnaire-editor/".concat(a,"/").concat(n,"/").concat(B):"/questionnaire-editor/".concat(a,"/").concat(n),i={profile:S,repository:_,component:{id:"questionnaire-editor",name:"FHIR Questionnaires",description:"Structured questionnaires and forms for data collection using FHIR standard"},selectedBranch:B};(0,g.hX)(e,t,j,i)},style:{"--component-color":"#17a2b8"},children:[(0,h.jsx)("div",{className:"component-header",children:(0,h.jsx)("div",{className:"component-icon",style:{color:"#17a2b8"},children:"\ud83d\udccb"})}),(0,h.jsxs)("div",{className:"component-content",children:[(0,h.jsx)("h4",{children:"FHIR Questionnaires"}),(0,h.jsx)("p",{children:"Structured questionnaires and forms for data collection using FHIR Questionnaire standard"}),(0,h.jsxs)("div",{className:"component-meta",children:[(0,h.jsxs)("div",{className:"file-types",children:[(0,h.jsx)("span",{className:"file-type-tag",children:"JSON"}),(0,h.jsx)("span",{className:"file-type-tag",children:"FHIR"})]}),(0,h.jsx)("div",{className:"file-count",children:"questionnaires/"})]})]})]})})]}),"publications"===F&&(0,h.jsx)("div",{className:"components-section publications-section active",children:(0,h.jsx)(u.A,{profile:S,repository:_,selectedBranch:B,hasWriteAccess:L})}),"faq"===F&&(0,h.jsxs)("div",{className:"components-section faq-section active",children:[(0,h.jsxs)("div",{className:"section-header",children:[(0,h.jsx)("h3",{className:"section-title",children:"DAK FAQ System"}),(0,h.jsx)("p",{className:"section-description",children:"Ask questions about this DAK and get automated answers based on repository analysis"})]}),(0,h.jsx)(N,{repository:"".concat(y,"/").concat(w),branch:B||"main",githubService:c.A,filters:{level:"dak"},className:"dak-faq-accordion"}),(0,h.jsxs)("div",{className:"mcp-info",style:{marginTop:"2rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px"},children:[(0,h.jsx)("h4",{children:"MCP Server API"}),"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:"The FAQ system can also be accessed programmatically via the MCP server API:"}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[(0,h.jsx)("code",{children:"GET http://127.0.0.1:3001/faq/questions/catalog"})," - Get question catalog"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("code",{children:"POST http://127.0.0.1:3001/faq/questions/execute"})," - Execute questions"]})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:"For programmatic access to the FAQ system, you can install and run the MCP server locally:"}),(0,h.jsxs)("div",{style:{background:"#e9ecef",padding:"1rem",borderRadius:"4px",marginBottom:"1rem"},children:[(0,h.jsx)("h5",{children:"Installation Instructions:"}),(0,h.jsxs)("ol",{children:[(0,h.jsxs)("li",{children:["Clone the repository: ",(0,h.jsxs)("code",{children:["git clone https://github.com/",y,"/",w,".git"]})]}),(0,h.jsxs)("li",{children:["Navigate to MCP server: ",(0,h.jsxs)("code",{children:["cd ",w,"/services/dak-faq-mcp"]})]}),(0,h.jsxs)("li",{children:["Install dependencies: ",(0,h.jsx)("code",{children:"npm install"})]}),(0,h.jsxs)("li",{children:["Build TypeScript: ",(0,h.jsx)("code",{children:"npm run build"})]}),(0,h.jsxs)("li",{children:["Start server: ",(0,h.jsx)("code",{children:"npm start"})]})]})]}),(0,h.jsx)("p",{children:"Once running, the MCP server will be available at:"}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[(0,h.jsx)("code",{children:"GET http://127.0.0.1:3001/faq/questions/catalog"})," - Get question catalog"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("code",{children:"POST http://127.0.0.1:3001/faq/questions/execute"})," - Execute questions"]})]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Note:"})," The MCP server runs locally for security and provides full API access to the DAK FAQ system."]})]})]})]})]})}),E&&(0,h.jsx)("div",{className:"permission-dialog-overlay",children:(0,h.jsxs)("div",{className:"permission-dialog",children:[(0,h.jsxs)("div",{className:"dialog-header",children:[(0,h.jsx)("h3",{children:"Edit Access Required"}),(0,h.jsx)("button",{className:"dialog-close",onClick:()=>R(!1),children:"\xd7"})]}),(0,h.jsxs)("div",{className:"dialog-content",children:[(0,h.jsxs)("div",{className:"dialog-mascot",children:[(0,h.jsx)("img",{src:k,alt:(0,b.lm)(x,b.ld.MASCOT_HELPER,"SGEX Helper"),className:"dialog-mascot-img"}),(0,h.jsxs)("div",{className:"mascot-message",children:[(0,h.jsx)("p",{children:"You need edit permissions to modify DAK components!"}),(0,h.jsx)("p",{children:"Your current token only provides read access to this repository."})]})]}),(0,h.jsxs)("div",{className:"permission-options",children:[(0,h.jsxs)("div",{className:"option-card",children:[(0,h.jsx)("h4",{children:"\ud83d\udd27 Upgrade Your Token"}),(0,h.jsx)("p",{children:"Create a new fine-grained token with write permissions for this repository."}),(0,h.jsxs)("div",{className:"option-buttons",children:[(0,h.jsx)("a",{href:"https://github.com/settings/personal-access-tokens/new",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:"Create New Token"}),(0,h.jsx)(m,{helpTopic:"github-token",contextData:{repository:{owner:(null===(l=_.owner)||void 0===l?void 0:l.login)||_.full_name.split("/")[0],name:_.name},requiredScopes:["Contents: Write","Metadata: Read","Pull requests: Write"],permissionMode:"edit",upgradeMode:!0}})]})]}),(0,h.jsxs)("div",{className:"option-card",children:[(0,h.jsx)("h4",{children:"\ud83d\udc41\ufe0f Continue in Read-Only Mode"}),(0,h.jsx)("p",{children:"Browse and view DAK components without editing capabilities."}),(0,h.jsx)("button",{className:"btn-secondary",onClick:()=>R(!1),children:"Continue Read-Only"})]})]})]})]})})]}):(j("/"),(0,h.jsx)("div",{children:"Redirecting..."}))},w=()=>(0,h.jsx)(x.Mx,{pageName:"dak-dashboard",children:(0,h.jsx)(y,{})})}}]);