"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[8560],{48560:(e,n,s)=>{s.r(n),s.d(n,{Render:()=>d,execute:()=>l,metadata:()=>c});var t=s(89379),i=(s(65043),s(74117)),r=s(38389),a=s(70579);const o=()=>{if("undefined"!==typeof DOMParser)return DOMParser;throw new Error("DOMParser not available (browser environment required for DMN parsing)")},c=new r.Q5({id:"decision-table-inputs",level:r.x.ASSET,title:"Decision Table Inputs",description:"What are the inputs required for this decision table?",parameters:[new r.hI({name:"assetFile",type:"string",required:!0,description:"Path to the DMN file to analyze"})],tags:["asset","decision-support","dmn","inputs"],version:"1.0.0",assetTypes:["dmn"],isTemplate:!0});async function l(e){const{locale:n="en_US",assetFile:s,storage:i}=e,a=[],c=[];try{if(!await i.fileExists(s))return new r.uC({structured:{inputs:[],decisionTables:[],fileName:s},narrative:u(n,"file_not_found",{fileName:s}),errors:[p(n,"file_not_found",{fileName:s})],meta:{cacheHint:new r.kv({scope:"file",key:"decision-table-inputs-".concat(s),ttl:3600,dependencies:[s]})}});const e=await i.readFile(s),l=await async function(e,n){try{const s=o(),i=(new s).parseFromString(e,"text/xml"),r=i.getElementsByTagName("parsererror")[0];if(r)throw new Error("XML parsing error: ".concat(r.textContent));const a={fileName:n,inputs:[],decisionTables:[],decisions:[],totalInputs:0},c=i.getElementsByTagNameNS("*","decision")||i.getElementsByTagName("decision");for(let e=0;e<c.length;e++){const n=c[e],s={id:n.getAttribute("id"),name:n.getAttribute("name")||n.getAttribute("label"),question:null,inputs:[]},i=n.getElementsByTagNameNS("*","question")||n.getElementsByTagName("question");i.length>0&&(s.question=i[0].textContent.trim()),a.decisions.push(s);const r=n.getElementsByTagNameNS("*","decisionTable")||n.getElementsByTagName("decisionTable");for(let e=0;e<r.length;e++){const n=r[e],i={id:n.getAttribute("id"),hitPolicy:n.getAttribute("hitPolicy")||"UNIQUE",aggregation:n.getAttribute("aggregation"),decisionId:s.id,decisionName:s.name,inputs:[],outputs:[]},o=n.getElementsByTagNameNS("*","input")||n.getElementsByTagName("input");for(let e=0;e<o.length;e++){const n=o[e],r={id:n.getAttribute("id"),label:n.getAttribute("label"),typeRef:null,expression:null,description:null},c=n.getElementsByTagNameNS("*","inputExpression")||n.getElementsByTagName("inputExpression");if(c.length>0){const e=c[0];r.typeRef=e.getAttribute("typeRef");const n=e.getElementsByTagNameNS("*","text")||e.getElementsByTagName("text");n.length>0&&(r.expression=n[0].textContent.trim())}if(c.length>0){const e=c[0].getElementsByTagNameNS("*","description")||c[0].getElementsByTagName("description");e.length>0&&(r.description=e[0].textContent.trim())}i.inputs.push(r);const l=a.inputs.find(e=>e.label===r.label||e.expression===r.expression);l?(l.usedInTables.includes(i.id||i.decisionId)||l.usedInTables.push(i.id||i.decisionId),l.usedInDecisions.includes(s.id)||l.usedInDecisions.push(s.id)):a.inputs.push((0,t.A)((0,t.A)({},r),{},{usedInTables:[i.id||i.decisionId],usedInDecisions:[s.id]}))}const c=n.getElementsByTagNameNS("*","output")||n.getElementsByTagName("output");for(let e=0;e<c.length;e++){const n=c[e],s={id:n.getAttribute("id"),label:n.getAttribute("label"),typeRef:n.getAttribute("typeRef"),description:null},t=n.getElementsByTagNameNS("*","description")||n.getElementsByTagName("description");t.length>0&&(s.description=t[0].textContent.trim()),i.outputs.push(s)}a.decisionTables.push(i)}}return a.totalInputs=a.inputs.length,a}catch(s){throw new Error("Failed to parse DMN file ".concat(n,": ").concat(s.message))}}(e.toString("utf-8"),s);return 0===l.inputs.length&&a.push(p(n,"no_inputs_found",{fileName:s})),new r.uC({structured:l,narrative:u(n,"success",l),warnings:a,errors:c,meta:{cacheHint:new r.kv({scope:"file",key:"decision-table-inputs-".concat(s),ttl:1800,dependencies:[s]})}})}catch(l){return new r.uC({structured:{inputs:[],decisionTables:[],fileName:s,error:l.message},narrative:u(n,"error",{fileName:s}),errors:[p(n,"parse_error",{fileName:s,error:l.message})],meta:{cacheHint:new r.kv({scope:"file",key:"decision-table-inputs-".concat(s),ttl:60,dependencies:[s]})}})}}function d(e){var n,s;let{result:t,locale:r="en_US"}=e;const{t:o}=(0,i.Bd)();if(!t||!t.structured)return(0,a.jsx)("div",{className:"faq-answer error",children:o("dak.faq.decision_inputs.no_data")});const{inputs:c,decisionTables:l,decisions:d,fileName:u,totalInputs:p}=t.structured;var h;return 0===c.length?(0,a.jsxs)("div",{className:"faq-answer warning",children:[(0,a.jsx)("h4",{children:o("dak.faq.decision_inputs.title")}),(0,a.jsxs)("p",{children:["No inputs found in ",(0,a.jsx)("code",{children:u})]}),null===(h=t.errors)||void 0===h?void 0:h.map((e,n)=>(0,a.jsx)("div",{className:"error-message",children:e},n))]}):(0,a.jsxs)("div",{className:"faq-answer success",children:[(0,a.jsx)("h4",{children:o("dak.faq.decision_inputs.title")}),(0,a.jsxs)("div",{className:"decision-summary",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"File: "}),(0,a.jsx)("code",{children:u})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total Inputs Required: "}),(0,a.jsx)("span",{className:"highlight",children:p})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Decision Tables: "}),l.length]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Decisions: "}),d.length]})]}),(0,a.jsxs)("div",{className:"inputs-list",children:[(0,a.jsx)("h5",{children:"Required Inputs"}),c.map((e,n)=>(0,a.jsxs)("div",{className:"input-item",children:[(0,a.jsxs)("div",{className:"input-header",children:[(0,a.jsx)("strong",{children:e.label||e.id}),e.typeRef&&(0,a.jsxs)("span",{className:"type-ref",children:["(",e.typeRef,")"]})]}),e.expression&&(0,a.jsxs)("div",{className:"input-expression",children:[(0,a.jsx)("strong",{children:"Expression: "}),(0,a.jsx)("code",{children:e.expression})]}),e.description&&(0,a.jsxs)("div",{className:"input-description",children:[(0,a.jsx)("strong",{children:"Description: "}),e.description]}),(0,a.jsxs)("div",{className:"input-usage",children:[(0,a.jsx)("strong",{children:"Used in: "}),e.usedInDecisions.length," decision(s), ",e.usedInTables.length," table(s)"]})]},n))]}),l.length>0&&(0,a.jsxs)("div",{className:"decision-tables-list",children:[(0,a.jsx)("h5",{children:"Decision Tables"}),l.map((e,n)=>(0,a.jsxs)("div",{className:"table-item",children:[(0,a.jsxs)("div",{className:"table-header",children:[(0,a.jsx)("strong",{children:e.decisionName||e.decisionId}),(0,a.jsxs)("span",{className:"hit-policy",children:["Hit Policy: ",e.hitPolicy]})]}),(0,a.jsxs)("div",{className:"table-details",children:[(0,a.jsxs)("div",{className:"table-inputs",children:[(0,a.jsxs)("strong",{children:["Inputs (",e.inputs.length,"): "]}),e.inputs.map(e=>e.label||e.id).join(", ")]}),(0,a.jsxs)("div",{className:"table-outputs",children:[(0,a.jsxs)("strong",{children:["Outputs (",e.outputs.length,"): "]}),e.outputs.map(e=>e.label||e.id).join(", ")]})]})]},n))]}),null===(n=t.warnings)||void 0===n?void 0:n.map((e,n)=>(0,a.jsx)("div",{className:"warning-message",children:e},n)),null===(s=t.errors)||void 0===s?void 0:s.map((e,n)=>(0,a.jsx)("div",{className:"error-message",children:e},n))]})}function u(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const t={en_US:{success:(()=>{const{inputs:e,decisionTables:n,fileName:t,totalInputs:i}=s;let r="<h4>Decision Table Inputs</h4>";return r+="<p>Analysis of <strong>".concat(t,"</strong>:</p>"),0===i?r+='<p class="warning">No inputs found in this decision table.</p>':(r+="<p>This decision table requires <strong>".concat(i,"</strong> input(s):</p>"),r+="<ul>",e.forEach(e=>{r+="<li><strong>".concat(e.label||e.id,"</strong>"),e.typeRef&&(r+=" (".concat(e.typeRef,")")),e.expression&&(r+=" - <code>".concat(e.expression,"</code>")),r+="</li>"}),r+="</ul>",n.length>1&&(r+="<p>Found ".concat(n.length," decision tables in this file.</p>"))),r})(),file_not_found:'<h4>Decision Table Inputs</h4><p class="error">The DMN file <code>'.concat(s.fileName,"</code> was not found.</p>"),error:'<h4>Decision Table Inputs</h4><p class="error">An error occurred while analyzing the DMN file <code>'.concat(s.fileName,"</code>.</p>")},fr_FR:{success:(()=>{const{inputs:e,decisionTables:n,fileName:t,totalInputs:i}=s;let r="<h4>Entr\xe9es de table de d\xe9cision</h4>";return r+="<p>Analyse de <strong>".concat(t,"</strong>:</p>"),0===i?r+='<p class="warning">Aucune entr\xe9e trouv\xe9e dans cette table de d\xe9cision.</p>':(r+="<p>Cette table de d\xe9cision n\xe9cessite <strong>".concat(i,"</strong> entr\xe9e(s):</p>"),r+="<ul>",e.forEach(e=>{r+="<li><strong>".concat(e.label||e.id,"</strong>"),e.typeRef&&(r+=" (".concat(e.typeRef,")")),e.expression&&(r+=" - <code>".concat(e.expression,"</code>")),r+="</li>"}),r+="</ul>",n.length>1&&(r+="<p>Trouv\xe9 ".concat(n.length," tables de d\xe9cision dans ce fichier.</p>"))),r})(),file_not_found:'<h4>Entr\xe9es de table de d\xe9cision</h4><p class="error">Le fichier DMN <code>'.concat(s.fileName,"</code> n'a pas \xe9t\xe9 trouv\xe9.</p>"),error:"<h4>Entr\xe9es de table de d\xe9cision</h4><p class=\"error\">Une erreur s'est produite lors de l'analyse du fichier DMN <code>".concat(s.fileName,"</code>.</p>")},es_ES:{success:(()=>{const{inputs:e,decisionTables:n,fileName:t,totalInputs:i}=s;let r="<h4>Entradas de tabla de decisi\xf3n</h4>";return r+="<p>An\xe1lisis de <strong>".concat(t,"</strong>:</p>"),0===i?r+='<p class="warning">No se encontraron entradas en esta tabla de decisi\xf3n.</p>':(r+="<p>Esta tabla de decisi\xf3n requiere <strong>".concat(i,"</strong> entrada(s):</p>"),r+="<ul>",e.forEach(e=>{r+="<li><strong>".concat(e.label||e.id,"</strong>"),e.typeRef&&(r+=" (".concat(e.typeRef,")")),e.expression&&(r+=" - <code>".concat(e.expression,"</code>")),r+="</li>"}),r+="</ul>",n.length>1&&(r+="<p>Se encontraron ".concat(n.length," tablas de decisi\xf3n en este archivo.</p>"))),r})(),file_not_found:'<h4>Entradas de tabla de decisi\xf3n</h4><p class="error">El archivo DMN <code>'.concat(s.fileName,"</code> no se encontr\xf3.</p>"),error:'<h4>Entradas de tabla de decisi\xf3n</h4><p class="error">Ocurri\xf3 un error al analizar el archivo DMN <code>'.concat(s.fileName,"</code>.</p>")}},i=t[e]||t.en_US;return i[n]||i.error}function p(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const t={en_US:{file_not_found:"DMN file not found: ".concat(s.fileName),no_inputs_found:"No inputs found in DMN file: ".concat(s.fileName),parse_error:"Failed to parse DMN file ".concat(s.fileName,": ").concat(s.error)},fr_FR:{file_not_found:"Fichier DMN non trouv\xe9: ".concat(s.fileName),no_inputs_found:"Aucune entr\xe9e trouv\xe9e dans le fichier DMN: ".concat(s.fileName),parse_error:"\xc9chec de l'analyse du fichier DMN ".concat(s.fileName,": ").concat(s.error)},es_ES:{file_not_found:"Archivo DMN no encontrado: ".concat(s.fileName),no_inputs_found:"No se encontraron entradas en el archivo DMN: ".concat(s.fileName),parse_error:"Error al analizar el archivo DMN ".concat(s.fileName,": ").concat(s.error)}};return(t[e]||t.en_US)[n]||"Unknown error: ".concat(n)}}}]);
//# sourceMappingURL=8560.2b9bac94.chunk.js.map