"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[399],{30399:(e,n,r)=>{r.r(n),r.d(n,{Render:()=>l,execute:()=>t,metadata:()=>c});r(9950);var s=r(67818),a=r(49162),o=r(16558),i=r(44414);const c=new a.Q5({id:"dak-name",level:a.x.DAK,title:"DAK Name",description:"Extracts the name of the DAK from sushi-config.yaml",parameters:[],tags:["dak","metadata","name"],version:"1.0.0"});async function t(e){const{locale:n="en_US",storage:r}=e,s=[],i=[];try{if(!await r.fileExists("sushi-config.yaml"))return new a.uC({structured:{name:null},narrative:d(n,"file_not_found"),errors:[u(n,"sushi_config_missing")],meta:{cacheHint:new a.kv({scope:"repository",key:"dak-name",ttl:3600,dependencies:["sushi-config.yaml"]})}});const e=await r.readFile("sushi-config.yaml"),c=o.default.load(e.toString("utf-8"));let t=null;return c&&"object"===typeof c&&(t=c.name||c.title||c.id),t||s.push(u(n,"name_not_found")),new a.uC({structured:{name:t,id:null===c||void 0===c?void 0:c.id,title:null===c||void 0===c?void 0:c.title,version:null===c||void 0===c?void 0:c.version},narrative:d(n,"success",{name:t}),warnings:s,errors:i,meta:{cacheHint:new a.kv({scope:"repository",key:"dak-name",ttl:3600,dependencies:["sushi-config.yaml"]})}})}catch(c){return new a.uC({structured:{name:null},narrative:d(n,"error"),errors:[u(n,"parse_error",{error:c.message})],meta:{cacheHint:new a.kv({scope:"repository",key:"dak-name",ttl:60,dependencies:["sushi-config.yaml"]})}})}}function l(e){var n;let{result:r,locale:a="en_US"}=e;const{t:o}=(0,s.Bd)();if(!r||!r.structured)return(0,i.jsx)("div",{className:"faq-answer error",children:o("dak.faq.name.no_data")});const{name:c,id:t,title:l,version:d}=r.structured;var u;return c?(0,i.jsxs)("div",{className:"faq-answer success",children:[(0,i.jsx)("h4",{children:o("dak.faq.name.title")}),(0,i.jsxs)("div",{className:"dak-metadata",children:[(0,i.jsxs)("div",{className:"dak-name",children:[(0,i.jsxs)("strong",{children:[o("dak.faq.name.name_label"),": "]}),(0,i.jsx)("span",{className:"highlight",children:c})]}),t&&t!==c&&(0,i.jsxs)("div",{className:"dak-id",children:[(0,i.jsxs)("strong",{children:[o("dak.faq.name.id_label"),": "]}),(0,i.jsx)("code",{children:t})]}),l&&l!==c&&(0,i.jsxs)("div",{className:"dak-title",children:[(0,i.jsxs)("strong",{children:[o("dak.faq.name.title_label"),": "]}),l]}),d&&(0,i.jsxs)("div",{className:"dak-version",children:[(0,i.jsxs)("strong",{children:[o("dak.faq.name.version_label"),": "]}),(0,i.jsx)("code",{children:d})]})]}),null===(n=r.warnings)||void 0===n?void 0:n.map((e,n)=>(0,i.jsx)("div",{className:"warning-message",children:e},n))]}):(0,i.jsxs)("div",{className:"faq-answer warning",children:[(0,i.jsx)("h4",{children:o("dak.faq.name.title")}),(0,i.jsx)("p",{children:o("dak.faq.name.not_found")}),null===(u=r.errors)||void 0===u?void 0:u.map((e,n)=>(0,i.jsx)("div",{className:"error-message",children:e},n))]})}function d(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s={en_US:{success:r.name?"<h4>DAK Name</h4><p>The name of this DAK is <strong>".concat(r.name,"</strong>.</p>"):"<h4>DAK Name</h4><p>No name found in sushi-config.yaml.</p>",file_not_found:'<h4>DAK Name</h4><p class="error">The sushi-config.yaml file was not found in this repository.</p>',error:'<h4>DAK Name</h4><p class="error">An error occurred while reading the DAK configuration.</p>'},fr_FR:{success:r.name?"<h4>Nom du DAK</h4><p>Le nom de ce DAK est <strong>".concat(r.name,"</strong>.</p>"):"<h4>Nom du DAK</h4><p>Aucun nom trouv\xe9 dans sushi-config.yaml.</p>",file_not_found:'<h4>Nom du DAK</h4><p class="error">Le fichier sushi-config.yaml n\'a pas \xe9t\xe9 trouv\xe9 dans ce r\xe9f\xe9rentiel.</p>',error:'<h4>Nom du DAK</h4><p class="error">Une erreur s\'est produite lors de la lecture de la configuration DAK.</p>'},es_ES:{success:r.name?"<h4>Nombre del DAK</h4><p>El nombre de este DAK es <strong>".concat(r.name,"</strong>.</p>"):"<h4>Nombre del DAK</h4><p>No se encontr\xf3 nombre en sushi-config.yaml.</p>",file_not_found:'<h4>Nombre del DAK</h4><p class="error">El archivo sushi-config.yaml no se encontr\xf3 en este repositorio.</p>',error:'<h4>Nombre del DAK</h4><p class="error">Ocurri\xf3 un error al leer la configuraci\xf3n del DAK.</p>'}},a=s[e]||s.en_US;return a[n]||a.error}function u(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s={en_US:{sushi_config_missing:"sushi-config.yaml file not found",name_not_found:"No name field found in sushi-config.yaml",parse_error:"Failed to parse sushi-config.yaml: ".concat(r.error||"Unknown error")},fr_FR:{sushi_config_missing:"Fichier sushi-config.yaml non trouv\xe9",name_not_found:"Aucun champ nom trouv\xe9 dans sushi-config.yaml",parse_error:"\xc9chec de l'analyse de sushi-config.yaml: ".concat(r.error||"Erreur inconnue")},es_ES:{sushi_config_missing:"Archivo sushi-config.yaml no encontrado",name_not_found:"No se encontr\xf3 campo de nombre en sushi-config.yaml",parse_error:"Error al analizar sushi-config.yaml: ".concat(r.error||"Error desconocido")}};return(s[e]||s.en_US)[n]||"Unknown error: ".concat(n)}}}]);