"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[199],{1932:(e,s,n)=>{n.d(s,{Mn:()=>t,hX:()=>a});const t=e=>{const s="/sgex/copilot-fix-767",n=window.location.origin,t=e.startsWith("/")?e.slice(1):e;if(!s)return"".concat(n,"/").concat(t);const a=s.endsWith("/")?s:s+"/";return"".concat(n).concat(a).concat(t)},a=function(e,s,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((e=>!!(null!==e&&void 0!==e&&e.ctrlKey||null!==e&&void 0!==e&&e.metaKey))(e)){const e=t(s);window.open(e,"_blank","noopener,noreferrer")}else a?n(s,{state:a}):n(s)}},27635:(e,s,n)=>{n.r(s),n.d(s,{default:()=>x});var t=n(89379),a=n(9950),i=n(91018),r=n(29946),o=n(29473);const l=JSON.parse('{"eR":[{"id":"who-smart-ig-empty","name":"WHO template SMART Guidelines","description":"Empty WHO SMART Guidelines template for creating new Digital Adaptation Kits","repository":"https://github.com/WorldHealthOrganization/smart-ig-empty","owner":"WorldHealthOrganization","repo":"smart-ig-empty","isDefault":true,"type":"template","tags":["WHO","SMART Guidelines","Template","Empty"],"version":"latest","documentation":"https://github.com/WorldHealthOrganization/smart-ig-empty/blob/main/README.md"}]}');var c=n(83111),d=n(80045),u=n(1932),m=n(44414);const p=["children","href","navigationState","className","ariaLabel","onNavigate","disabled"],h=e=>{let{children:s,href:n,navigationState:r=null,className:o="",ariaLabel:l="",onNavigate:c=null,disabled:h=!1}=e,g=(0,d.A)(e,p);const x=(0,i.Zp)(),[j,v]=(0,a.useState)(null),[N,f]=(0,a.useState)(null),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{j&&b.current&&!b.current.contains(e.target)&&v(null)};return j&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[j]);const y=e=>{h||(j?v(null):n&&(c?c(e,n,r):(0,u.hX)(e,n,x,r)))},w=e=>{if(h||!n)return;e.preventDefault();const s=b.current.getBoundingClientRect();v({x:e.clientX,y:e.clientY,url:(0,u.Mn)(n),position:{top:e.clientY-s.top,left:e.clientX-s.left}})};return(0,m.jsxs)("div",(0,t.A)((0,t.A)({ref:b,className:"action-card ".concat(o," ").concat(h?"disabled":""),onClick:y,onContextMenu:w,onTouchStart:e=>{if(h||!n)return;const s=setTimeout(()=>{const s=e.touches[0],t=b.current.getBoundingClientRect();v({x:s.clientX,y:s.clientY,url:(0,u.Mn)(n),position:{top:s.clientY-t.top,left:s.clientX-t.left}})},500);f(s)},onTouchEnd:()=>{N&&(clearTimeout(N),f(null))},onKeyDown:e=>{h||("Enter"===e.key||" "===e.key?(e.preventDefault(),y(e)):("ContextMenu"===e.key||"F10"===e.key&&e.shiftKey)&&(e.preventDefault(),w({preventDefault:()=>{},clientX:b.current.getBoundingClientRect().left+50,clientY:b.current.getBoundingClientRect().top+50})))},tabIndex:h?-1:0,role:"button","aria-label":l,"aria-disabled":h,style:{position:"relative"}},g),{},{children:[s,j&&(0,m.jsx)("div",{className:"action-card-context-menu",style:{position:"fixed",top:j.y,left:j.x,zIndex:1e4},children:(0,m.jsxs)("div",{className:"context-menu-content",children:[(0,m.jsxs)("div",{className:"context-menu-url",children:[(0,m.jsx)("span",{className:"url-label",children:"Destination:"}),(0,m.jsx)("span",{className:"url-text",title:j.url,children:j.url})]}),(0,m.jsxs)("div",{className:"context-menu-actions",children:[(0,m.jsxs)("button",{className:"context-menu-item",onClick:y,children:[(0,m.jsx)("span",{className:"menu-icon",children:"\u2197\ufe0f"}),"Open"]}),(0,m.jsxs)("button",{className:"context-menu-item",onClick:()=>{null!==j&&void 0!==j&&j.url&&(window.open(j.url,"_blank","noopener,noreferrer"),v(null))},children:[(0,m.jsx)("span",{className:"menu-icon",children:"\ud83d\uddd7"}),"Open in New Tab"]}),(0,m.jsxs)("button",{className:"context-menu-item",onClick:()=>{null!==j&&void 0!==j&&j.url&&navigator.clipboard.writeText(j.url).then(()=>{v(null)}).catch(()=>{const e=document.createElement("textarea");e.value=j.url,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),v(null)})},children:[(0,m.jsx)("span",{className:"menu-icon",children:"\ud83d\udccb"}),"Copy URL"]})]})]})})]}))},g=()=>{var e;const s=(0,i.zy)(),n=(0,i.Zp)(),{params:d,profile:u}=(0,c.HX)(),p=null===d||void 0===d?void 0:d.user,g=u||(null===(e=s.state)||void 0===e?void 0:e.profile),x=(0,a.useRef)();x.current=g;const{action:j}=s.state||{},[v,N]=(0,a.useState)([]),[f,b]=(0,a.useState)(null),[y,w]=(0,a.useState)(!0),[S,k]=(0,a.useState)(null),[A,_]=(0,a.useState)(!1),[C,R]=(0,a.useState)(null),[T,E]=(0,a.useState)(new Set),[M,z]=(0,a.useState)(!1),[H,D]=(0,a.useState)(null),[O,G]=(0,a.useState)(null),L=j||O;(0,a.useEffect)(()=>{if(p||g)return!p||j||O?void(p&&!g&&void 0===u||(!p||g||null!==u?p&&g&&g.login!==p?n("/"):!g||p||n("/dak-selection/".concat(g.login),{state:{profile:g,action:L},replace:!0}):n("/"))):"WorldHealthOrganization"===p||"WHO"===p||p.toLowerCase().includes("health")?void G("edit"):void n("/dak-action/".concat(p),{replace:!0});n("/")},[p,g,j,O,u,n,L]);const W=()=>{switch(L){case"edit":return{title:"Select DAK to Edit",description:"Choose an existing DAK repository that you have permission to modify.",buttonText:"Continue to Edit Components",nextRoute:"/dashboard"};case"fork":return{title:"Select DAK to Fork",description:"Choose the source DAK repository that you want to fork.",buttonText:"Continue to Organization Selection",nextRoute:"/organization-selection"};case"create":return{title:"Select Template DAK",description:"Choose a template repository to use as the base for your new DAK.",buttonText:"Continue to Organization Selection",nextRoute:"/organization-selection",showTemplate:!0};default:return{title:"Select DAK Repository",description:"Choose a DAK repository to work with.",buttonText:"Continue",nextRoute:"/dashboard"}}},K=(0,a.useCallback)(()=>{const e=x.current;if(!e||!e.login)return[];return[{id:1,name:"maternal-health-dak",full_name:"".concat(e.login,"/maternal-health-dak"),description:"WHO SMART Guidelines for Maternal Health - Digital Adaptation Kit",html_url:"https://github.com/".concat(e.login,"/maternal-health-dak"),topics:["who","smart-guidelines","maternal-health","dak"],language:"FML",stargazers_count:12,forks_count:3,updated_at:"2024-01-15T10:30:00Z",smart_guidelines_compatible:!0},{id:2,name:"immunization-dak",full_name:"".concat(e.login,"/immunization-dak"),description:"Digital Adaptation Kit for Immunization Guidelines",html_url:"https://github.com/".concat(e.login,"/immunization-dak"),topics:["who","smart-guidelines","immunization","vaccines"],language:"FML",stargazers_count:8,forks_count:2,updated_at:"2024-01-10T14:20:00Z",smart_guidelines_compatible:!0},{id:3,name:"anc-dak",full_name:"".concat(e.login,"/anc-dak"),description:"Antenatal Care Digital Adaptation Kit based on WHO guidelines",html_url:"https://github.com/".concat(e.login,"/anc-dak"),topics:["who","anc","antenatal-care","smart-guidelines"],language:"FML",stargazers_count:15,forks_count:5,updated_at:"2024-01-12T09:15:00Z",smart_guidelines_compatible:!0},{id:4,name:"regular-health-app",full_name:"".concat(e.login,"/regular-health-app"),description:"A regular health application without SMART Guidelines",html_url:"https://github.com/".concat(e.login,"/regular-health-app"),topics:["health","app","javascript"],language:"JavaScript",stargazers_count:5,forks_count:1,updated_at:"2024-01-08T16:45:00Z",smart_guidelines_compatible:!1},{id:5,name:"medical-database",full_name:"".concat(e.login,"/medical-database"),description:"Medical database with FHIR but not SMART Guidelines",html_url:"https://github.com/".concat(e.login,"/medical-database"),topics:["fhir","database","medical"],language:"SQL",stargazers_count:7,forks_count:2,updated_at:"2024-01-05T11:20:00Z",smart_guidelines_compatible:!1}].filter(e=>e.smart_guidelines_compatible)},[]),I=(0,a.useCallback)(async()=>{_(!0),N([]);const e=K(),s=e=>new Promise(s=>setTimeout(s,e));try{for(let n=0;n<e.length;n++){const t=e[n];R({current:n+1,total:e.length,currentRepo:t.name,progress:Math.round((n+1)/e.length*100),completed:!1,started:!0}),E(e=>new Set([...e,t.name])),await s(1e3+1e3*Math.random()),N(e=>[...e,t].sort((e,s)=>e.name.localeCompare(s.name))),R({current:n+1,total:e.length,currentRepo:t.name,progress:Math.round((n+1)/e.length*100),completed:!0}),E(e=>{const s=new Set(e);return s.delete(t.name),s}),await s(300)}console.log("\ud83c\udf89 Demo scanning completed, stopping scanning state"),setTimeout(()=>{_(!1),R(null),E(new Set)},500)}catch(S){console.error("Error in simulated scanning:",S),_(!1),R(null),E(new Set)}},[K]),P=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w(!0),k(null),_(!1),R(null),E(new Set),z(!1),D(null);try{let i=[],c=null;if("create"===L)i=l.eR.map((e,s)=>({id:-(s+1),name:e.repo,full_name:"".concat(e.owner,"/").concat(e.repo),description:e.description,html_url:e.repository,clone_url:"".concat(e.repository,".git"),topics:e.tags.map(e=>e.toLowerCase().replace(/\s+/g,"-")),language:"FML",stargazers_count:15,forks_count:8,updated_at:(new Date).toISOString(),smart_guidelines_compatible:!0,is_template:!0,template_config:e,owner:{login:e.owner,avatar_url:"WorldHealthOrganization"===e.owner?"https://avatars.githubusercontent.com/u/9166906?s=200&v=4":"https://github.com/favicon.ico"}})),i.sort((e,s)=>e.name.localeCompare(s.name)),N(i);else{if(r.A.isAuth()&&!e)try{c=o.A.getCachedRepositories(g.login,"org"===g.type?"org":"user")}catch(s){console.warn("Error accessing repository cache:",s)}if(c&&!e)console.log("Using cached repository data",o.A.getCacheInfo(g.login,"org"===g.type?"org":"user")),i=c.repositories,z(!0),i.sort((e,s)=>e.name.localeCompare(s.name)),N(i);else if(r.A.isAuth()){console.log(e?"\ud83d\udd04 Force rescanning repositories...":"\ud83d\udd0d No cached data, initiating scan..."),_(!0),w(!1),console.log("\ud83d\udcca Starting enhanced scanning display for authenticated user");const s=6e4,a=new Promise((e,n)=>{setTimeout(()=>n(new Error("Scanning timeout - operation took longer than 60 seconds")),s)}),l=r.A.getSmartGuidelinesRepositoriesProgressive(g.login,"org"===g.type?"org":"user",e=>{N(s=>{if(!s.some(s=>s.id===e.id)){return[...s,e].sort((e,s)=>e.name.localeCompare(s.name))}return s})},e=>{console.log("\ud83d\udcca Real scanning progress:",e),R(e),e.scanningErrors&&D(e.scanningErrors),e.started&&!e.completed?(console.log("\ud83d\udd0d Started scanning:",e.currentRepo),E(s=>new Set([...s,e.currentRepo])),R((0,t.A)((0,t.A)({},e),{},{started:!0,completed:!1}))):e.completed?(console.log("\u2705 Completed scanning:",e.currentRepo),R((0,t.A)((0,t.A)({},e),{},{completed:!0})),setTimeout(()=>{E(s=>{const n=new Set(s);return n.delete(e.currentRepo),n})},200),e.current===e.total&&(console.log("\ud83c\udf89 All repositories scanned, stopping scanning state"),setTimeout(()=>{_(!1),R(null),E(new Set)},500))):0===e.total&&e.completed&&(console.log("\ud83c\udf89 No repositories to scan, stopping scanning state"),setTimeout(()=>{_(!1),R(null),E(new Set)},500))},e=>{console.warn("Individual repository scan error:",e)});try{const e=await Promise.race([l,a]);e&&"object"===typeof e&&e.repositories?(i=e.repositories,e.scanningErrors&&D(e.scanningErrors)):i=Array.isArray(e)?e:[]}catch(n){throw console.error("\u23f0 Scanning timed out:",n.message),_(!1),R(null),E(new Set),new Error("Repository scanning timed out. Please try again or use cached data if available.")}o.A.setCachedRepositories(g.login,"org"===g.type?"org":"user",i);const c=i.sort((e,s)=>e.name.localeCompare(s.name));N(c)}else{console.log("\ud83d\udd0d Not authenticated, using public GitHub API...");try{i=await r.A.getSmartGuidelinesRepositories(g.login,"org"===g.type?"org":"user"),i.sort((e,s)=>e.name.localeCompare(s.name)),N(i)}catch(a){console.warn("Public API failed, falling back to demo data:",a),await I(),i=K(),i.sort((e,s)=>e.name.localeCompare(s.name)),N(i)}}}}catch(S){console.error("Error fetching repositories:",S),k("Failed to fetch repositories. Please check your connection and try again.");const s=K();s.sort((e,s)=>e.name.localeCompare(s.name)),N(s),_(!1),R(null),E(new Set)}finally{w(!1),r.A.isAuth()||"create"!==L||(_(!1),R(null),E(new Set))}},[g,L]);(0,a.useEffect)(()=>{g&&L&&p&&g.login===p&&P(!1,!1)},[g,L,p,P]);const F=e=>{const s=W();if("edit"===L){const n=(e=>{var s,n;if(!e)return null;const t=(null===(s=e.owner)||void 0===s?void 0:s.login)||(null===(n=e.full_name)||void 0===n?void 0:n.split("/")[0]),a=e.name;return t&&a?{user:t,repo:a}:(console.error("Unable to extract user/repo from repository object:",e),null)})(e);return n?"/dashboard/".concat(n.user,"/").concat(n.repo):s.nextRoute}return s.nextRoute},U=()=>{P(!0,!1)},X=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(!g||!L||!p||g.login!==p)return(0,m.jsx)("div",{className:"dak-selection",children:(0,m.jsx)("div",{style:{color:"white",textAlign:"center",padding:"2rem"},children:"Redirecting..."})});const Z=W();return(0,m.jsx)("div",{className:"dak-selection",children:(0,m.jsx)("div",{className:"selection-content",children:(0,m.jsxs)("div",{className:"selection-main",children:[(0,m.jsx)("div",{className:"selection-header",children:(0,m.jsxs)("div",{className:"selection-title",children:[(0,m.jsx)("h1",{children:Z.title}),(0,m.jsx)("p",{className:"selection-subtitle",children:Z.description})]})}),(0,m.jsxs)("div",{className:"selection-intro",children:["create"===L&&(0,m.jsxs)("div",{className:"template-notice",children:[(0,m.jsx)("span",{className:"notice-icon",children:"\u2139\ufe0f"}),(0,m.jsx)("span",{children:"You'll create a new repository based on the WHO SMART Guidelines template."})]}),"create"!==L&&r.A.isAuth()&&(0,m.jsx)("div",{className:"cache-controls",children:M?(0,m.jsxs)("div",{className:"cache-info",children:[(0,m.jsx)("span",{className:"cache-icon",children:"\ud83d\udcbe"}),(0,m.jsx)("span",{children:"Using cached data. "}),(0,m.jsx)("button",{onClick:U,className:"rescan-link",disabled:A,children:A?"Scanning...":"Refresh"})]}):(0,m.jsx)("div",{className:"scan-controls",children:!A&&!y&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{onClick:U,className:"rescan-btn",disabled:A,children:"\ud83d\udd04 Rescan Repositories"}),o.A.getCachedRepositories(g.login,"org"===g.type?"org":"user")&&(0,m.jsx)("button",{onClick:()=>{P(!1,!1)},className:"cache-btn",disabled:A,children:"\ud83d\udcbe Use Cached Data"})]})})}),"create"!==L&&!r.A.isAuth()&&!A&&!y&&(0,m.jsx)("div",{className:"demo-controls",children:(0,m.jsxs)("div",{className:"demo-info",children:[(0,m.jsx)("span",{className:"demo-icon",children:"\ud83c\udfad"}),(0,m.jsx)("span",{children:"Not authenticated. "}),(0,m.jsx)("button",{onClick:async()=>{await I()},className:"demo-scan-btn",disabled:A,children:"\u2728 Demo Enhanced Scanning Display"})]})})]}),y?(0,m.jsxs)("div",{className:"loading",children:[(0,m.jsx)("div",{className:"spinner"}),(0,m.jsx)("p",{children:"Loading repositories..."})]}):A?(0,m.jsxs)("div",{className:"scanning-status",children:[(0,m.jsxs)("div",{className:"scanning-header",children:[(0,m.jsx)("div",{className:"spinner"}),(0,m.jsx)("h3",{children:"Scanning repositories for SMART Guidelines compatibility..."})]}),C&&(0,m.jsxs)("div",{className:"progress-container",children:[(0,m.jsx)("div",{className:"progress-bar",children:(0,m.jsx)("div",{className:"progress-fill",style:{width:"".concat(C.progress,"%")}})}),(0,m.jsx)("div",{className:"progress-info",children:(0,m.jsx)("div",{className:"unified-scanning-status",children:(0,m.jsxs)("div",{className:"scanning-header-unified",children:[(0,m.jsxs)("div",{className:"progress-stats",children:[(0,m.jsxs)("span",{className:"progress-text",children:[C.current,"/",C.total," repositories"]}),(0,m.jsxs)("span",{className:"progress-percentage",children:[C.progress,"%"]})]}),(0,m.jsxs)("div",{className:"currently-testing-unified",children:[(0,m.jsx)("span",{className:"scanning-icon",children:"\ud83d\udd0d"}),(0,m.jsx)("span",{children:"Currently Testing:"}),(0,m.jsx)("div",{className:"currently-scanning-repos",children:T.size>0?Array.from(T).map(e=>(0,m.jsxs)("div",{className:"scanning-repo-item",children:[(0,m.jsx)("span",{className:"repo-status-indicator",children:"\u26a1"}),(0,m.jsx)("span",{className:"scanning-repo-name",children:e})]},e)):(0,m.jsxs)("div",{className:"scanning-repo-item",children:[(0,m.jsx)("span",{className:"repo-status-indicator",children:"\u23f3"}),(0,m.jsx)("span",{className:"scanning-repo-name",children:"Preparing scan..."})]})})]})]})})}),(0,m.jsxs)("div",{className:"scanning-note",children:[(0,m.jsx)("span",{className:"note-icon",children:"\u26a1"}),(0,m.jsx)("span",{children:"Scanning up to 5 repositories concurrently to improve speed"})]})]}),(0,m.jsxs)("div",{className:"scanning-results",children:[(0,m.jsx)("p",{children:"Found repositories will appear below as they are discovered:"}),(0,m.jsx)("div",{className:"repo-grid",children:v.map(e=>{var s;return(0,m.jsxs)(h,{href:F(e),navigationState:{profile:g,repository:e,action:L},className:"repo-card ".concat((null===f||void 0===f?void 0:f.id)===e.id?"selected":""," scanning-found"),ariaLabel:"Select ".concat(e.name," repository: ").concat(e.description||"No description available"),onNavigate:(s,t,a)=>{b(e),n(t,"edit"===L?{state:a}:{state:{profile:g,sourceRepository:e,action:L}})},children:[(0,m.jsxs)("div",{className:"repo-header-info",children:[(0,m.jsxs)("h3",{children:[e.name," ",(0,m.jsx)("span",{className:"new-badge",children:"\u2728 Found"})]}),(0,m.jsxs)("div",{className:"repo-meta",children:[e.is_template&&(0,m.jsx)("span",{className:"template-badge",children:(null===(s=e.template_config)||void 0===s?void 0:s.name)||"Template"}),e.private&&(0,m.jsx)("span",{className:"private-badge",children:"Private"}),e.language&&(0,m.jsx)("span",{className:"language-badge",children:e.language}),e.smart_guidelines_compatible&&(0,m.jsx)("span",{className:"compatible-badge",children:"SMART Guidelines"})]})]}),(0,m.jsx)("p",{className:"repo-description",children:e.description||"No description available"}),(0,m.jsxs)("div",{className:"repo-topics",children:[(e.topics||[]).slice(0,3).map(e=>(0,m.jsx)("span",{className:"topic-tag",children:e},e)),(e.topics||[]).length>3&&(0,m.jsxs)("span",{className:"topic-more",children:["+",(e.topics||[]).length-3," more"]})]}),(0,m.jsxs)("div",{className:"repo-stats",children:[(0,m.jsxs)("div",{className:"stat",children:[(0,m.jsx)("span",{className:"stat-icon",children:"\u2b50"}),(0,m.jsx)("span",{children:e.stargazers_count||0})]}),(0,m.jsxs)("div",{className:"stat",children:[(0,m.jsx)("span",{className:"stat-icon",children:"\ud83c\udf74"}),(0,m.jsx)("span",{children:e.forks_count||0})]}),(0,m.jsxs)("div",{className:"stat",children:[(0,m.jsx)("span",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,m.jsxs)("span",{children:["Updated ",X(e.updated_at)]})]})]}),(null===f||void 0===f?void 0:f.id)===e.id&&(0,m.jsx)("div",{className:"selection-indicator",children:(0,m.jsx)("span",{children:"\u2713 Selected"})})]},e.id)})})]})]}):S?(0,m.jsxs)("div",{className:"error-state",children:[(0,m.jsx)("h3",{children:"Error loading repositories"}),(0,m.jsx)("p",{children:S}),(0,m.jsx)("button",{onClick:P,className:"retry-btn",children:"Try Again"})]}):0===v.length?(0,m.jsxs)("div",{className:"empty-state",children:[(0,m.jsx)("h3",{children:"No repositories found"}),(0,m.jsx)("p",{children:"create"===L?"Unable to load the WHO template repository.":"No DAK repositories found with SMART Guidelines compatibility."}),"WorldHealthOrganization"===p&&!r.A.isAuth()&&(0,m.jsxs)("div",{className:"who-auth-notice",children:[(0,m.jsx)("h4",{children:"\ud83d\udd10 Authentication Required for WHO Organization"}),(0,m.jsx)("p",{children:"To access WHO SMART Guidelines repositories, you need to authenticate with GitHub. The WHO organization has many repositories, and unauthenticated access is limited by GitHub's rate limits."}),(0,m.jsxs)("div",{className:"auth-instructions",children:[(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"Expected repositories include:"})}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:"smart-immunizations - WHO SMART Guidelines for Immunizations"}),(0,m.jsx)("li",{children:"smart-trust - WHO SMART Guidelines for Trust and Verification"}),(0,m.jsx)("li",{children:"smart-base - WHO SMART Guidelines Base Implementation Guide"}),(0,m.jsx)("li",{children:"smart-anc - WHO SMART Guidelines for Antenatal Care"})]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"To access these repositories:"})," Please go back to the home page and authenticate with your GitHub account."]})]})]}),H&&(0,m.jsxs)("div",{className:"scanning-errors-summary",children:[(0,m.jsx)("h4",{children:"\u26a0\ufe0f Scanning Issues Detected"}),(0,m.jsxs)("p",{children:[H.totalErrors," out of ",H.totalScanned," repositories could not be checked:"]}),(0,m.jsxs)("div",{className:"error-types",children:[H.rateLimitedCount>0&&(0,m.jsxs)("div",{className:"error-type",children:[(0,m.jsx)("span",{className:"error-icon",children:"\ud83d\udeab"}),(0,m.jsxs)("span",{children:["Rate Limited: ",H.rateLimitedCount," repositories"]})]}),H.networkErrorCount>0&&(0,m.jsxs)("div",{className:"error-type",children:[(0,m.jsx)("span",{className:"error-icon",children:"\ud83c\udf10"}),(0,m.jsxs)("span",{children:["Network Issues: ",H.networkErrorCount," repositories"]})]})]}),(0,m.jsx)("div",{className:"retry-suggestion",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"\ud83d\udca1 Suggestion:"})," These issues are usually temporary.",(0,m.jsx)("button",{className:"retry-link",onClick:()=>P(!0,!1),children:"Try scanning again"})," in a few minutes to find more repositories."]})})]})]}):(0,m.jsxs)(m.Fragment,{children:[H&&(0,m.jsx)("div",{className:"scanning-errors",children:(0,m.jsxs)("div",{className:"error-summary",children:[(0,m.jsx)("h3",{children:"\u26a0\ufe0f Some Repositories Could Not Be Checked"}),(0,m.jsxs)("p",{children:[H.totalErrors," out of ",H.totalScanned," repositories could not be checked for SMART Guidelines compatibility:"]}),(0,m.jsxs)("div",{className:"error-breakdown",children:[H.rateLimitedCount>0&&(0,m.jsxs)("div",{className:"error-item rate-limit",children:[(0,m.jsx)("span",{className:"error-icon",children:"\ud83d\udeab"}),(0,m.jsxs)("div",{className:"error-details",children:[(0,m.jsx)("strong",{children:"Rate Limited:"})," ",H.rateLimitedCount," repositories",(0,m.jsxs)("p",{className:"error-help",children:["GitHub API rate limit exceeded. Some repositories couldn't be checked.",(0,m.jsx)("button",{className:"retry-link",onClick:()=>P(!0,!1),children:"Try again in a few minutes"})]})]})]}),H.networkErrorCount>0&&(0,m.jsxs)("div",{className:"error-item network",children:[(0,m.jsx)("span",{className:"error-icon",children:"\ud83c\udf10"}),(0,m.jsxs)("div",{className:"error-details",children:[(0,m.jsx)("strong",{children:"Network Issues:"})," ",H.networkErrorCount," repositories",(0,m.jsxs)("p",{className:"error-help",children:["Network connectivity problems prevented checking some repositories.",(0,m.jsx)("button",{className:"retry-link",onClick:()=>P(!0,!1),children:"Retry scan"})]})]})]}),H.hasRetryableErrors&&(0,m.jsxs)("div",{className:"retry-suggestion",children:[(0,m.jsx)("span",{className:"suggestion-icon",children:"\ud83d\udca1"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Suggestion:"})," These issues are usually temporary. Retrying the scan in a few minutes may find more repositories."]})]})]})]})}),(0,m.jsx)("div",{className:"repo-grid",children:v.map(e=>{var s;return(0,m.jsxs)(h,{href:F(e),navigationState:{profile:g,repository:e,action:L},className:"repo-card ".concat((null===f||void 0===f?void 0:f.id)===e.id?"selected":""),ariaLabel:"Select ".concat(e.name," repository: ").concat(e.description||"No description available"),onNavigate:(s,t,a)=>{b(e),n(t,"edit"===L?{state:a}:{state:{profile:g,sourceRepository:e,action:L}})},children:[(0,m.jsxs)("div",{className:"repo-header-info",children:[(0,m.jsx)("h3",{children:e.name}),(0,m.jsxs)("div",{className:"repo-meta",children:[e.is_template&&(0,m.jsx)("span",{className:"template-badge",children:(null===(s=e.template_config)||void 0===s?void 0:s.name)||"Template"}),e.private&&(0,m.jsx)("span",{className:"private-badge",children:"Private"}),e.language&&(0,m.jsx)("span",{className:"language-badge",children:e.language}),e.smart_guidelines_compatible&&(0,m.jsx)("span",{className:"compatible-badge",children:"SMART Guidelines"})]})]}),(0,m.jsx)("p",{className:"repo-description",children:e.description||"No description available"}),(0,m.jsxs)("div",{className:"repo-topics",children:[(e.topics||[]).slice(0,3).map(e=>(0,m.jsx)("span",{className:"topic-tag",children:e},e)),(e.topics||[]).length>3&&(0,m.jsxs)("span",{className:"topic-more",children:["+",(e.topics||[]).length-3," more"]})]}),(0,m.jsxs)("div",{className:"repo-stats",children:[(0,m.jsxs)("div",{className:"stat",children:[(0,m.jsx)("span",{className:"stat-icon",children:"\u2b50"}),(0,m.jsx)("span",{children:e.stargazers_count||0})]}),(0,m.jsxs)("div",{className:"stat",children:[(0,m.jsx)("span",{className:"stat-icon",children:"\ud83c\udf74"}),(0,m.jsx)("span",{children:e.forks_count||0})]}),(0,m.jsxs)("div",{className:"stat",children:[(0,m.jsx)("span",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,m.jsxs)("span",{children:["Updated ",X(e.updated_at)]})]})]}),(null===f||void 0===f?void 0:f.id)===e.id&&(0,m.jsx)("div",{className:"selection-indicator",children:(0,m.jsx)("span",{children:"\u2713 Selected"})})]},e.id)})}),(0,m.jsx)("div",{className:"selection-footer",children:(0,m.jsxs)("div",{className:"direct-selection-note",children:[(0,m.jsx)("span",{className:"note-icon",children:"\ud83d\udca1"}),(0,m.jsxs)("span",{children:["Click on any repository above to ","edit"===L?"start editing its components":"continue with "+("fork"===L?"forking":"creation"),". Right-click or long-press to see the destination URL."]})]})})]})]})})})},x=()=>(0,m.jsx)(c.Mx,{pageName:"dak-selection",showHeader:!0,children:(0,m.jsx)(g,{})})}}]);