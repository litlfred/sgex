"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[4368],{13848:()=>{},67147:(e,n,i)=>{i.d(n,{A:()=>l});var t=i(9950),a=i(85001),s=i(90584),o=i(29946),c=(i(13848),i(44414));const r=async(e,n)=>{try{alert("EPUB generation will be implemented in the next phase. Current focus is on HTML publication views.")}catch(i){console.error("Error generating EPUB:",i),alert("Failed to generate EPUB publication")}},l=e=>{var n,i,l,d;let{componentType:m,renderFunction:p,title:u,printMode:h=!1}=e;const v=(0,a.zy)(),f=(0,s.oc)(),{branch:g}=(0,a.g)();console.log("Publication view branch:",g);const x=(null===f||void 0===f?void 0:f.profile)||(null===(n=v.state)||void 0===n?void 0:n.profile),j=(null===f||void 0===f?void 0:f.repository)||(null===(i=v.state)||void 0===i?void 0:i.repository),y=(null===f||void 0===f?void 0:f.branch)||g||(null===(l=v.state)||void 0===l?void 0:l.selectedBranch),[b,C]=(0,t.useState)(!0),[w,S]=(0,t.useState)(null),[N,D]=(0,t.useState)(null),[F,k]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{var e,n;if(C(!0),S(null),!x||!j)throw new Error("Missing required profile or repository information");const i=(null===(e=j.owner)||void 0===e?void 0:e.login)||(null===(n=j.full_name)||void 0===n?void 0:n.split("/")[0]),t=j.name,[a,s]=await Promise.allSettled([o.A.getRepository(i,t),o.A.getFileContent(i,t,"sushi-config.yaml",y)]);k({repository:"fulfilled"===a.status?a.value:j,owner:i,repoName:t,branch:y,sushiConfig:"fulfilled"===s.status?s.value:null,generatedAt:(new Date).toISOString(),component:m});let c=null;switch(m){case"business-processes":c=await M(i,t,y);break;case"decision-support":c=await A(i,t,y);break;case"core-data-dictionary":c=await P(i,t,y);break;case"testing":c=await T(i,t,y);break;case"actors":c=await q(i,t,y);break;case"indicators":c=await E(i,t,y);break;case"questionnaires":c=await I(i,t,y);break;case"terminology":c=await R(i,t,y);break;default:c={message:"Component type not yet implemented"}}D(c),C(!1)}catch(i){console.error("Error loading publication data:",i),S(i.message),C(!1)}})()},[x,j,y,m]);const M=async(e,n,i)=>{try{const a=(await o.A.getDirectoryContents(e,n,"input",i)).filter(e=>e.name.endsWith(".bpmn")).slice(0,5),s=[];for(const c of a)try{const t=await o.A.getFileContent(e,n,c.path,i);s.push({name:c.name,path:c.path,content:t})}catch(t){console.warn("Failed to load BPMN file ".concat(c.path,":"),t)}return{bpmnFiles:s}}catch(t){return console.warn("Error loading business process data:",t),{bpmnFiles:[]}}},A=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input",i);return{dmnFiles:t.filter(e=>e.name.endsWith(".dmn")).slice(0,5).map(e=>({name:e.name,path:e.path}))}}catch(t){return{dmnFiles:[]}}},P=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input/profiles",i);return{profiles:t.filter(e=>e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{profiles:[]}}},T=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input/tests",i);return{testFiles:t.filter(e=>e.name.endsWith(".feature")||e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{testFiles:[]}}},q=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input/actors",i);return{actorFiles:t.filter(e=>e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{actorFiles:[]}}},E=async(e,n,i)=>{try{const a=["input/indicators","input/measures","input"];let s=[];for(const c of a)try{const t=await o.A.getDirectoryContents(e,n,c,i);if(s=t.filter(e=>e.name.includes("indicator")||e.name.includes("measure")||e.name.includes("metric")).map(e=>({name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Performance indicator derived from ".concat(e.name),calculation:"To be defined based on implementation requirements",file:e.path,frequency:"Monthly"})),s.length>0)break}catch(t){continue}return 0===s.length&&(s=[{name:"Coverage Indicator",description:"Percentage of target population receiving interventions according to protocol",calculation:"(Number of eligible individuals receiving intervention / Total eligible population) \xd7 100",dataElements:["Target population count","Intervention recipients count"],frequency:"Monthly"},{name:"Quality Indicator",description:"Adherence to clinical protocols and evidence-based guidelines",calculation:"(Number of cases following protocol / Total cases) \xd7 100",dataElements:["Total clinical cases","Protocol-compliant cases"],frequency:"Quarterly"}]),{indicators:s}}catch(t){return{indicators:[{name:"Sample Coverage Indicator",description:"Percentage of target population receiving interventions",calculation:"Numerator / Denominator \xd7 100",frequency:"Monthly"}]}}},I=async(e,n,i)=>{try{const a=["input/questionnaires","input/forms","input"];let s=[];for(const c of a)try{const t=await o.A.getDirectoryContents(e,n,c,i);if(s=t.filter(e=>e.name.includes("questionnaire")||e.name.includes("form")||e.name.endsWith(".json")&&(e.name.includes("registration")||e.name.includes("assessment")||e.name.includes("survey"))).map(e=>({name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Data collection form for ".concat(e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").toLowerCase()),file:e.path,questionCount:Math.floor(20*Math.random())+5,context:"Clinical data collection",sections:["Demographics","Clinical Assessment","Treatment History"]})),s.length>0)break}catch(t){continue}return 0===s.length&&(s=[{name:"Patient Registration Form",description:"Initial patient enrollment and demographic data collection",questionCount:15,file:"input/questionnaires/registration.json",context:"Patient onboarding",sections:["Personal Information","Contact Details","Medical History"],validationRules:["Required fields validation","Date format validation","Phone number format"]},{name:"Clinical Assessment Form",description:"Standardized clinical examination and assessment questionnaire",questionCount:25,file:"input/questionnaires/assessment.json",context:"Clinical examination",sections:["Vital Signs","Physical Examination","Clinical Findings"],validationRules:["Range validation for vital signs","Required clinical findings"]}]),{questionnaires:s}}catch(t){return{questionnaires:[{name:"Sample Registration Form",description:"Patient registration questionnaire",questionCount:12,file:"input/questionnaires/sample.json"}]}}},R=async(e,n,i)=>{try{const a=["input/vocabulary","input/terminology","input/valuesets","input"];let s={valueSets:[],codeSystems:[],conceptMaps:[]};for(const c of a)try{const t=await o.A.getDirectoryContents(e,n,c,i),a=t.filter(e=>e.name.includes("valueset")||e.name.includes("vs-")||e.name.endsWith(".json")&&e.name.includes("value"));s.valueSets=a.map(e=>({id:e.name.replace(/\.[^/.]+$/,""),name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Value set defined in ".concat(e.name),conceptCount:Math.floor(50*Math.random())+5,url:"http://example.org/ValueSet/".concat(e.name.replace(/\.[^/.]+$/,"")),status:"active",file:e.path}));const r=t.filter(e=>e.name.includes("codesystem")||e.name.includes("cs-")||e.name.endsWith(".json")&&e.name.includes("code"));if(s.codeSystems=r.map(e=>({id:e.name.replace(/\.[^/.]+$/,""),name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Code system defined in ".concat(e.name),conceptCount:Math.floor(30*Math.random())+10,url:"http://example.org/CodeSystem/".concat(e.name.replace(/\.[^/.]+$/,"")),caseSensitive:!0,file:e.path})),s.valueSets.length>0||s.codeSystems.length>0)break}catch(t){continue}return 0===s.valueSets.length&&0===s.codeSystems.length&&(s={valueSets:[{id:"clinical-conditions",name:"Clinical Conditions",description:"Value set for clinical conditions and diagnoses",conceptCount:125,url:"http://example.org/ValueSet/clinical-conditions",status:"active",purpose:"Define valid codes for clinical condition documentation",concepts:[{code:"386661006",display:"Fever",system:"http://snomed.info/sct"},{code:"25064002",display:"Headache",system:"http://snomed.info/sct"},{code:"62315008",display:"Diarrhea",system:"http://snomed.info/sct"}]},{id:"medication-codes",name:"Medication Codes",description:"Standardized medication codes for prescription and dispensing",conceptCount:85,url:"http://example.org/ValueSet/medication-codes",status:"active",purpose:"Enable consistent medication coding across systems"}],codeSystems:[{id:"local-codes",name:"Local Clinical Codes",description:"Institution-specific codes for local clinical concepts",conceptCount:45,url:"http://example.org/CodeSystem/local-codes",caseSensitive:!0}],conceptMaps:[{id:"icd-to-snomed",name:"ICD-11 to SNOMED CT Mapping",description:"Concept map for translating ICD-11 codes to SNOMED CT",sourceSystem:"ICD-11",targetSystem:"SNOMED CT"}]}),{terminology:s}}catch(t){return{terminology:{valueSets:[{id:"sample-valueset",name:"Sample Value Set",description:"Example value set for demonstration",conceptCount:10,url:"http://example.org/ValueSet/sample"}],codeSystems:[],conceptMaps:[]}}}};return b?(0,c.jsx)(s.Mx,{pageName:"".concat(m,"-publication"),children:(0,c.jsx)("div",{className:"publication-loading",children:(0,c.jsxs)("div",{className:"loading-content",children:[(0,c.jsx)("h3",{children:"Loading Publication..."}),(0,c.jsxs)("p",{children:["Preparing ",u," for publication view..."]})]})})}):w?(0,c.jsx)(s.Mx,{pageName:"".concat(m,"-publication"),children:(0,c.jsx)("div",{className:"publication-error",children:(0,c.jsxs)("div",{className:"error-content",children:[(0,c.jsx)("h3",{children:"Error Loading Publication"}),(0,c.jsx)("p",{children:w})]})})}):(0,c.jsx)(s.Mx,{pageName:"".concat(m,"-publication"),children:(0,c.jsxs)("div",{className:"publication-container ".concat(h?"print-mode":""),children:[(0,c.jsxs)("div",{className:"publication-header",children:[(0,c.jsxs)("div",{className:"publication-title",children:[(0,c.jsx)("h1",{children:u}),(0,c.jsx)("h2",{children:(null===F||void 0===F||null===(d=F.repository)||void 0===d?void 0:d.description)||"WHO SMART Guidelines DAK"})]}),(0,c.jsxs)("div",{className:"publication-meta",children:[(0,c.jsxs)("div",{className:"meta-item",children:[(0,c.jsx)("strong",{children:"Repository:"})," ",null===F||void 0===F?void 0:F.owner,"/",null===F||void 0===F?void 0:F.repoName]}),(0,c.jsxs)("div",{className:"meta-item",children:[(0,c.jsx)("strong",{children:"Branch:"})," ",null===F||void 0===F?void 0:F.branch]}),(0,c.jsxs)("div",{className:"meta-item",children:[(0,c.jsx)("strong",{children:"Generated:"})," ",new Date(null===F||void 0===F?void 0:F.generatedAt).toLocaleString()]})]})]}),(0,c.jsx)("div",{className:"publication-content",children:p&&p(N,F)}),(0,c.jsx)("div",{className:"publication-footer",children:(0,c.jsxs)("div",{className:"footer-content",children:[(0,c.jsx)("p",{children:"Generated by SGeX Workbench - WHO SMART Guidelines Exchange"}),(0,c.jsxs)("p",{children:["Component: ",m," | Repository: ",null===F||void 0===F?void 0:F.owner,"/",null===F||void 0===F?void 0:F.repoName," | Branch: ",null===F||void 0===F?void 0:F.branch]})]})}),!h&&(0,c.jsxs)("div",{className:"publication-controls",children:[(0,c.jsx)("button",{className:"print-button",onClick:()=>window.print(),children:"\ud83d\udda8\ufe0f Print / Save as PDF"}),(0,c.jsx)("button",{className:"epub-button",onClick:()=>r(N,F),children:"\ud83d\udcda Generate EPUB"})]})]})})}},94368:(e,n,i)=>{i.r(n),i.d(n,{default:()=>s});i(9950);var t=i(67147),a=i(44414);const s=()=>(0,a.jsx)(t.A,{componentType:"testing",renderFunction:(e,n)=>(0,a.jsx)("div",{className:"component-content",children:(0,a.jsxs)("div",{className:"component-section",children:[(0,a.jsx)("h3",{children:"Test Scenarios and Validation"}),(0,a.jsx)("p",{children:"This section contains test scenarios, feature files, and validation criteria that ensure the correct implementation and behavior of this Digital Adaptation Kit."}),null!==e&&void 0!==e&&e.testFiles&&e.testFiles.length>0?(0,a.jsxs)("div",{className:"testing-content",children:[(0,a.jsx)("h4",{children:"Test Files and Scenarios"}),(0,a.jsx)("div",{className:"file-list",children:e.testFiles.map((e,n)=>{const i=e.name.endsWith(".feature")?"\ud83d\udcdd":"\ud83e\uddea";return(0,a.jsxs)("div",{className:"file-item",children:[(0,a.jsx)("span",{className:"file-icon",children:i}),(0,a.jsx)("span",{className:"file-name",children:e.name}),(0,a.jsx)("span",{className:"file-path",children:e.path})]},n)})}),(0,a.jsxs)("div",{className:"test-scenarios-info",children:[(0,a.jsx)("h4",{children:"Testing Framework"}),(0,a.jsx)("p",{children:"The test files implement a comprehensive validation framework that covers:"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Feature Files (.feature)"})," - Behavior-driven development scenarios in Gherkin syntax"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Test Data (.json)"})," - Structured test datasets and mock clinical scenarios"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"FHIR Test Bundles"})," - Standardized test cases for FHIR resource validation"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Integration Tests"})," - End-to-end workflow and system integration scenarios"]})]})]}),(0,a.jsxs)("div",{className:"validation-criteria",children:[(0,a.jsx)("h4",{children:"Validation Criteria"}),(0,a.jsx)("p",{children:"Test scenarios validate the following aspects of the DAK implementation:"}),(0,a.jsxs)("div",{className:"validation-categories",children:[(0,a.jsxs)("div",{className:"validation-category",children:[(0,a.jsx)("h5",{children:"Clinical Logic Validation"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Decision support rule accuracy"}),(0,a.jsx)("li",{children:"Clinical workflow compliance"}),(0,a.jsx)("li",{children:"Care pathway adherence"}),(0,a.jsx)("li",{children:"Risk assessment algorithms"})]})]}),(0,a.jsxs)("div",{className:"validation-category",children:[(0,a.jsx)("h5",{children:"Data Structure Validation"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"FHIR profile conformance"}),(0,a.jsx)("li",{children:"Terminology binding verification"}),(0,a.jsx)("li",{children:"Data element completeness"}),(0,a.jsx)("li",{children:"Interoperability standards"})]})]}),(0,a.jsxs)("div",{className:"validation-category",children:[(0,a.jsx)("h5",{children:"Business Process Validation"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"BPMN workflow execution"}),(0,a.jsx)("li",{children:"Process step completion"}),(0,a.jsx)("li",{children:"Error handling scenarios"}),(0,a.jsx)("li",{children:"Integration point testing"})]})]}),(0,a.jsxs)("div",{className:"validation-category",children:[(0,a.jsx)("h5",{children:"Performance and Security"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"System performance benchmarks"}),(0,a.jsx)("li",{children:"Security compliance verification"}),(0,a.jsx)("li",{children:"Data privacy protection"}),(0,a.jsx)("li",{children:"Access control validation"})]})]})]})]}),(0,a.jsxs)("div",{className:"acceptance-criteria",children:[(0,a.jsx)("h4",{children:"Acceptance Criteria"}),(0,a.jsx)("p",{children:"Each test scenario defines specific acceptance criteria that must be met for successful DAK implementation:"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"All clinical decision rules produce expected outcomes"}),(0,a.jsx)("li",{children:"FHIR resources validate against defined profiles"}),(0,a.jsx)("li",{children:"Business processes complete without errors"}),(0,a.jsx)("li",{children:"Data quality meets defined standards"}),(0,a.jsx)("li",{children:"Integration interfaces function correctly"}),(0,a.jsx)("li",{children:"Performance metrics are within acceptable ranges"})]})]})]}):(0,a.jsx)("div",{className:"no-content",children:(0,a.jsx)("p",{children:"No test files found in this repository."})})]})}),title:"Test Scenarios and Validation",printMode:!0})}}]);