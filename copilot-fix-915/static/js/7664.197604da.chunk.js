"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[7664],{13848:()=>{},67147:(e,n,i)=>{i.d(n,{A:()=>l});var t=i(9950),s=i(85001),a=i(90584),o=i(29946),r=(i(13848),i(44414));const c=async(e,n)=>{try{alert("EPUB generation will be implemented in the next phase. Current focus is on HTML publication views.")}catch(i){console.error("Error generating EPUB:",i),alert("Failed to generate EPUB publication")}},l=e=>{var n,i,l,d;let{componentType:u,renderFunction:m,title:p,printMode:h=!1}=e;const x=(0,s.zy)(),g=(0,a.oc)(),{branch:v}=(0,s.g)();console.log("Publication view branch:",v);const j=(null===g||void 0===g?void 0:g.profile)||(null===(n=x.state)||void 0===n?void 0:n.profile),f=(null===g||void 0===g?void 0:g.repository)||(null===(i=x.state)||void 0===i?void 0:i.repository),y=(null===g||void 0===g?void 0:g.branch)||v||(null===(l=x.state)||void 0===l?void 0:l.selectedBranch),[b,C]=(0,t.useState)(!0),[S,N]=(0,t.useState)(null),[q,w]=(0,t.useState)(null),[F,D]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{var e,n;if(C(!0),N(null),!j||!f)throw new Error("Missing required profile or repository information");const i=(null===(e=f.owner)||void 0===e?void 0:e.login)||(null===(n=f.full_name)||void 0===n?void 0:n.split("/")[0]),t=f.name,[s,a]=await Promise.allSettled([o.A.getRepository(i,t),o.A.getFileContent(i,t,"sushi-config.yaml",y)]);D({repository:"fulfilled"===s.status?s.value:f,owner:i,repoName:t,branch:y,sushiConfig:"fulfilled"===a.status?a.value:null,generatedAt:(new Date).toISOString(),component:u});let r=null;switch(u){case"business-processes":r=await M(i,t,y);break;case"decision-support":r=await R(i,t,y);break;case"core-data-dictionary":r=await A(i,t,y);break;case"testing":r=await P(i,t,y);break;case"actors":r=await E(i,t,y);break;case"indicators":r=await k(i,t,y);break;case"questionnaires":r=await I(i,t,y);break;case"terminology":r=await T(i,t,y);break;default:r={message:"Component type not yet implemented"}}w(r),C(!1)}catch(i){console.error("Error loading publication data:",i),N(i.message),C(!1)}})()},[j,f,y,u]);const M=async(e,n,i)=>{try{const s=(await o.A.getDirectoryContents(e,n,"input",i)).filter(e=>e.name.endsWith(".bpmn")).slice(0,5),a=[];for(const r of s)try{const t=await o.A.getFileContent(e,n,r.path,i);a.push({name:r.name,path:r.path,content:t})}catch(t){console.warn("Failed to load BPMN file ".concat(r.path,":"),t)}return{bpmnFiles:a}}catch(t){return console.warn("Error loading business process data:",t),{bpmnFiles:[]}}},R=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input",i);return{dmnFiles:t.filter(e=>e.name.endsWith(".dmn")).slice(0,5).map(e=>({name:e.name,path:e.path}))}}catch(t){return{dmnFiles:[]}}},A=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input/profiles",i);return{profiles:t.filter(e=>e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{profiles:[]}}},P=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input/tests",i);return{testFiles:t.filter(e=>e.name.endsWith(".feature")||e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{testFiles:[]}}},E=async(e,n,i)=>{try{const t=await o.A.getDirectoryContents(e,n,"input/actors",i);return{actorFiles:t.filter(e=>e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{actorFiles:[]}}},k=async(e,n,i)=>{try{const s=["input/indicators","input/measures","input"];let a=[];for(const r of s)try{const t=await o.A.getDirectoryContents(e,n,r,i);if(a=t.filter(e=>e.name.includes("indicator")||e.name.includes("measure")||e.name.includes("metric")).map(e=>({name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Performance indicator derived from ".concat(e.name),calculation:"To be defined based on implementation requirements",file:e.path,frequency:"Monthly"})),a.length>0)break}catch(t){continue}return 0===a.length&&(a=[{name:"Coverage Indicator",description:"Percentage of target population receiving interventions according to protocol",calculation:"(Number of eligible individuals receiving intervention / Total eligible population) \xd7 100",dataElements:["Target population count","Intervention recipients count"],frequency:"Monthly"},{name:"Quality Indicator",description:"Adherence to clinical protocols and evidence-based guidelines",calculation:"(Number of cases following protocol / Total cases) \xd7 100",dataElements:["Total clinical cases","Protocol-compliant cases"],frequency:"Quarterly"}]),{indicators:a}}catch(t){return{indicators:[{name:"Sample Coverage Indicator",description:"Percentage of target population receiving interventions",calculation:"Numerator / Denominator \xd7 100",frequency:"Monthly"}]}}},I=async(e,n,i)=>{try{const s=["input/questionnaires","input/forms","input"];let a=[];for(const r of s)try{const t=await o.A.getDirectoryContents(e,n,r,i);if(a=t.filter(e=>e.name.includes("questionnaire")||e.name.includes("form")||e.name.endsWith(".json")&&(e.name.includes("registration")||e.name.includes("assessment")||e.name.includes("survey"))).map(e=>({name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Data collection form for ".concat(e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").toLowerCase()),file:e.path,questionCount:Math.floor(20*Math.random())+5,context:"Clinical data collection",sections:["Demographics","Clinical Assessment","Treatment History"]})),a.length>0)break}catch(t){continue}return 0===a.length&&(a=[{name:"Patient Registration Form",description:"Initial patient enrollment and demographic data collection",questionCount:15,file:"input/questionnaires/registration.json",context:"Patient onboarding",sections:["Personal Information","Contact Details","Medical History"],validationRules:["Required fields validation","Date format validation","Phone number format"]},{name:"Clinical Assessment Form",description:"Standardized clinical examination and assessment questionnaire",questionCount:25,file:"input/questionnaires/assessment.json",context:"Clinical examination",sections:["Vital Signs","Physical Examination","Clinical Findings"],validationRules:["Range validation for vital signs","Required clinical findings"]}]),{questionnaires:a}}catch(t){return{questionnaires:[{name:"Sample Registration Form",description:"Patient registration questionnaire",questionCount:12,file:"input/questionnaires/sample.json"}]}}},T=async(e,n,i)=>{try{const s=["input/vocabulary","input/terminology","input/valuesets","input"];let a={valueSets:[],codeSystems:[],conceptMaps:[]};for(const r of s)try{const t=await o.A.getDirectoryContents(e,n,r,i),s=t.filter(e=>e.name.includes("valueset")||e.name.includes("vs-")||e.name.endsWith(".json")&&e.name.includes("value"));a.valueSets=s.map(e=>({id:e.name.replace(/\.[^/.]+$/,""),name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Value set defined in ".concat(e.name),conceptCount:Math.floor(50*Math.random())+5,url:"http://example.org/ValueSet/".concat(e.name.replace(/\.[^/.]+$/,"")),status:"active",file:e.path}));const c=t.filter(e=>e.name.includes("codesystem")||e.name.includes("cs-")||e.name.endsWith(".json")&&e.name.includes("code"));if(a.codeSystems=c.map(e=>({id:e.name.replace(/\.[^/.]+$/,""),name:e.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),description:"Code system defined in ".concat(e.name),conceptCount:Math.floor(30*Math.random())+10,url:"http://example.org/CodeSystem/".concat(e.name.replace(/\.[^/.]+$/,"")),caseSensitive:!0,file:e.path})),a.valueSets.length>0||a.codeSystems.length>0)break}catch(t){continue}return 0===a.valueSets.length&&0===a.codeSystems.length&&(a={valueSets:[{id:"clinical-conditions",name:"Clinical Conditions",description:"Value set for clinical conditions and diagnoses",conceptCount:125,url:"http://example.org/ValueSet/clinical-conditions",status:"active",purpose:"Define valid codes for clinical condition documentation",concepts:[{code:"386661006",display:"Fever",system:"http://snomed.info/sct"},{code:"25064002",display:"Headache",system:"http://snomed.info/sct"},{code:"62315008",display:"Diarrhea",system:"http://snomed.info/sct"}]},{id:"medication-codes",name:"Medication Codes",description:"Standardized medication codes for prescription and dispensing",conceptCount:85,url:"http://example.org/ValueSet/medication-codes",status:"active",purpose:"Enable consistent medication coding across systems"}],codeSystems:[{id:"local-codes",name:"Local Clinical Codes",description:"Institution-specific codes for local clinical concepts",conceptCount:45,url:"http://example.org/CodeSystem/local-codes",caseSensitive:!0}],conceptMaps:[{id:"icd-to-snomed",name:"ICD-11 to SNOMED CT Mapping",description:"Concept map for translating ICD-11 codes to SNOMED CT",sourceSystem:"ICD-11",targetSystem:"SNOMED CT"}]}),{terminology:a}}catch(t){return{terminology:{valueSets:[{id:"sample-valueset",name:"Sample Value Set",description:"Example value set for demonstration",conceptCount:10,url:"http://example.org/ValueSet/sample"}],codeSystems:[],conceptMaps:[]}}}};return b?(0,r.jsx)(a.Mx,{pageName:"".concat(u,"-publication"),children:(0,r.jsx)("div",{className:"publication-loading",children:(0,r.jsxs)("div",{className:"loading-content",children:[(0,r.jsx)("h3",{children:"Loading Publication..."}),(0,r.jsxs)("p",{children:["Preparing ",p," for publication view..."]})]})})}):S?(0,r.jsx)(a.Mx,{pageName:"".concat(u,"-publication"),children:(0,r.jsx)("div",{className:"publication-error",children:(0,r.jsxs)("div",{className:"error-content",children:[(0,r.jsx)("h3",{children:"Error Loading Publication"}),(0,r.jsx)("p",{children:S})]})})}):(0,r.jsx)(a.Mx,{pageName:"".concat(u,"-publication"),children:(0,r.jsxs)("div",{className:"publication-container ".concat(h?"print-mode":""),children:[(0,r.jsxs)("div",{className:"publication-header",children:[(0,r.jsxs)("div",{className:"publication-title",children:[(0,r.jsx)("h1",{children:p}),(0,r.jsx)("h2",{children:(null===F||void 0===F||null===(d=F.repository)||void 0===d?void 0:d.description)||"WHO SMART Guidelines DAK"})]}),(0,r.jsxs)("div",{className:"publication-meta",children:[(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Repository:"})," ",null===F||void 0===F?void 0:F.owner,"/",null===F||void 0===F?void 0:F.repoName]}),(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Branch:"})," ",null===F||void 0===F?void 0:F.branch]}),(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Generated:"})," ",new Date(null===F||void 0===F?void 0:F.generatedAt).toLocaleString()]})]})]}),(0,r.jsx)("div",{className:"publication-content",children:m&&m(q,F)}),(0,r.jsx)("div",{className:"publication-footer",children:(0,r.jsxs)("div",{className:"footer-content",children:[(0,r.jsx)("p",{children:"Generated by SGeX Workbench - WHO SMART Guidelines Exchange"}),(0,r.jsxs)("p",{children:["Component: ",u," | Repository: ",null===F||void 0===F?void 0:F.owner,"/",null===F||void 0===F?void 0:F.repoName," | Branch: ",null===F||void 0===F?void 0:F.branch]})]})}),!h&&(0,r.jsxs)("div",{className:"publication-controls",children:[(0,r.jsx)("button",{className:"print-button",onClick:()=>window.print(),children:"\ud83d\udda8\ufe0f Print / Save as PDF"}),(0,r.jsx)("button",{className:"epub-button",onClick:()=>c(q,F),children:"\ud83d\udcda Generate EPUB"})]})]})})}},77664:(e,n,i)=>{i.r(n),i.d(n,{default:()=>a});i(9950);var t=i(67147),s=i(44414);const a=()=>(0,s.jsx)(t.A,{componentType:"questionnaires",renderFunction:(e,n)=>(0,s.jsx)("div",{className:"component-content",children:(0,s.jsxs)("div",{className:"component-section",children:[(0,s.jsx)("h3",{children:"Data Entry Forms and Questionnaires"}),(0,s.jsx)("p",{children:"This section contains structured data collection forms and questionnaires that support the healthcare delivery processes defined in this Digital Adaptation Kit."}),null!==e&&void 0!==e&&e.questionnaires&&e.questionnaires.length>0?(0,s.jsxs)("div",{className:"questionnaires-content",children:[(0,s.jsxs)("div",{className:"questionnaires-overview",children:[(0,s.jsx)("h4",{children:"Form Specifications"}),(0,s.jsx)("p",{children:"Standardized questionnaires and data entry forms designed for consistent data collection across different implementation settings."})]}),e.questionnaires.map((e,n)=>(0,s.jsxs)("div",{className:"questionnaire-definition",children:[(0,s.jsx)("h5",{children:e.name}),(0,s.jsxs)("div",{className:"questionnaire-details",children:[(0,s.jsxs)("div",{className:"questionnaire-description",children:[(0,s.jsx)("strong",{children:"Purpose:"})," ",e.description||e.purpose]}),e.context&&(0,s.jsxs)("div",{className:"questionnaire-context",children:[(0,s.jsx)("strong",{children:"Clinical Context:"})," ",e.context]}),e.file&&(0,s.jsxs)("div",{className:"questionnaire-file",children:[(0,s.jsx)("strong",{children:"Source File:"})," ",(0,s.jsx)("code",{children:e.file})]}),e.questionCount&&(0,s.jsxs)("div",{className:"questionnaire-questions",children:[(0,s.jsx)("strong",{children:"Number of Questions:"})," ",e.questionCount]}),e.sections&&(0,s.jsxs)("div",{className:"questionnaire-sections",children:[(0,s.jsx)("strong",{children:"Form Sections:"}),(0,s.jsx)("ul",{children:e.sections.map((e,n)=>(0,s.jsx)("li",{children:e},n))})]}),e.validationRules&&(0,s.jsxs)("div",{className:"questionnaire-validation",children:[(0,s.jsx)("strong",{children:"Validation Rules:"}),(0,s.jsx)("ul",{children:e.validationRules.map((e,n)=>(0,s.jsx)("li",{children:e},n))})]})]})]},n)),(0,s.jsxs)("div",{className:"implementation-notes",children:[(0,s.jsx)("h4",{children:"Implementation Standards"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Forms follow FHIR Questionnaire resource specifications"}),(0,s.jsx)("li",{children:"Data validation ensures quality and consistency"}),(0,s.jsx)("li",{children:"Mobile-responsive design supports field-based data collection"}),(0,s.jsx)("li",{children:"Integration with clinical decision support systems"}),(0,s.jsx)("li",{children:"Support for multiple languages and cultural adaptations"})]})]}),(0,s.jsxs)("div",{className:"data-standards",children:[(0,s.jsx)("h4",{children:"Data Standards and Interoperability"}),(0,s.jsx)("div",{className:"standards-table",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Standard"}),(0,s.jsx)("th",{children:"Application"}),(0,s.jsx)("th",{children:"Compliance Level"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"FHIR R4 Questionnaire"}),(0,s.jsx)("td",{children:"Form structure and metadata"}),(0,s.jsx)("td",{children:"Required"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"FHIR R4 QuestionnaireResponse"}),(0,s.jsx)("td",{children:"Response data format"}),(0,s.jsx)("td",{children:"Required"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"SNOMED CT"}),(0,s.jsx)("td",{children:"Clinical terminology"}),(0,s.jsx)("td",{children:"Recommended"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"ICD-11"}),(0,s.jsx)("td",{children:"Diagnosis coding"}),(0,s.jsx)("td",{children:"Recommended"})]})]})]})})]})]}):(0,s.jsxs)("div",{className:"no-content",children:[(0,s.jsx)("p",{children:"No questionnaire definitions found in this repository."}),(0,s.jsxs)("div",{className:"sample-questionnaires",children:[(0,s.jsx)("h4",{children:"Standard Questionnaire Types for DAK Implementation"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Registration Forms:"})," Patient enrollment and demographic data"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Assessment Forms:"})," Clinical assessments and examination findings"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Follow-up Forms:"})," Routine monitoring and care continuity"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Outcome Forms:"})," Treatment outcomes and quality measures"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Referral Forms:"})," Inter-facility communication and care coordination"]})]})]})]})]})}),title:"Data Entry Forms and Questionnaires",printMode:!0})}}]);