"use strict";(self.webpackChunksgex_workbench=self.webpackChunksgex_workbench||[]).push([[6015],{36015:(e,i,n)=>{n.r(i),n.d(i,{default:()=>a});n(9950);var t=n(84699),s=n(44414);const a=()=>(0,s.jsx)(t.A,{componentType:"decision-support",renderFunction:(e,i)=>(0,s.jsx)("div",{className:"component-content",children:(0,s.jsxs)("div",{className:"component-section",children:[(0,s.jsx)("h3",{children:"Decision Support Logic"}),(0,s.jsx)("p",{children:"This section contains DMN (Decision Model and Notation) files that define the clinical decision support logic and business rules for this Digital Adaptation Kit."}),null!==e&&void 0!==e&&e.dmnFiles&&e.dmnFiles.length>0?(0,s.jsxs)("div",{className:"decision-support-content",children:[(0,s.jsx)("h4",{children:"DMN Decision Tables"}),(0,s.jsx)("div",{className:"file-list",children:e.dmnFiles.map((e,i)=>(0,s.jsxs)("div",{className:"file-item",children:[(0,s.jsx)("span",{className:"file-icon",children:"\ud83e\udde0"}),(0,s.jsx)("span",{className:"file-name",children:e.name}),(0,s.jsx)("span",{className:"file-path",children:e.path})]},i))}),(0,s.jsxs)("div",{className:"decision-rules-info",children:[(0,s.jsx)("h4",{children:"Clinical Decision Support Rules"}),(0,s.jsx)("p",{children:"The DMN files listed above contain structured decision tables that encode clinical logic for automated decision support. These rules help healthcare providers make evidence-based decisions by providing standardized algorithms for:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Clinical assessments and screening protocols"}),(0,s.jsx)("li",{children:"Treatment recommendations and care pathways"}),(0,s.jsx)("li",{children:"Risk stratification and patient triage"}),(0,s.jsx)("li",{children:"Medication dosing and contraindication checks"}),(0,s.jsx)("li",{children:"Follow-up scheduling and monitoring intervals"})]})]})]}):(0,s.jsx)("div",{className:"no-content",children:(0,s.jsx)("p",{children:"No DMN decision support files found in this repository."})})]})}),title:"Decision Support Logic",printMode:!0})},84699:(e,i,n)=>{n.d(i,{A:()=>c});var t=n(9950),s=n(85001),a=n(90584),o=n(29946),l=n(44414);const r=async(e,i)=>{try{alert("EPUB generation will be implemented in the next phase. Current focus is on HTML publication views.")}catch(n){console.error("Error generating EPUB:",n),alert("Failed to generate EPUB publication")}},c=e=>{var i,n,c,d;let{componentType:p,renderFunction:h,title:u,printMode:m=!1}=e;const v=(0,s.zy)(),x=(0,a.oc)(),{user:j,repo:g,branch:b}=(0,s.g)(),f=(null===x||void 0===x?void 0:x.profile)||(null===(i=v.state)||void 0===i?void 0:i.profile),N=(null===x||void 0===x?void 0:x.repository)||(null===(n=v.state)||void 0===n?void 0:n.repository),y=(null===x||void 0===x?void 0:x.branch)||b||(null===(c=v.state)||void 0===c?void 0:c.selectedBranch),[w,D]=(0,t.useState)(!0),[F,k]=(0,t.useState)(null),[C,A]=(0,t.useState)(null),[M,S]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{var e,i;if(D(!0),k(null),!f||!N)throw new Error("Missing required profile or repository information");const n=(null===(e=N.owner)||void 0===e?void 0:e.login)||(null===(i=N.full_name)||void 0===i?void 0:i.split("/")[0]),t=N.name,[s,a]=await Promise.allSettled([o.A.getRepository(n,t),o.A.getFileContent(n,t,"sushi-config.yaml",y)]);S({repository:"fulfilled"===s.status?s.value:N,owner:n,repoName:t,branch:y,sushiConfig:"fulfilled"===a.status?a.value:null,generatedAt:(new Date).toISOString(),component:p});let l=null;switch(p){case"business-processes":l=await E(n,t,y);break;case"decision-support":l=await P(n,t,y);break;case"core-data-dictionary":l=await T(n,t,y);break;case"testing":l=await W(n,t,y);break;case"actors":l=await B(n,t,y);break;default:l={message:"Component type not yet implemented"}}A(l),D(!1)}catch(n){console.error("Error loading publication data:",n),k(n.message),D(!1)}})()},[f,N,y,p]);const E=async(e,i,n)=>{try{const s=(await o.A.getDirectoryContents(e,i,"input",n)).filter(e=>e.name.endsWith(".bpmn")).slice(0,5),a=[];for(const l of s)try{const t=await o.A.getFileContent(e,i,l.path,n);a.push({name:l.name,path:l.path,content:t})}catch(t){console.warn("Failed to load BPMN file ".concat(l.path,":"),t)}return{bpmnFiles:a}}catch(t){return console.warn("Error loading business process data:",t),{bpmnFiles:[]}}},P=async(e,i,n)=>{try{const t=await o.A.getDirectoryContents(e,i,"input",n);return{dmnFiles:t.filter(e=>e.name.endsWith(".dmn")).slice(0,5).map(e=>({name:e.name,path:e.path}))}}catch(t){return{dmnFiles:[]}}},T=async(e,i,n)=>{try{const t=await o.A.getDirectoryContents(e,i,"input/profiles",n);return{profiles:t.filter(e=>e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{profiles:[]}}},W=async(e,i,n)=>{try{const t=await o.A.getDirectoryContents(e,i,"input/tests",n);return{testFiles:t.filter(e=>e.name.endsWith(".feature")||e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{testFiles:[]}}},B=async(e,i,n)=>{try{const t=await o.A.getDirectoryContents(e,i,"input/actors",n);return{actorFiles:t.filter(e=>e.name.endsWith(".json")).slice(0,10).map(e=>({name:e.name,path:e.path}))}}catch(t){return{actorFiles:[]}}};return w?(0,l.jsx)(a.Mx,{pageName:"".concat(p,"-publication"),children:(0,l.jsx)("div",{className:"publication-loading",children:(0,l.jsxs)("div",{className:"loading-content",children:[(0,l.jsx)("h3",{children:"Loading Publication..."}),(0,l.jsxs)("p",{children:["Preparing ",u," for publication view..."]})]})})}):F?(0,l.jsx)(a.Mx,{pageName:"".concat(p,"-publication"),children:(0,l.jsx)("div",{className:"publication-error",children:(0,l.jsxs)("div",{className:"error-content",children:[(0,l.jsx)("h3",{children:"Error Loading Publication"}),(0,l.jsx)("p",{children:F})]})})}):(0,l.jsx)(a.Mx,{pageName:"".concat(p,"-publication"),children:(0,l.jsxs)("div",{className:"publication-container ".concat(m?"print-mode":""),children:[(0,l.jsxs)("div",{className:"publication-header",children:[(0,l.jsxs)("div",{className:"publication-title",children:[(0,l.jsx)("h1",{children:u}),(0,l.jsx)("h2",{children:(null===M||void 0===M||null===(d=M.repository)||void 0===d?void 0:d.description)||"WHO SMART Guidelines DAK"})]}),(0,l.jsxs)("div",{className:"publication-meta",children:[(0,l.jsxs)("div",{className:"meta-item",children:[(0,l.jsx)("strong",{children:"Repository:"})," ",null===M||void 0===M?void 0:M.owner,"/",null===M||void 0===M?void 0:M.repoName]}),(0,l.jsxs)("div",{className:"meta-item",children:[(0,l.jsx)("strong",{children:"Branch:"})," ",null===M||void 0===M?void 0:M.branch]}),(0,l.jsxs)("div",{className:"meta-item",children:[(0,l.jsx)("strong",{children:"Generated:"})," ",new Date(null===M||void 0===M?void 0:M.generatedAt).toLocaleString()]})]})]}),(0,l.jsx)("div",{className:"publication-content",children:h&&h(C,M)}),(0,l.jsx)("div",{className:"publication-footer",children:(0,l.jsxs)("div",{className:"footer-content",children:[(0,l.jsx)("p",{children:"Generated by SGeX Workbench - WHO SMART Guidelines Exchange"}),(0,l.jsxs)("p",{children:["Component: ",p," | Repository: ",null===M||void 0===M?void 0:M.owner,"/",null===M||void 0===M?void 0:M.repoName," | Branch: ",null===M||void 0===M?void 0:M.branch]})]})}),!m&&(0,l.jsxs)("div",{className:"publication-controls",children:[(0,l.jsx)("button",{className:"print-button",onClick:()=>window.print(),children:"\ud83d\udda8\ufe0f Print / Save as PDF"}),(0,l.jsx)("button",{className:"epub-button",onClick:()=>r(C,M),children:"\ud83d\udcda Generate EPUB"})]})]})})}}}]);