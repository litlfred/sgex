{"ast":null,"code":"import inherits from 'inherits-browser';\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\nimport { getParents } from 'diagram-js/lib/util/Elements';\nimport { filter } from 'min-dash';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n */\n\n/**\n * Rule provider for aligning BPMN elements.\n *\n * @param {EventBus} eventBus\n */\nexport default function BpmnAlignElements(eventBus) {\n  RuleProvider.call(this, eventBus);\n}\nBpmnAlignElements.$inject = ['eventBus'];\ninherits(BpmnAlignElements, RuleProvider);\nBpmnAlignElements.prototype.init = function () {\n  this.addRule('elements.align', function (context) {\n    var elements = context.elements;\n\n    // filter out elements which cannot be aligned\n    var filteredElements = filter(elements, function (element) {\n      return !(element.waypoints || element.host || element.labelTarget);\n    });\n\n    // filter out elements which are children of any of the selected elements\n    filteredElements = getParents(filteredElements);\n    if (filteredElements.length < 2) {\n      return false;\n    }\n    return filteredElements;\n  });\n};","map":{"version":3,"names":["inherits","RuleProvider","getParents","filter","BpmnAlignElements","eventBus","call","$inject","prototype","init","addRule","context","elements","filteredElements","element","waypoints","host","labelTarget","length"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/align-elements/BpmnAlignElements.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\nimport { getParents } from 'diagram-js/lib/util/Elements';\n\nimport {\n  filter\n} from 'min-dash';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n */\n\n/**\n * Rule provider for aligning BPMN elements.\n *\n * @param {EventBus} eventBus\n */\nexport default function BpmnAlignElements(eventBus) {\n  RuleProvider.call(this, eventBus);\n}\n\nBpmnAlignElements.$inject = [ 'eventBus' ];\n\ninherits(BpmnAlignElements, RuleProvider);\n\nBpmnAlignElements.prototype.init = function() {\n  this.addRule('elements.align', function(context) {\n    var elements = context.elements;\n\n    // filter out elements which cannot be aligned\n    var filteredElements = filter(elements, function(element) {\n      return !(element.waypoints || element.host || element.labelTarget);\n    });\n\n    // filter out elements which are children of any of the selected elements\n    filteredElements = getParents(filteredElements);\n\n    if (filteredElements.length < 2) {\n      return false;\n    }\n\n    return filteredElements;\n  });\n};\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,YAAY,MAAM,4CAA4C;AACrE,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,SACEC,MAAM,QACD,UAAU;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,iBAAiBA,CAACC,QAAQ,EAAE;EAClDJ,YAAY,CAACK,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC;AACnC;AAEAD,iBAAiB,CAACG,OAAO,GAAG,CAAE,UAAU,CAAE;AAE1CP,QAAQ,CAACI,iBAAiB,EAAEH,YAAY,CAAC;AAEzCG,iBAAiB,CAACI,SAAS,CAACC,IAAI,GAAG,YAAW;EAC5C,IAAI,CAACC,OAAO,CAAC,gBAAgB,EAAE,UAASC,OAAO,EAAE;IAC/C,IAAIC,QAAQ,GAAGD,OAAO,CAACC,QAAQ;;IAE/B;IACA,IAAIC,gBAAgB,GAAGV,MAAM,CAACS,QAAQ,EAAE,UAASE,OAAO,EAAE;MACxD,OAAO,EAAEA,OAAO,CAACC,SAAS,IAAID,OAAO,CAACE,IAAI,IAAIF,OAAO,CAACG,WAAW,CAAC;IACpE,CAAC,CAAC;;IAEF;IACAJ,gBAAgB,GAAGX,UAAU,CAACW,gBAAgB,CAAC;IAE/C,IAAIA,gBAAgB,CAACK,MAAM,GAAG,CAAC,EAAE;MAC/B,OAAO,KAAK;IACd;IAEA,OAAOL,gBAAgB;EACzB,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}