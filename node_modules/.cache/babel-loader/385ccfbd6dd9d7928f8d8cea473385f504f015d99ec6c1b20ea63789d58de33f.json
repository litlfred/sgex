{"ast":null,"code":"import { is } from '../../util/ModelUtil';\nimport { isExpanded, isHorizontal } from '../../util/DiUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/interaction-events/InteractionEvents').default} InteractionEvents\n *\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Shape} Shape\n */\n\nvar LABEL_WIDTH = 30,\n  LABEL_HEIGHT = 30;\n\n/**\n * BPMN-specific hit zones and interaction fixes.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\nexport default function BpmnInteractionEvents(eventBus, interactionEvents) {\n  this._interactionEvents = interactionEvents;\n  var self = this;\n  eventBus.on(['interactionEvents.createHit', 'interactionEvents.updateHit'], function (context) {\n    var element = context.element,\n      gfx = context.gfx;\n    if (is(element, 'bpmn:Lane')) {\n      return self._createParticipantHit(element, gfx);\n    } else if (is(element, 'bpmn:Participant')) {\n      if (isExpanded(element)) {\n        return self._createParticipantHit(element, gfx);\n      } else {\n        return self._createDefaultHit(element, gfx);\n      }\n    } else if (is(element, 'bpmn:SubProcess')) {\n      if (isExpanded(element)) {\n        return self._createSubProcessHit(element, gfx);\n      } else {\n        return self._createDefaultHit(element, gfx);\n      }\n    }\n  });\n}\nBpmnInteractionEvents.$inject = ['eventBus', 'interactionEvents'];\n\n/**\n * @param {Element} element\n * @param {SVGElement} gfx\n *\n * @return {boolean}\n */\nBpmnInteractionEvents.prototype._createDefaultHit = function (element, gfx) {\n  this._interactionEvents.removeHits(gfx);\n  this._interactionEvents.createDefaultHit(element, gfx);\n\n  // indicate that we created a hit\n  return true;\n};\n\n/**\n * @param {Shape} element\n * @param {SVGElement} gfx\n *\n * @return {boolean}\n */\nBpmnInteractionEvents.prototype._createParticipantHit = function (element, gfx) {\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx);\n\n  // add body hit\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add outline hit\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add label hit\n  var box = isHorizontal(element) ? {\n    width: LABEL_WIDTH,\n    height: element.height\n  } : {\n    width: element.width,\n    height: LABEL_HEIGHT\n  };\n  this._interactionEvents.createBoxHit(gfx, 'all', box);\n\n  // indicate that we created a hit\n  return true;\n};\n\n/**\n * @param {Shape} element\n * @param {SVGElement} gfx\n *\n * @return {boolean}\n */\nBpmnInteractionEvents.prototype._createSubProcessHit = function (element, gfx) {\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx);\n\n  // add body hit\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add outline hit\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add label hit\n  this._interactionEvents.createBoxHit(gfx, 'all', {\n    width: element.width,\n    height: LABEL_HEIGHT\n  });\n\n  // indicate that we created a hit\n  return true;\n};","map":{"version":3,"names":["is","isExpanded","isHorizontal","LABEL_WIDTH","LABEL_HEIGHT","BpmnInteractionEvents","eventBus","interactionEvents","_interactionEvents","self","on","context","element","gfx","_createParticipantHit","_createDefaultHit","_createSubProcessHit","$inject","prototype","removeHits","createDefaultHit","createBoxHit","width","height","box"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/interaction-events/BpmnInteractionEvents.js"],"sourcesContent":["import { is } from '../../util/ModelUtil';\n\nimport {\n  isExpanded,\n  isHorizontal\n} from '../../util/DiUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/interaction-events/InteractionEvents').default} InteractionEvents\n *\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Shape} Shape\n */\n\nvar LABEL_WIDTH = 30,\n    LABEL_HEIGHT = 30;\n\n\n/**\n * BPMN-specific hit zones and interaction fixes.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\nexport default function BpmnInteractionEvents(eventBus, interactionEvents) {\n\n  this._interactionEvents = interactionEvents;\n\n  var self = this;\n\n  eventBus.on([\n    'interactionEvents.createHit',\n    'interactionEvents.updateHit'\n  ], function(context) {\n    var element = context.element,\n        gfx = context.gfx;\n\n    if (is(element, 'bpmn:Lane')) {\n      return self._createParticipantHit(element, gfx);\n    } else if (is(element, 'bpmn:Participant')) {\n      if (isExpanded(element)) {\n        return self._createParticipantHit(element, gfx);\n      } else {\n        return self._createDefaultHit(element, gfx);\n      }\n    } else if (is(element, 'bpmn:SubProcess')) {\n      if (isExpanded(element)) {\n        return self._createSubProcessHit(element, gfx);\n      } else {\n        return self._createDefaultHit(element, gfx);\n      }\n    }\n  });\n\n}\n\nBpmnInteractionEvents.$inject = [\n  'eventBus',\n  'interactionEvents'\n];\n\n/**\n * @param {Element} element\n * @param {SVGElement} gfx\n *\n * @return {boolean}\n */\nBpmnInteractionEvents.prototype._createDefaultHit = function(element, gfx) {\n  this._interactionEvents.removeHits(gfx);\n\n  this._interactionEvents.createDefaultHit(element, gfx);\n\n  // indicate that we created a hit\n  return true;\n};\n\n/**\n * @param {Shape} element\n * @param {SVGElement} gfx\n *\n * @return {boolean}\n */\nBpmnInteractionEvents.prototype._createParticipantHit = function(element, gfx) {\n\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx);\n\n  // add body hit\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add outline hit\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add label hit\n  var box = isHorizontal(element) ? {\n    width: LABEL_WIDTH,\n    height: element.height\n  } : {\n    width: element.width,\n    height: LABEL_HEIGHT\n  };\n\n  this._interactionEvents.createBoxHit(gfx, 'all', box);\n\n  // indicate that we created a hit\n  return true;\n};\n\n/**\n * @param {Shape} element\n * @param {SVGElement} gfx\n *\n * @return {boolean}\n */\nBpmnInteractionEvents.prototype._createSubProcessHit = function(element, gfx) {\n\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx);\n\n  // add body hit\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add outline hit\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add label hit\n  this._interactionEvents.createBoxHit(gfx, 'all', {\n    width: element.width,\n    height: LABEL_HEIGHT\n  });\n\n  // indicate that we created a hit\n  return true;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}