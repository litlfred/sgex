{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./HelpModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HelpModal=_ref=>{let{topic,helpTopic,contextData,onClose}=_ref;const[showMenu,setShowMenu]=useState(false);const[currentSlide,setCurrentSlide]=useState(0);// Set up global reference for inline onclick handlers\nuseEffect(()=>{const createContextualUrl=(baseUrl,params)=>{var _contextData$selected;const urlParams=new URLSearchParams(params);// Add contextual information\nif(contextData.pageId){urlParams.set('sgex_page',contextData.pageId);}const currentUrl=window.location.href;urlParams.set('sgex_current_url',currentUrl);if((_contextData$selected=contextData.selectedDak)!==null&&_contextData$selected!==void 0&&_contextData$selected.name){urlParams.set('sgex_selected_dak',contextData.selectedDak.name);}return`${baseUrl}?${urlParams.toString()}`;};window.helpModalInstance={openSgexIssue:issueType=>{const baseUrl=`https://github.com/litlfred/sgex/issues/new`;let params={};switch(issueType){case'bug':params.template='bug_report.yml';params.labels='bug';break;case'feature':params.template='feature_request.yml';params.labels='enhancement';break;case'question':params.template='question.yml';params.labels='question';break;case'documentation':params.template='documentation.yml';params.labels='documentation';break;default:params.labels='needs-triage';}const url=createContextualUrl(baseUrl,params);window.open(url,'_blank');},openDakIssue:issueType=>{const repository=contextData.repository||contextData.selectedDak;if(!repository){console.warn('No DAK repository specified for feedback');return;}const baseUrl=`https://github.com/${repository.owner}/${repository.name}/issues/new`;let params={};switch(issueType){case'bug':params.template='dak_bug_report.yml';params.labels='bug,dak-issue';break;case'improvement':params.template='dak_feature_request.yml';params.labels='enhancement,dak-improvement';break;case'content':params.template='dak_content_error.yml';params.labels='content-issue,clinical-content';break;case'question':params.template='dak_question.yml';params.labels='question,dak-question';break;default:params.labels='dak-feedback';}// Add DAK-specific context\nif(repository.name){params.sgex_dak_repository=`${repository.owner}/${repository.name}`;}const url=createContextualUrl(baseUrl,params);window.open(url,'_blank');}};return()=>{// Cleanup\ndelete window.helpModalInstance;};},[contextData]);const handleOverlayClick=e=>{if(e.target===e.currentTarget){onClose();}};const handleMenuToggle=()=>{setShowMenu(!showMenu);};const handleBugReport=()=>{var _window$helpModalInst;// Use the new SGEX issue reporting system\nif((_window$helpModalInst=window.helpModalInstance)!==null&&_window$helpModalInst!==void 0&&_window$helpModalInst.openSgexIssue){window.helpModalInstance.openSgexIssue('bug');}else{var _contextData$selected2;// Fallback to direct URL\nconst params=new URLSearchParams({template:'bug_report.yml',labels:'bug',sgex_page:contextData.pageId||'unknown',sgex_current_url:window.location.href});if((_contextData$selected2=contextData.selectedDak)!==null&&_contextData$selected2!==void 0&&_contextData$selected2.name){params.set('sgex_selected_dak',contextData.selectedDak.name);}const url=`https://github.com/litlfred/sgex/issues/new?${params.toString()}`;window.open(url,'_blank');}};const handleDAKFeedback=()=>{if(contextData.repository){var _window$helpModalInst2;// Default to opening content error as the primary DAK feedback type\nif((_window$helpModalInst2=window.helpModalInstance)!==null&&_window$helpModalInst2!==void 0&&_window$helpModalInst2.openDakIssue){window.helpModalInstance.openDakIssue('content');}}};const handleEmailSupport=()=>{const topicTitle=(helpTopic===null||helpTopic===void 0?void 0:helpTopic.title)||topic;const subject=encodeURIComponent(`SGEX Workbench Support: ${topicTitle}`);const body=encodeURIComponent(`\nHello SMART Guidelines Team,\n\nI need assistance with the SGEX Workbench.\n\nTopic: ${topicTitle}\nPage: ${window.location.pathname}\n\nPlease describe your question or issue:\n\n\nBest regards,\n    `.trim());window.open(`mailto:smart@who.int?subject=${subject}&body=${body}`);};const handlePrevSlide=()=>{if(currentSlide>0){setCurrentSlide(currentSlide-1);}};const handleNextSlide=()=>{if(helpTopic!==null&&helpTopic!==void 0&&helpTopic.content&&currentSlide<helpTopic.content.length-1){setCurrentSlide(currentSlide+1);}};const renderSlideshow=()=>{if(!(helpTopic!==null&&helpTopic!==void 0&&helpTopic.content)||helpTopic.type!=='slideshow'){return null;}const slides=helpTopic.content;const currentSlideData=slides[currentSlide];// Handle DAK feedback buttons by replacing onclick handlers\nlet processedContent=currentSlideData.content;if(helpTopic.id==='provide-dak-feedback'){processedContent=processedContent.replace(/onclick=\"this\\.openDakIssue\\('([^']+)'\\)\"/g,`onclick=\"window.helpModalInstance?.openDakIssue('$1')\"`);}return/*#__PURE__*/_jsxs(\"div\",{className:\"help-slideshow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"slideshow-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:currentSlideData.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-counter\",children:[currentSlide+1,\" of \",slides.length]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"slideshow-content\",dangerouslySetInnerHTML:{__html:processedContent}}),/*#__PURE__*/_jsxs(\"div\",{className:\"slideshow-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevSlide,disabled:currentSlide===0,className:\"slide-nav-btn\",children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-dots\",children:slides.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:`slide-dot ${index===currentSlide?'active':''}`,onClick:()=>setCurrentSlide(index),\"aria-label\":`Go to slide ${index+1}`},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextSlide,disabled:currentSlide===slides.length-1,className:\"slide-nav-btn\",children:\"Next \\u2192\"})]})]});};const getHelpContent=()=>{// If we have a specific help topic, use it\nif(helpTopic){return{title:helpTopic.title,content:helpTopic.type==='slideshow'?renderSlideshow():/*#__PURE__*/_jsx(\"div\",{className:\"help-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mascot-message\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/sgex/sgex-mascot.png\",alt:\"SGEX Helper\",className:\"help-mascot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"message-bubble\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:helpTopic.content}})})]})})};}// Legacy support for old topic strings\nswitch(topic){case'github-token':case'pat-help':return{title:'GitHub Authentication Help',content:/*#__PURE__*/_jsx(\"div\",{className:\"help-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mascot-message\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/sgex/sgex-mascot.png\",alt:\"SGEX Helper\",className:\"help-mascot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"SGEX Workbench uses GitHub Personal Access Tokens for secure authentication!\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"How it works:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Create a Personal Access Token in your GitHub settings\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Enter the token in the login form\"}),/*#__PURE__*/_jsx(\"li\",{children:\"SGEX will securely connect to your GitHub repositories\"}),/*#__PURE__*/_jsx(\"li\",{children:\"No backend server required - works entirely in your browser!\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"This approach ensures compliance with our no-backend requirement while keeping your data secure.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"If you're having trouble, please use the menu above to get additional support.\"})]})]})})};default:return{title:'SGEX Workbench Help',content:/*#__PURE__*/_jsx(\"div\",{className:\"help-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mascot-message\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/sgex/sgex-mascot.png\",alt:\"SGEX Helper\",className:\"help-mascot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Hi! I'm here to help you with the SGEX Workbench.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use the menu in the top right to get additional support options.\"})]})]})})};}};const{title,content}=getHelpContent();return/*#__PURE__*/_jsx(\"div\",{className:\"help-modal-overlay\",onClick:handleOverlayClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"help-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"help-modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-modal-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"hamburger-menu-btn\",onClick:handleMenuToggle,\"aria-label\":\"More options\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,\"aria-label\":\"Close help\",children:\"\\xD7\"})]}),showMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"help-menu-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleBugReport,className:\"menu-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/sgex/bug-report-icon.svg\",alt:\"Bug\",className:\"menu-icon\"}),\"File Bug Report\"]}),contextData.repository&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleDAKFeedback,className:\"menu-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\uD83D\\uDCDD\"}),\"Provide DAK Feedback\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleEmailSupport,className:\"menu-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\uD83D\\uDCE7\"}),\"Email Support\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"help-modal-content\",children:content})]})});};export default HelpModal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","HelpModal","_ref","topic","helpTopic","contextData","onClose","showMenu","setShowMenu","currentSlide","setCurrentSlide","createContextualUrl","baseUrl","params","_contextData$selected","urlParams","URLSearchParams","pageId","set","currentUrl","window","location","href","selectedDak","name","toString","helpModalInstance","openSgexIssue","issueType","template","labels","url","open","openDakIssue","repository","console","warn","owner","sgex_dak_repository","handleOverlayClick","e","target","currentTarget","handleMenuToggle","handleBugReport","_window$helpModalInst","_contextData$selected2","sgex_page","sgex_current_url","handleDAKFeedback","_window$helpModalInst2","handleEmailSupport","topicTitle","title","subject","encodeURIComponent","body","pathname","trim","handlePrevSlide","handleNextSlide","content","length","renderSlideshow","type","slides","currentSlideData","processedContent","id","replace","className","children","dangerouslySetInnerHTML","__html","onClick","disabled","map","_","index","getHelpContent","src","alt"],"sources":["/home/runner/work/sgex/sgex/src/components/HelpModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './HelpModal.css';\n\nconst HelpModal = ({ topic, helpTopic, contextData, onClose }) => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  // Set up global reference for inline onclick handlers\n  useEffect(() => {\n    const createContextualUrl = (baseUrl, params) => {\n      const urlParams = new URLSearchParams(params);\n      \n      // Add contextual information\n      if (contextData.pageId) {\n        urlParams.set('sgex_page', contextData.pageId);\n      }\n      \n      const currentUrl = window.location.href;\n      urlParams.set('sgex_current_url', currentUrl);\n      \n      if (contextData.selectedDak?.name) {\n        urlParams.set('sgex_selected_dak', contextData.selectedDak.name);\n      }\n      \n      return `${baseUrl}?${urlParams.toString()}`;\n    };\n\n    window.helpModalInstance = {\n      openSgexIssue: (issueType) => {\n        const baseUrl = `https://github.com/litlfred/sgex/issues/new`;\n        let params = {};\n\n        switch (issueType) {\n          case 'bug':\n            params.template = 'bug_report.yml';\n            params.labels = 'bug';\n            break;\n          case 'feature':\n            params.template = 'feature_request.yml';\n            params.labels = 'enhancement';\n            break;\n          case 'question':\n            params.template = 'question.yml';\n            params.labels = 'question';\n            break;\n          case 'documentation':\n            params.template = 'documentation.yml';\n            params.labels = 'documentation';\n            break;\n          default:\n            params.labels = 'needs-triage';\n        }\n\n        const url = createContextualUrl(baseUrl, params);\n        window.open(url, '_blank');\n      },\n\n      openDakIssue: (issueType) => {\n        const repository = contextData.repository || contextData.selectedDak;\n        if (!repository) {\n          console.warn('No DAK repository specified for feedback');\n          return;\n        }\n\n        const baseUrl = `https://github.com/${repository.owner}/${repository.name}/issues/new`;\n        let params = {};\n\n        switch (issueType) {\n          case 'bug':\n            params.template = 'dak_bug_report.yml';\n            params.labels = 'bug,dak-issue';\n            break;\n          case 'improvement':\n            params.template = 'dak_feature_request.yml';\n            params.labels = 'enhancement,dak-improvement';\n            break;\n          case 'content':\n            params.template = 'dak_content_error.yml';\n            params.labels = 'content-issue,clinical-content';\n            break;\n          case 'question':\n            params.template = 'dak_question.yml';\n            params.labels = 'question,dak-question';\n            break;\n          default:\n            params.labels = 'dak-feedback';\n        }\n\n        // Add DAK-specific context\n        if (repository.name) {\n          params.sgex_dak_repository = `${repository.owner}/${repository.name}`;\n        }\n\n        const url = createContextualUrl(baseUrl, params);\n        window.open(url, '_blank');\n      }\n    };\n\n    return () => {\n      // Cleanup\n      delete window.helpModalInstance;\n    };\n  }, [contextData]);\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleMenuToggle = () => {\n    setShowMenu(!showMenu);\n  };\n\n  const handleBugReport = () => {\n    // Use the new SGEX issue reporting system\n    if (window.helpModalInstance?.openSgexIssue) {\n      window.helpModalInstance.openSgexIssue('bug');\n    } else {\n      // Fallback to direct URL\n      const params = new URLSearchParams({\n        template: 'bug_report.yml',\n        labels: 'bug',\n        sgex_page: contextData.pageId || 'unknown',\n        sgex_current_url: window.location.href\n      });\n      \n      if (contextData.selectedDak?.name) {\n        params.set('sgex_selected_dak', contextData.selectedDak.name);\n      }\n      \n      const url = `https://github.com/litlfred/sgex/issues/new?${params.toString()}`;\n      window.open(url, '_blank');\n    }\n  };\n\n  const handleDAKFeedback = () => {\n    if (contextData.repository) {\n      // Default to opening content error as the primary DAK feedback type\n      if (window.helpModalInstance?.openDakIssue) {\n        window.helpModalInstance.openDakIssue('content');\n      }\n    }\n  };\n\n  const handleEmailSupport = () => {\n    const topicTitle = helpTopic?.title || topic;\n    const subject = encodeURIComponent(`SGEX Workbench Support: ${topicTitle}`);\n    const body = encodeURIComponent(`\nHello SMART Guidelines Team,\n\nI need assistance with the SGEX Workbench.\n\nTopic: ${topicTitle}\nPage: ${window.location.pathname}\n\nPlease describe your question or issue:\n\n\nBest regards,\n    `.trim());\n    \n    window.open(`mailto:smart@who.int?subject=${subject}&body=${body}`);\n  };\n\n  const handlePrevSlide = () => {\n    if (currentSlide > 0) {\n      setCurrentSlide(currentSlide - 1);\n    }\n  };\n\n  const handleNextSlide = () => {\n    if (helpTopic?.content && currentSlide < helpTopic.content.length - 1) {\n      setCurrentSlide(currentSlide + 1);\n    }\n  };\n\n  const renderSlideshow = () => {\n    if (!helpTopic?.content || helpTopic.type !== 'slideshow') {\n      return null;\n    }\n\n    const slides = helpTopic.content;\n    const currentSlideData = slides[currentSlide];\n\n    // Handle DAK feedback buttons by replacing onclick handlers\n    let processedContent = currentSlideData.content;\n    if (helpTopic.id === 'provide-dak-feedback') {\n      processedContent = processedContent.replace(\n        /onclick=\"this\\.openDakIssue\\('([^']+)'\\)\"/g,\n        `onclick=\"window.helpModalInstance?.openDakIssue('$1')\"`\n      );\n    }\n\n    return (\n      <div className=\"help-slideshow\">\n        <div className=\"slideshow-header\">\n          <h3>{currentSlideData.title}</h3>\n          <div className=\"slide-counter\">\n            {currentSlide + 1} of {slides.length}\n          </div>\n        </div>\n        \n        <div \n          className=\"slideshow-content\"\n          dangerouslySetInnerHTML={{ __html: processedContent }}\n        />\n        \n        <div className=\"slideshow-controls\">\n          <button \n            onClick={handlePrevSlide}\n            disabled={currentSlide === 0}\n            className=\"slide-nav-btn\"\n          >\n            ‚Üê Previous\n          </button>\n          \n          <div className=\"slide-dots\">\n            {slides.map((_, index) => (\n              <button\n                key={index}\n                className={`slide-dot ${index === currentSlide ? 'active' : ''}`}\n                onClick={() => setCurrentSlide(index)}\n                aria-label={`Go to slide ${index + 1}`}\n              />\n            ))}\n          </div>\n          \n          <button \n            onClick={handleNextSlide}\n            disabled={currentSlide === slides.length - 1}\n            className=\"slide-nav-btn\"\n          >\n            Next ‚Üí\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const getHelpContent = () => {\n    // If we have a specific help topic, use it\n    if (helpTopic) {\n      return {\n        title: helpTopic.title,\n        content: helpTopic.type === 'slideshow' ? renderSlideshow() : (\n          <div className=\"help-content\">\n            <div className=\"mascot-message\">\n              <img src=\"/sgex/sgex-mascot.png\" alt=\"SGEX Helper\" className=\"help-mascot\" />\n              <div className=\"message-bubble\">\n                <div dangerouslySetInnerHTML={{ __html: helpTopic.content }} />\n              </div>\n            </div>\n          </div>\n        )\n      };\n    }\n\n    // Legacy support for old topic strings\n    switch (topic) {\n      case 'github-token':\n      case 'pat-help':\n        return {\n          title: 'GitHub Authentication Help',\n          content: (\n            <div className=\"help-content\">\n              <div className=\"mascot-message\">\n                <img src=\"/sgex/sgex-mascot.png\" alt=\"SGEX Helper\" className=\"help-mascot\" />\n                <div className=\"message-bubble\">\n                  <p>SGEX Workbench uses GitHub Personal Access Tokens for secure authentication!</p>\n                  <p><strong>How it works:</strong></p>\n                  <ul>\n                    <li>Create a Personal Access Token in your GitHub settings</li>\n                    <li>Enter the token in the login form</li>\n                    <li>SGEX will securely connect to your GitHub repositories</li>\n                    <li>No backend server required - works entirely in your browser!</li>\n                  </ul>\n                  <p>This approach ensures compliance with our no-backend requirement while keeping your data secure.</p>\n                  <p>If you're having trouble, please use the menu above to get additional support.</p>\n                </div>\n              </div>\n            </div>\n          )\n        };\n      default:\n        return {\n          title: 'SGEX Workbench Help',\n          content: (\n            <div className=\"help-content\">\n              <div className=\"mascot-message\">\n                <img src=\"/sgex/sgex-mascot.png\" alt=\"SGEX Helper\" className=\"help-mascot\" />\n                <div className=\"message-bubble\">\n                  <p>Hi! I'm here to help you with the SGEX Workbench.</p>\n                  <p>Use the menu in the top right to get additional support options.</p>\n                </div>\n              </div>\n            </div>\n          )\n        };\n    }\n  };\n\n  const { title, content } = getHelpContent();\n\n  return (\n    <div className=\"help-modal-overlay\" onClick={handleOverlayClick}>\n      <div className=\"help-modal\">\n        <div className=\"help-modal-header\">\n          <h2>{title}</h2>\n          <div className=\"help-modal-actions\">\n            <button \n              className=\"hamburger-menu-btn\"\n              onClick={handleMenuToggle}\n              aria-label=\"More options\"\n            >\n              <span></span>\n              <span></span>\n              <span></span>\n            </button>\n            <button \n              className=\"close-btn\"\n              onClick={onClose}\n              aria-label=\"Close help\"\n            >\n              √ó\n            </button>\n          </div>\n          \n          {showMenu && (\n            <div className=\"help-menu-dropdown\">\n              <button onClick={handleBugReport} className=\"menu-item\">\n                <img src=\"/sgex/bug-report-icon.svg\" alt=\"Bug\" className=\"menu-icon\" />\n                File Bug Report\n              </button>\n              \n              {contextData.repository && (\n                <button onClick={handleDAKFeedback} className=\"menu-item\">\n                  <span className=\"menu-icon\">üìù</span>\n                  Provide DAK Feedback\n                </button>\n              )}\n              \n              <button onClick={handleEmailSupport} className=\"menu-item\">\n                <span className=\"menu-icon\">üìß</span>\n                Email Support\n              </button>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"help-modal-content\">\n          {content}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HelpModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}