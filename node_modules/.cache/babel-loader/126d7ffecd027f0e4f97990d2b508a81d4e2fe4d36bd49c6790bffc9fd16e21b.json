{"ast":null,"code":"\"use strict\";\n\nvar _taggedTemplateLiteral = require(\"/home/runner/work/sgex/sgex/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\").default;\nvar _templateObject;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n  message: \"boolean schema is false\"\n};\nfunction topBoolOrEmptySchema(it) {\n  const {\n    gen,\n    schema,\n    validateName\n  } = it;\n  if (schema === false) {\n    falseSchemaError(it, false);\n  } else if (typeof schema == \"object\" && schema.$async === true) {\n    gen.return(names_1.default.data);\n  } else {\n    gen.assign((0, codegen_1._)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\", \".errors\"])), validateName), null);\n    gen.return(true);\n  }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n  const {\n    gen,\n    schema\n  } = it;\n  if (schema === false) {\n    gen.var(valid, false); // TODO var\n    falseSchemaError(it);\n  } else {\n    gen.var(valid, true); // TODO var\n  }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n  const {\n    gen,\n    data\n  } = it;\n  // TODO maybe some other interface should be used for non-keyword validation errors...\n  const cxt = {\n    gen,\n    keyword: \"false schema\",\n    data,\n    schema: false,\n    schemaCode: false,\n    schemaValue: false,\n    params: {},\n    it\n  };\n  (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}","map":{"version":3,"names":["errors_1","require","codegen_1","names_1","boolError","message","topBoolOrEmptySchema","it","gen","schema","validateName","falseSchemaError","$async","return","default","data","assign","_","_templateObject","_taggedTemplateLiteral","exports","boolOrEmptySchema","valid","var","overrideAllErrors","cxt","keyword","schemaCode","schemaValue","params","reportError","undefined"],"sources":["/home/runner/work/sgex/sgex/node_modules/ajv/lib/compile/validate/boolSchema.ts"],"sourcesContent":["import type {KeywordErrorDefinition, KeywordErrorCxt} from \"../../types\"\nimport type {SchemaCxt} from \"..\"\nimport {reportError} from \"../errors\"\nimport {_, Name} from \"../codegen\"\nimport N from \"../names\"\n\nconst boolError: KeywordErrorDefinition = {\n  message: \"boolean schema is false\",\n}\n\nexport function topBoolOrEmptySchema(it: SchemaCxt): void {\n  const {gen, schema, validateName} = it\n  if (schema === false) {\n    falseSchemaError(it, false)\n  } else if (typeof schema == \"object\" && schema.$async === true) {\n    gen.return(N.data)\n  } else {\n    gen.assign(_`${validateName}.errors`, null)\n    gen.return(true)\n  }\n}\n\nexport function boolOrEmptySchema(it: SchemaCxt, valid: Name): void {\n  const {gen, schema} = it\n  if (schema === false) {\n    gen.var(valid, false) // TODO var\n    falseSchemaError(it)\n  } else {\n    gen.var(valid, true) // TODO var\n  }\n}\n\nfunction falseSchemaError(it: SchemaCxt, overrideAllErrors?: boolean): void {\n  const {gen, data} = it\n  // TODO maybe some other interface should be used for non-keyword validation errors...\n  const cxt: KeywordErrorCxt = {\n    gen,\n    keyword: \"false schema\",\n    data,\n    schema: false,\n    schemaCode: false,\n    schemaValue: false,\n    params: {},\n    it,\n  }\n  reportError(cxt, boolError, undefined, overrideAllErrors)\n}\n"],"mappings":";;;;;;;;AAEA,MAAAA,QAAA,GAAAC,OAAA;AACA,MAAAC,SAAA,GAAAD,OAAA;AACA,MAAAE,OAAA,GAAAF,OAAA;AAEA,MAAMG,SAAS,GAA2B;EACxCC,OAAO,EAAE;CACV;AAED,SAAgBC,oBAAoBA,CAACC,EAAa;EAChD,MAAM;IAACC,GAAG;IAAEC,MAAM;IAAEC;EAAY,CAAC,GAAGH,EAAE;EACtC,IAAIE,MAAM,KAAK,KAAK,EAAE;IACpBE,gBAAgB,CAACJ,EAAE,EAAE,KAAK,CAAC;EAC7B,CAAC,MAAM,IAAI,OAAOE,MAAM,IAAI,QAAQ,IAAIA,MAAM,CAACG,MAAM,KAAK,IAAI,EAAE;IAC9DJ,GAAG,CAACK,MAAM,CAACV,OAAA,CAAAW,OAAC,CAACC,IAAI,CAAC;EACpB,CAAC,MAAM;IACLP,GAAG,CAACQ,MAAM,EAAC,GAAAd,SAAA,CAAAe,CAAC,EAAAC,eAAA,KAAAA,eAAA,GAAAC,sBAAA,oBAAGT,YAAY,GAAW,IAAI,CAAC;IAC3CF,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC;EAClB;AACF;AAVAO,OAAA,CAAAd,oBAAA,GAAAA,oBAAA;AAYA,SAAgBe,iBAAiBA,CAACd,EAAa,EAAEe,KAAW;EAC1D,MAAM;IAACd,GAAG;IAAEC;EAAM,CAAC,GAAGF,EAAE;EACxB,IAAIE,MAAM,KAAK,KAAK,EAAE;IACpBD,GAAG,CAACe,GAAG,CAACD,KAAK,EAAE,KAAK,CAAC,EAAC;IACtBX,gBAAgB,CAACJ,EAAE,CAAC;EACtB,CAAC,MAAM;IACLC,GAAG,CAACe,GAAG,CAACD,KAAK,EAAE,IAAI,CAAC,EAAC;EACvB;AACF;AARAF,OAAA,CAAAC,iBAAA,GAAAA,iBAAA;AAUA,SAASV,gBAAgBA,CAACJ,EAAa,EAAEiB,iBAA2B;EAClE,MAAM;IAAChB,GAAG;IAAEO;EAAI,CAAC,GAAGR,EAAE;EACtB;EACA,MAAMkB,GAAG,GAAoB;IAC3BjB,GAAG;IACHkB,OAAO,EAAE,cAAc;IACvBX,IAAI;IACJN,MAAM,EAAE,KAAK;IACbkB,UAAU,EAAE,KAAK;IACjBC,WAAW,EAAE,KAAK;IAClBC,MAAM,EAAE,EAAE;IACVtB;GACD;EACD,IAAAP,QAAA,CAAA8B,WAAW,EAACL,GAAG,EAAErB,SAAS,EAAE2B,SAAS,EAAEP,iBAAiB,CAAC;AAC3D","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}