{"ast":null,"code":"import{usePage,PAGE_TYPES}from'./PageProvider';/**\n * Hook for accessing URL parameters in a type-safe way\n */export const usePageParams=()=>{const{type,user,profile,repository,branch,asset,params,navigate}=usePage();const updateBranch=newBranch=>{if(type===PAGE_TYPES.DAK||type===PAGE_TYPES.ASSET){const currentPath=window.location.pathname;const pathParts=currentPath.split('/');// Update branch in URL path\nif(pathParts.length>=5){if(pathParts.length===5){// No branch in URL, append it\npathParts.push(newBranch);}else{// Branch exists, replace it\npathParts[5]=newBranch;}navigate(pathParts.join('/'));}}};const navigateToUser=userLogin=>{navigate(`/${params.page||'dak-action'}/${userLogin}`);};const navigateToDAK=function(userLogin,repoName){let branchName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'main';navigate(`/${params.page||'dashboard'}/${userLogin}/${repoName}/${branchName}`);};const navigateToAsset=(userLogin,repoName,branchName,assetPath)=>{navigate(`/${params.page||'editor'}/${userLogin}/${repoName}/${branchName}/${assetPath}`);};return{type,user,profile,repository,branch,asset,params,updateBranch,navigateToUser,navigateToDAK,navigateToAsset,navigate};};/**\n * Hook specifically for DAK pages (DAK and Asset page types)\n */export const useDAKParams=()=>{try{const pageParams=usePageParams();// Only throw error if page is fully loaded and type is not DAK/ASSET\n// This prevents errors during initial loading or page type determination\nif(!pageParams.loading&&pageParams.type!==PAGE_TYPES.DAK&&pageParams.type!==PAGE_TYPES.ASSET){throw new Error(`useDAKParams can only be used on DAK or Asset pages. Current page type: ${pageParams.type}`);}return{user:pageParams.user,profile:pageParams.profile,repository:pageParams.repository,branch:pageParams.branch,asset:pageParams.asset,updateBranch:pageParams.updateBranch,navigate:pageParams.navigate};}catch(error){// If PageProvider is not ready yet, return empty object\nif(error.message.includes('usePage must be used within a PageProvider')){console.log('useDAKParams: PageProvider not ready yet, returning empty data');return{user:null,profile:null,repository:null,branch:null,asset:null,updateBranch:()=>{},navigate:()=>{}};}throw error;}};/**\n * Hook specifically for Asset pages\n */export const useAssetParams=()=>{try{const pageParams=usePageParams();// Only throw error if page is fully loaded and type is not ASSET\nif(!pageParams.loading&&pageParams.type!==PAGE_TYPES.ASSET){throw new Error(`useAssetParams can only be used on Asset pages. Current page type: ${pageParams.type}`);}return{user:pageParams.user,profile:pageParams.profile,repository:pageParams.repository,branch:pageParams.branch,asset:pageParams.asset,updateBranch:pageParams.updateBranch,navigate:pageParams.navigate};}catch(error){// If PageProvider is not ready yet, return empty object\nif(error.message.includes('usePage must be used within a PageProvider')){console.log('useAssetParams: PageProvider not ready yet, returning empty data');return{user:null,profile:null,repository:null,branch:null,asset:null,updateBranch:()=>{},navigate:()=>{}};}throw error;}};/**\n * Hook specifically for User pages\n */export const useUserParams=()=>{const pageParams=usePageParams();if(pageParams.type!==PAGE_TYPES.USER){throw new Error('useUserParams can only be used on User pages');}return{user:pageParams.user,profile:pageParams.profile,navigateToDAK:pageParams.navigateToDAK,navigate:pageParams.navigate};};","map":{"version":3,"names":["usePage","PAGE_TYPES","usePageParams","type","user","profile","repository","branch","asset","params","navigate","updateBranch","newBranch","DAK","ASSET","currentPath","window","location","pathname","pathParts","split","length","push","join","navigateToUser","userLogin","page","navigateToDAK","repoName","branchName","arguments","undefined","navigateToAsset","assetPath","useDAKParams","pageParams","loading","Error","error","message","includes","console","log","useAssetParams","useUserParams","USER"],"sources":["/home/runner/work/sgex/sgex/src/components/framework/usePageParams.js"],"sourcesContent":["import { usePage, PAGE_TYPES } from './PageProvider';\n\n/**\n * Hook for accessing URL parameters in a type-safe way\n */\nexport const usePageParams = () => {\n  const { type, user, profile, repository, branch, asset, params, navigate } = usePage();\n\n  const updateBranch = (newBranch) => {\n    if (type === PAGE_TYPES.DAK || type === PAGE_TYPES.ASSET) {\n      const currentPath = window.location.pathname;\n      const pathParts = currentPath.split('/');\n      \n      // Update branch in URL path\n      if (pathParts.length >= 5) {\n        if (pathParts.length === 5) {\n          // No branch in URL, append it\n          pathParts.push(newBranch);\n        } else {\n          // Branch exists, replace it\n          pathParts[5] = newBranch;\n        }\n        navigate(pathParts.join('/'));\n      }\n    }\n  };\n\n  const navigateToUser = (userLogin) => {\n    navigate(`/${params.page || 'dak-action'}/${userLogin}`);\n  };\n\n  const navigateToDAK = (userLogin, repoName, branchName = 'main') => {\n    navigate(`/${params.page || 'dashboard'}/${userLogin}/${repoName}/${branchName}`);\n  };\n\n  const navigateToAsset = (userLogin, repoName, branchName, assetPath) => {\n    navigate(`/${params.page || 'editor'}/${userLogin}/${repoName}/${branchName}/${assetPath}`);\n  };\n\n  return {\n    type,\n    user,\n    profile,\n    repository,\n    branch,\n    asset,\n    params,\n    updateBranch,\n    navigateToUser,\n    navigateToDAK,\n    navigateToAsset,\n    navigate\n  };\n};\n\n/**\n * Hook specifically for DAK pages (DAK and Asset page types)\n */\nexport const useDAKParams = () => {\n  try {\n    const pageParams = usePageParams();\n    \n    // Only throw error if page is fully loaded and type is not DAK/ASSET\n    // This prevents errors during initial loading or page type determination\n    if (!pageParams.loading && \n        pageParams.type !== PAGE_TYPES.DAK && \n        pageParams.type !== PAGE_TYPES.ASSET) {\n      throw new Error(`useDAKParams can only be used on DAK or Asset pages. Current page type: ${pageParams.type}`);\n    }\n\n    return {\n      user: pageParams.user,\n      profile: pageParams.profile,\n      repository: pageParams.repository,\n      branch: pageParams.branch,\n      asset: pageParams.asset,\n      updateBranch: pageParams.updateBranch,\n      navigate: pageParams.navigate\n    };\n  } catch (error) {\n    // If PageProvider is not ready yet, return empty object\n    if (error.message.includes('usePage must be used within a PageProvider')) {\n      console.log('useDAKParams: PageProvider not ready yet, returning empty data');\n      return {\n        user: null,\n        profile: null,\n        repository: null,\n        branch: null,\n        asset: null,\n        updateBranch: () => {},\n        navigate: () => {}\n      };\n    }\n    throw error;\n  }\n};\n\n/**\n * Hook specifically for Asset pages\n */\nexport const useAssetParams = () => {\n  try {\n    const pageParams = usePageParams();\n    \n    // Only throw error if page is fully loaded and type is not ASSET\n    if (!pageParams.loading && pageParams.type !== PAGE_TYPES.ASSET) {\n      throw new Error(`useAssetParams can only be used on Asset pages. Current page type: ${pageParams.type}`);\n    }\n\n    return {\n      user: pageParams.user,\n      profile: pageParams.profile,\n      repository: pageParams.repository,\n      branch: pageParams.branch,\n      asset: pageParams.asset,\n      updateBranch: pageParams.updateBranch,\n      navigate: pageParams.navigate\n    };\n  } catch (error) {\n    // If PageProvider is not ready yet, return empty object\n    if (error.message.includes('usePage must be used within a PageProvider')) {\n      console.log('useAssetParams: PageProvider not ready yet, returning empty data');\n      return {\n        user: null,\n        profile: null,\n        repository: null,\n        branch: null,\n        asset: null,\n        updateBranch: () => {},\n        navigate: () => {}\n      };\n    }\n    throw error;\n  }\n};\n\n/**\n * Hook specifically for User pages\n */\nexport const useUserParams = () => {\n  const pageParams = usePageParams();\n  \n  if (pageParams.type !== PAGE_TYPES.USER) {\n    throw new Error('useUserParams can only be used on User pages');\n  }\n\n  return {\n    user: pageParams.user,\n    profile: pageParams.profile,\n    navigateToDAK: pageParams.navigateToDAK,\n    navigate: pageParams.navigate\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}