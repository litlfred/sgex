{"ast":null,"code":"import { flatten, forEach, filter, find, groupBy, matchPattern, size } from 'min-dash';\nimport { selfAndAllChildren } from '../../util/Elements';\nimport { append as svgAppend, attr as svgAttr, create as svgCreate, remove as svgRemove } from 'tiny-svg';\nimport { translate } from '../../util/SvgTransformUtil';\nimport { isConnection } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\nvar LOW_PRIORITY = 499;\nvar MARKER_DRAGGING = 'djs-dragging',\n  MARKER_OK = 'drop-ok',\n  MARKER_NOT_OK = 'drop-not-ok',\n  MARKER_NEW_PARENT = 'new-parent',\n  MARKER_ATTACH = 'attach-ok';\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Styles} styles\n * @param {PreviewSupport} previewSupport\n */\nexport default function MovePreview(eventBus, canvas, styles, previewSupport) {\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n    var filteredElements = removeEdges(elements);\n    return filteredElements;\n  }\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n    var allConnections = allShapes.flatMap(shape => (shape.incoming || []).concat(shape.outgoing || []));\n    var allElements = allShapes.concat(allConnections);\n    var uniqueElements = [...new Set(allElements)];\n    return uniqueElements;\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n    [MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT].forEach(function (m) {\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n    previewSupport.addDragger(element, context.dragGroup);\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [element];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function (event) {\n    var context = event.context,\n      dragShapes = context.shapes,\n      allDraggedElements = context.allDraggedElements;\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n      svgAttr(dragGroup, styles.cls('djs-drag-group', ['no-events']));\n      var activeLayer = canvas.getActiveLayer();\n      svgAppend(activeLayer, dragGroup);\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function (shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([allDraggedElements, getAllDraggedElements(dragShapes)]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function (e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function (event) {\n    var context = event.context,\n      dragGroup = context.dragGroup,\n      target = context.target,\n      parent = context.shape.parent,\n      canExecute = context.canExecute;\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && parent && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n    translate(dragGroup, event.dx, event.dy);\n  });\n  eventBus.on(['shape.move.out', 'shape.move.cleanup'], function (event) {\n    var context = event.context,\n      target = context.target;\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function (event) {\n    var context = event.context,\n      allDraggedElements = context.allDraggedElements,\n      dragGroup = context.dragGroup;\n\n    // remove dragging marker\n    forEach(allDraggedElements, function (e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\nMovePreview.$inject = ['eventBus', 'canvas', 'styles', 'previewSupport'];\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n  var filteredElements = filter(elements, function (element) {\n    if (!isConnection(element)) {\n      return true;\n    } else {\n      return find(elements, matchPattern({\n        id: element.source.id\n      })) && find(elements, matchPattern({\n        id: element.target.id\n      }));\n    }\n  });\n  return filteredElements;\n}\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function (e) {\n    return e.parent && e.parent.id;\n  })) !== 1;\n}","map":{"version":3,"names":["flatten","forEach","filter","find","groupBy","matchPattern","size","selfAndAllChildren","append","svgAppend","attr","svgAttr","create","svgCreate","remove","svgRemove","translate","isConnection","LOW_PRIORITY","MARKER_DRAGGING","MARKER_OK","MARKER_NOT_OK","MARKER_NEW_PARENT","MARKER_ATTACH","MovePreview","eventBus","canvas","styles","previewSupport","getVisualDragShapes","shapes","elements","getAllDraggedElements","filteredElements","removeEdges","allShapes","allConnections","flatMap","shape","incoming","concat","outgoing","allElements","uniqueElements","Set","setMarker","element","marker","m","addMarker","removeMarker","makeDraggable","context","addDragger","dragGroup","allDraggedElements","push","on","event","dragShapes","visuallyDraggedShapes","cls","activeLayer","getActiveLayer","e","differentParents","haveDifferentParents","target","parent","canExecute","id","dx","dy","$inject","source"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js/lib/features/move/MovePreview.js"],"sourcesContent":["import {\n  flatten,\n  forEach,\n  filter,\n  find,\n  groupBy,\n  matchPattern,\n  size\n} from 'min-dash';\n\nimport {\n  selfAndAllChildren\n} from '../../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nimport { isConnection } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Styles} styles\n * @param {PreviewSupport} previewSupport\n */\nexport default function MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n\n    var allConnections = allShapes.flatMap(shape =>\n      (shape.incoming || []).concat(shape.outgoing || [])\n    );\n\n    var allElements = allShapes.concat(allConnections);\n    var uniqueElements = [ ...new Set(allElements) ];\n\n    return uniqueElements;\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var activeLayer = canvas.getActiveLayer();\n\n      svgAppend(activeLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && parent && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = filter(elements, function(element) {\n\n    if (!isConnection(element)) {\n      return true;\n    } else {\n\n      return (\n        find(elements, matchPattern({ id: element.source.id })) &&\n        find(elements, matchPattern({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}