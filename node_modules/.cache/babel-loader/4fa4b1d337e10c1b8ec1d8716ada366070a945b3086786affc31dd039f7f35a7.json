{"ast":null,"code":"import inherits from 'inherits-browser';\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * A modeling behavior that ensures we set the correct root element\n * as we undo and redo commands.\n *\n * @param {Canvas} canvas\n * @param {Injector} injector\n */\nexport default function RootElementsBehavior(canvas, injector) {\n  injector.invoke(CommandInterceptor, this);\n  this.executed(function (event) {\n    var context = event.context;\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    } else {\n      context.rootElement = canvas.getRootElement();\n    }\n  });\n  this.revert(function (event) {\n    var context = event.context;\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    }\n  });\n}\ninherits(RootElementsBehavior, CommandInterceptor);\nRootElementsBehavior.$inject = ['canvas', 'injector'];","map":{"version":3,"names":["inherits","CommandInterceptor","RootElementsBehavior","canvas","injector","invoke","executed","event","context","rootElement","setRootElement","getRootElement","revert","$inject"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * A modeling behavior that ensures we set the correct root element\n * as we undo and redo commands.\n *\n * @param {Canvas} canvas\n * @param {Injector} injector\n */\nexport default function RootElementsBehavior(canvas, injector) {\n\n  injector.invoke(CommandInterceptor, this);\n\n  this.executed(function(event) {\n    var context = event.context;\n\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    } else {\n      context.rootElement = canvas.getRootElement();\n    }\n  });\n\n  this.revert(function(event) {\n    var context = event.context;\n\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    }\n  });\n}\n\ninherits(RootElementsBehavior, CommandInterceptor);\n\nRootElementsBehavior.$inject = [ 'canvas', 'injector' ];"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,kBAAkB,MAAM,kCAAkC;;AAEjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,oBAAoBA,CAACC,MAAM,EAAEC,QAAQ,EAAE;EAE7DA,QAAQ,CAACC,MAAM,CAACJ,kBAAkB,EAAE,IAAI,CAAC;EAEzC,IAAI,CAACK,QAAQ,CAAC,UAASC,KAAK,EAAE;IAC5B,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAAO;IAE3B,IAAIA,OAAO,CAACC,WAAW,EAAE;MACvBN,MAAM,CAACO,cAAc,CAACF,OAAO,CAACC,WAAW,CAAC;IAC5C,CAAC,MAAM;MACLD,OAAO,CAACC,WAAW,GAAGN,MAAM,CAACQ,cAAc,CAAC,CAAC;IAC/C;EACF,CAAC,CAAC;EAEF,IAAI,CAACC,MAAM,CAAC,UAASL,KAAK,EAAE;IAC1B,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAAO;IAE3B,IAAIA,OAAO,CAACC,WAAW,EAAE;MACvBN,MAAM,CAACO,cAAc,CAACF,OAAO,CAACC,WAAW,CAAC;IAC5C;EACF,CAAC,CAAC;AACJ;AAEAT,QAAQ,CAACE,oBAAoB,EAAED,kBAAkB,CAAC;AAElDC,oBAAoB,CAACW,OAAO,GAAG,CAAE,QAAQ,EAAE,UAAU,CAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}