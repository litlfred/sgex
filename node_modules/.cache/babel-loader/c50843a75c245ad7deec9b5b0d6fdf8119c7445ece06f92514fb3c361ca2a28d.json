{"ast":null,"code":"import { assign } from 'min-dash';\n\n/**\n * @typedef {import('diagram-js/lib/features/palette/Palette').default} Palette\n * @typedef {import('diagram-js/lib/features/create/Create').default} Create\n * @typedef {import('diagram-js/lib/core/ElementFactory').default} ElementFactory\n * @typedef {import('../space-tool/BpmnSpaceTool').default} SpaceTool\n * @typedef {import('diagram-js/lib/features/lasso-tool/LassoTool').default} LassoTool\n * @typedef {import('diagram-js/lib/features/hand-tool/HandTool').default} HandTool\n * @typedef {import('diagram-js/lib/features/global-connect/GlobalConnect').default} GlobalConnect\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n *\n * @typedef {import('diagram-js/lib/features/palette/Palette').PaletteEntries} PaletteEntries\n */\n\n/**\n * A palette provider for BPMN 2.0 elements.\n *\n * @param {Palette} palette\n * @param {Create} create\n * @param {ElementFactory} elementFactory\n * @param {SpaceTool} spaceTool\n * @param {LassoTool} lassoTool\n * @param {HandTool} handTool\n * @param {GlobalConnect} globalConnect\n * @param {Translate} translate\n */\nexport default function PaletteProvider(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate) {\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._spaceTool = spaceTool;\n  this._lassoTool = lassoTool;\n  this._handTool = handTool;\n  this._globalConnect = globalConnect;\n  this._translate = translate;\n  palette.registerProvider(this);\n}\nPaletteProvider.$inject = ['palette', 'create', 'elementFactory', 'spaceTool', 'lassoTool', 'handTool', 'globalConnect', 'translate'];\n\n/**\n * @return {PaletteEntries}\n */\nPaletteProvider.prototype.getPaletteEntries = function () {\n  var actions = {},\n    create = this._create,\n    elementFactory = this._elementFactory,\n    spaceTool = this._spaceTool,\n    lassoTool = this._lassoTool,\n    handTool = this._handTool,\n    globalConnect = this._globalConnect,\n    translate = this._translate;\n  function createAction(type, group, className, title, options) {\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({\n        type: type\n      }, options));\n      create.start(event, shape);\n    }\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n  function createSubprocess(event) {\n    var subProcess = elementFactory.createShape({\n      type: 'bpmn:SubProcess',\n      x: 0,\n      y: 0,\n      isExpanded: true\n    });\n    var startEvent = elementFactory.createShape({\n      type: 'bpmn:StartEvent',\n      x: 40,\n      y: 82,\n      parent: subProcess\n    });\n    create.start(event, [subProcess, startEvent], {\n      hints: {\n        autoSelect: [subProcess]\n      }\n    });\n  }\n  function createParticipant(event) {\n    create.start(event, elementFactory.createParticipantShape());\n  }\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-hand-tool',\n      title: translate('Activate hand tool'),\n      action: {\n        click: function (event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-lasso-tool',\n      title: translate('Activate lasso tool'),\n      action: {\n        click: function (event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'space-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-space-tool',\n      title: translate('Activate create/remove space tool'),\n      action: {\n        click: function (event) {\n          spaceTool.activateSelection(event);\n        }\n      }\n    },\n    'global-connect-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-connection-multi',\n      title: translate('Activate global connect tool'),\n      action: {\n        click: function (event) {\n          globalConnect.start(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.start-event': createAction('bpmn:StartEvent', 'event', 'bpmn-icon-start-event-none', translate('Create start event')),\n    'create.intermediate-event': createAction('bpmn:IntermediateThrowEvent', 'event', 'bpmn-icon-intermediate-event-none', translate('Create intermediate/boundary event')),\n    'create.end-event': createAction('bpmn:EndEvent', 'event', 'bpmn-icon-end-event-none', translate('Create end event')),\n    'create.exclusive-gateway': createAction('bpmn:ExclusiveGateway', 'gateway', 'bpmn-icon-gateway-none', translate('Create gateway')),\n    'create.task': createAction('bpmn:Task', 'activity', 'bpmn-icon-task', translate('Create task')),\n    'create.data-object': createAction('bpmn:DataObjectReference', 'data-object', 'bpmn-icon-data-object', translate('Create data object reference')),\n    'create.data-store': createAction('bpmn:DataStoreReference', 'data-store', 'bpmn-icon-data-store', translate('Create data store reference')),\n    'create.subprocess-expanded': {\n      group: 'activity',\n      className: 'bpmn-icon-subprocess-expanded',\n      title: translate('Create expanded sub-process'),\n      action: {\n        dragstart: createSubprocess,\n        click: createSubprocess\n      }\n    },\n    'create.participant-expanded': {\n      group: 'collaboration',\n      className: 'bpmn-icon-participant',\n      title: translate('Create pool/participant'),\n      action: {\n        dragstart: createParticipant,\n        click: createParticipant\n      }\n    },\n    'create.group': createAction('bpmn:Group', 'artifact', 'bpmn-icon-group', translate('Create group'))\n  });\n  return actions;\n};","map":{"version":3,"names":["assign","PaletteProvider","palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate","_palette","_create","_elementFactory","_spaceTool","_lassoTool","_handTool","_globalConnect","_translate","registerProvider","$inject","prototype","getPaletteEntries","actions","createAction","type","group","className","title","options","createListener","event","shape","createShape","start","action","dragstart","click","createSubprocess","subProcess","x","y","isExpanded","startEvent","parent","hints","autoSelect","createParticipant","createParticipantShape","activateHand","activateSelection","separator"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/palette/PaletteProvider.js"],"sourcesContent":["import {\n  assign\n} from 'min-dash';\n\n/**\n * @typedef {import('diagram-js/lib/features/palette/Palette').default} Palette\n * @typedef {import('diagram-js/lib/features/create/Create').default} Create\n * @typedef {import('diagram-js/lib/core/ElementFactory').default} ElementFactory\n * @typedef {import('../space-tool/BpmnSpaceTool').default} SpaceTool\n * @typedef {import('diagram-js/lib/features/lasso-tool/LassoTool').default} LassoTool\n * @typedef {import('diagram-js/lib/features/hand-tool/HandTool').default} HandTool\n * @typedef {import('diagram-js/lib/features/global-connect/GlobalConnect').default} GlobalConnect\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n *\n * @typedef {import('diagram-js/lib/features/palette/Palette').PaletteEntries} PaletteEntries\n */\n\n/**\n * A palette provider for BPMN 2.0 elements.\n *\n * @param {Palette} palette\n * @param {Create} create\n * @param {ElementFactory} elementFactory\n * @param {SpaceTool} spaceTool\n * @param {LassoTool} lassoTool\n * @param {HandTool} handTool\n * @param {GlobalConnect} globalConnect\n * @param {Translate} translate\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    spaceTool, lassoTool, handTool,\n    globalConnect, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._spaceTool = spaceTool;\n  this._lassoTool = lassoTool;\n  this._handTool = handTool;\n  this._globalConnect = globalConnect;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'spaceTool',\n  'lassoTool',\n  'handTool',\n  'globalConnect',\n  'translate'\n];\n\n/**\n * @return {PaletteEntries}\n */\nPaletteProvider.prototype.getPaletteEntries = function() {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      spaceTool = this._spaceTool,\n      lassoTool = this._lassoTool,\n      handTool = this._handTool,\n      globalConnect = this._globalConnect,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  function createSubprocess(event) {\n    var subProcess = elementFactory.createShape({\n      type: 'bpmn:SubProcess',\n      x: 0,\n      y: 0,\n      isExpanded: true\n    });\n\n    var startEvent = elementFactory.createShape({\n      type: 'bpmn:StartEvent',\n      x: 40,\n      y: 82,\n      parent: subProcess\n    });\n\n    create.start(event, [ subProcess, startEvent ], {\n      hints: {\n        autoSelect: [ subProcess ]\n      }\n    });\n  }\n\n  function createParticipant(event) {\n    create.start(event, elementFactory.createParticipantShape());\n  }\n\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-hand-tool',\n      title: translate('Activate hand tool'),\n      action: {\n        click: function(event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-lasso-tool',\n      title: translate('Activate lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'space-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-space-tool',\n      title: translate('Activate create/remove space tool'),\n      action: {\n        click: function(event) {\n          spaceTool.activateSelection(event);\n        }\n      }\n    },\n    'global-connect-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-connection-multi',\n      title: translate('Activate global connect tool'),\n      action: {\n        click: function(event) {\n          globalConnect.start(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.start-event': createAction(\n      'bpmn:StartEvent', 'event', 'bpmn-icon-start-event-none',\n      translate('Create start event')\n    ),\n    'create.intermediate-event': createAction(\n      'bpmn:IntermediateThrowEvent', 'event', 'bpmn-icon-intermediate-event-none',\n      translate('Create intermediate/boundary event')\n    ),\n    'create.end-event': createAction(\n      'bpmn:EndEvent', 'event', 'bpmn-icon-end-event-none',\n      translate('Create end event')\n    ),\n    'create.exclusive-gateway': createAction(\n      'bpmn:ExclusiveGateway', 'gateway', 'bpmn-icon-gateway-none',\n      translate('Create gateway')\n    ),\n    'create.task': createAction(\n      'bpmn:Task', 'activity', 'bpmn-icon-task',\n      translate('Create task')\n    ),\n    'create.data-object': createAction(\n      'bpmn:DataObjectReference', 'data-object', 'bpmn-icon-data-object',\n      translate('Create data object reference')\n    ),\n    'create.data-store': createAction(\n      'bpmn:DataStoreReference', 'data-store', 'bpmn-icon-data-store',\n      translate('Create data store reference')\n    ),\n    'create.subprocess-expanded': {\n      group: 'activity',\n      className: 'bpmn-icon-subprocess-expanded',\n      title: translate('Create expanded sub-process'),\n      action: {\n        dragstart: createSubprocess,\n        click: createSubprocess\n      }\n    },\n    'create.participant-expanded': {\n      group: 'collaboration',\n      className: 'bpmn-icon-participant',\n      title: translate('Create pool/participant'),\n      action: {\n        dragstart: createParticipant,\n        click: createParticipant\n      }\n    },\n    'create.group': createAction(\n      'bpmn:Group', 'artifact', 'bpmn-icon-group',\n      translate('Create group')\n    ),\n  });\n\n  return actions;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}