{"ast":null,"code":"// pkg/dist-src/is-jwt.js\nvar b64url = \"(?:[a-zA-Z0-9_-]+)\";\nvar sep = \"\\\\.\";\nvar jwtRE = new RegExp(`^${b64url}${sep}${b64url}${sep}${b64url}$`);\nvar isJWT = jwtRE.test.bind(jwtRE);\n\n// pkg/dist-src/auth.js\nasync function auth(token) {\n  const isApp = isJWT(token);\n  const isInstallation = token.startsWith(\"v1.\") || token.startsWith(\"ghs_\");\n  const isUserToServer = token.startsWith(\"ghu_\");\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(route, parameters);\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\"[@octokit/auth-token] Token passed to createTokenAuth is not a string\");\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport { createTokenAuth };","map":{"version":3,"names":["b64url","sep","jwtRE","RegExp","isJWT","test","bind","auth","token","isApp","isInstallation","startsWith","isUserToServer","tokenType","type","withAuthorizationPrefix","split","length","hook","request","route","parameters","endpoint","merge","headers","authorization","createTokenAuth","createTokenAuth2","Error","replace","Object","assign"],"sources":["/home/runner/work/sgex/sgex/node_modules/@octokit/auth-token/dist-bundle/index.js"],"sourcesContent":["// pkg/dist-src/is-jwt.js\nvar b64url = \"(?:[a-zA-Z0-9_-]+)\";\nvar sep = \"\\\\.\";\nvar jwtRE = new RegExp(`^${b64url}${sep}${b64url}${sep}${b64url}$`);\nvar isJWT = jwtRE.test.bind(jwtRE);\n\n// pkg/dist-src/auth.js\nasync function auth(token) {\n  const isApp = isJWT(token);\n  const isInstallation = token.startsWith(\"v1.\") || token.startsWith(\"ghs_\");\n  const isUserToServer = token.startsWith(\"ghu_\");\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\n      \"[@octokit/auth-token] Token passed to createTokenAuth is not a string\"\n    );\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport {\n  createTokenAuth\n};\n"],"mappings":"AAAA;AACA,IAAIA,MAAM,GAAG,oBAAoB;AACjC,IAAIC,GAAG,GAAG,KAAK;AACf,IAAIC,KAAK,GAAG,IAAIC,MAAM,CAAC,IAAIH,MAAM,GAAGC,GAAG,GAAGD,MAAM,GAAGC,GAAG,GAAGD,MAAM,GAAG,CAAC;AACnE,IAAII,KAAK,GAAGF,KAAK,CAACG,IAAI,CAACC,IAAI,CAACJ,KAAK,CAAC;;AAElC;AACA,eAAeK,IAAIA,CAACC,KAAK,EAAE;EACzB,MAAMC,KAAK,GAAGL,KAAK,CAACI,KAAK,CAAC;EAC1B,MAAME,cAAc,GAAGF,KAAK,CAACG,UAAU,CAAC,KAAK,CAAC,IAAIH,KAAK,CAACG,UAAU,CAAC,MAAM,CAAC;EAC1E,MAAMC,cAAc,GAAGJ,KAAK,CAACG,UAAU,CAAC,MAAM,CAAC;EAC/C,MAAME,SAAS,GAAGJ,KAAK,GAAG,KAAK,GAAGC,cAAc,GAAG,cAAc,GAAGE,cAAc,GAAG,gBAAgB,GAAG,OAAO;EAC/G,OAAO;IACLE,IAAI,EAAE,OAAO;IACbN,KAAK;IACLK;EACF,CAAC;AACH;;AAEA;AACA,SAASE,uBAAuBA,CAACP,KAAK,EAAE;EACtC,IAAIA,KAAK,CAACQ,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,KAAK,CAAC,EAAE;IAClC,OAAO,UAAUT,KAAK,EAAE;EAC1B;EACA,OAAO,SAASA,KAAK,EAAE;AACzB;;AAEA;AACA,eAAeU,IAAIA,CAACV,KAAK,EAAEW,OAAO,EAAEC,KAAK,EAAEC,UAAU,EAAE;EACrD,MAAMC,QAAQ,GAAGH,OAAO,CAACG,QAAQ,CAACC,KAAK,CACrCH,KAAK,EACLC,UACF,CAAC;EACDC,QAAQ,CAACE,OAAO,CAACC,aAAa,GAAGV,uBAAuB,CAACP,KAAK,CAAC;EAC/D,OAAOW,OAAO,CAACG,QAAQ,CAAC;AAC1B;;AAEA;AACA,IAAII,eAAe,GAAG,SAASC,gBAAgBA,CAACnB,KAAK,EAAE;EACrD,IAAI,CAACA,KAAK,EAAE;IACV,MAAM,IAAIoB,KAAK,CAAC,0DAA0D,CAAC;EAC7E;EACA,IAAI,OAAOpB,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIoB,KAAK,CACb,uEACF,CAAC;EACH;EACApB,KAAK,GAAGA,KAAK,CAACqB,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC;EAC/C,OAAOC,MAAM,CAACC,MAAM,CAACxB,IAAI,CAACD,IAAI,CAAC,IAAI,EAAEE,KAAK,CAAC,EAAE;IAC3CU,IAAI,EAAEA,IAAI,CAACZ,IAAI,CAAC,IAAI,EAAEE,KAAK;EAC7B,CAAC,CAAC;AACJ,CAAC;AACD,SACEkB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}