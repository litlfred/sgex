{"ast":null,"code":"import React,{useState}from'react';import'./WorkflowStatus.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WorkflowStatus=_ref=>{let{workflowStatus,branchName,onTriggerWorkflow,isAuthenticated,isLoading=false}=_ref;const[isTriggering,setIsTriggering]=useState(false);const handleTriggerWorkflow=async()=>{if(!isAuthenticated||isTriggering||!onTriggerWorkflow)return;setIsTriggering(true);try{await onTriggerWorkflow(branchName);}finally{setIsTriggering(false);}};const formatDate=date=>{if(!date)return'';return new Intl.DateTimeFormat('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'}).format(date);};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-status-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workflow-status-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"workflow-status-title\",children:\"\\u2699\\uFE0F Build Status\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"workflow-loading\",children:\"Loading workflow status...\"})]});}if(!workflowStatus){return/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-status-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workflow-status-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"workflow-status-title\",children:\"\\u2699\\uFE0F Build Status\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"workflow-error\",children:\"Unable to load workflow status\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-status-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workflow-status-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"workflow-status-title\",children:\"\\u2699\\uFE0F Build Status\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-status-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-status-info\",children:[workflowStatus.url?/*#__PURE__*/_jsxs(\"a\",{href:workflowStatus.url,target:\"_blank\",rel:\"noopener noreferrer\",className:`workflow-status-badge ${workflowStatus.badgeClass}`,children:[/*#__PURE__*/_jsx(\"span\",{children:workflowStatus.icon}),workflowStatus.displayStatus]}):/*#__PURE__*/_jsxs(\"span\",{className:`workflow-status-badge ${workflowStatus.badgeClass}`,children:[/*#__PURE__*/_jsx(\"span\",{children:workflowStatus.icon}),workflowStatus.displayStatus]}),workflowStatus.createdAt&&/*#__PURE__*/_jsx(\"span\",{className:\"workflow-status-details\",children:formatDate(workflowStatus.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-actions\",children:[isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{onClick:handleTriggerWorkflow,disabled:isTriggering,className:\"workflow-trigger-btn\",title:`Trigger build for ${branchName}`,children:isTriggering?/*#__PURE__*/_jsx(_Fragment,{children:\"\\u23F3 Starting...\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"\\uD83D\\uDD04 Trigger Build\"})}),workflowStatus.url&&/*#__PURE__*/_jsx(\"a\",{href:workflowStatus.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"workflow-link\",children:\"\\uD83D\\uDCCB View Log\"})]})]})]});};export default WorkflowStatus;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WorkflowStatus","_ref","workflowStatus","branchName","onTriggerWorkflow","isAuthenticated","isLoading","isTriggering","setIsTriggering","handleTriggerWorkflow","formatDate","date","Intl","DateTimeFormat","month","day","hour","minute","format","className","children","url","href","target","rel","badgeClass","icon","displayStatus","createdAt","onClick","disabled","title"],"sources":["/home/runner/work/sgex/sgex/src/components/WorkflowStatus.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './WorkflowStatus.css';\n\nconst WorkflowStatus = ({ \n  workflowStatus, \n  branchName, \n  onTriggerWorkflow, \n  isAuthenticated, \n  isLoading = false \n}) => {\n  const [isTriggering, setIsTriggering] = useState(false);\n\n  const handleTriggerWorkflow = async () => {\n    if (!isAuthenticated || isTriggering || !onTriggerWorkflow) return;\n    \n    setIsTriggering(true);\n    try {\n      await onTriggerWorkflow(branchName);\n    } finally {\n      setIsTriggering(false);\n    }\n  };\n\n  const formatDate = (date) => {\n    if (!date) return '';\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"workflow-status-section\">\n        <div className=\"workflow-status-header\">\n          <h4 className=\"workflow-status-title\">‚öôÔ∏è Build Status</h4>\n        </div>\n        <div className=\"workflow-loading\">Loading workflow status...</div>\n      </div>\n    );\n  }\n\n  if (!workflowStatus) {\n    return (\n      <div className=\"workflow-status-section\">\n        <div className=\"workflow-status-header\">\n          <h4 className=\"workflow-status-title\">‚öôÔ∏è Build Status</h4>\n        </div>\n        <div className=\"workflow-error\">Unable to load workflow status</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"workflow-status-section\">\n      <div className=\"workflow-status-header\">\n        <h4 className=\"workflow-status-title\">‚öôÔ∏è Build Status</h4>\n      </div>\n      \n      <div className=\"workflow-status-container\">\n        <div className=\"workflow-status-info\">\n          {workflowStatus.url ? (\n            <a \n              href={workflowStatus.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className={`workflow-status-badge ${workflowStatus.badgeClass}`}\n            >\n              <span>{workflowStatus.icon}</span>\n              {workflowStatus.displayStatus}\n            </a>\n          ) : (\n            <span className={`workflow-status-badge ${workflowStatus.badgeClass}`}>\n              <span>{workflowStatus.icon}</span>\n              {workflowStatus.displayStatus}\n            </span>\n          )}\n          \n          {workflowStatus.createdAt && (\n            <span className=\"workflow-status-details\">\n              {formatDate(workflowStatus.createdAt)}\n            </span>\n          )}\n        </div>\n        \n        <div className=\"workflow-actions\">\n          {isAuthenticated && (\n            <button\n              onClick={handleTriggerWorkflow}\n              disabled={isTriggering}\n              className=\"workflow-trigger-btn\"\n              title={`Trigger build for ${branchName}`}\n            >\n              {isTriggering ? (\n                <>‚è≥ Starting...</>\n              ) : (\n                <>üîÑ Trigger Build</>\n              )}\n            </button>\n          )}\n          \n          {workflowStatus.url && (\n            <a\n              href={workflowStatus.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"workflow-link\"\n            >\n              üìã View Log\n            </a>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkflowStatus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}