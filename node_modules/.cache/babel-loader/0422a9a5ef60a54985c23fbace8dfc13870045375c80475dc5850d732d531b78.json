{"ast":null,"code":"import { assign } from 'min-dash';\nimport { getLabel } from '../../util/LabelUtil';\nimport { is } from '../../util/ModelUtil';\nimport { isAny } from '../modeling/util/ModelingUtil';\nimport { isExpanded, isHorizontal } from '../../util/DiUtil';\nimport { getExternalLabelMid, isLabelExternal, hasExternalLabel, isLabel } from '../../util/LabelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../modeling/BpmnFactory').default} BpmnFactory\n * @typedef {import('diagram-js/lib/core/Canvas').default} Canvas\n * @typedef {import('diagram-js-direct-editing/lib/DirectEditing').default} DirectEditing\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('diagram-js/lib/features/resize/ResizeHandles').default} ResizeHandles\n * @typedef {import('../../draw/TextRenderer').default} TextRenderer\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef { {\n *   bounds: {\n *     x: number;\n *     y: number;\n *     width: number;\n *     height: number;\n *     minWidth?: number;\n *     minHeight?: number;\n *   };\n *   style: Object;\n * } } DirectEditingContext\n */\n\nvar HIGH_PRIORITY = 2000;\n\n/**\n * @param {EventBus} eventBus\n * @param {BpmnFactory} bpmnFactory\n * @param {Canvas} canvas\n * @param {DirectEditing} directEditing\n * @param {Modeling} modeling\n * @param {ResizeHandles} resizeHandles\n * @param {TextRenderer} textRenderer\n */\nexport default function LabelEditingProvider(eventBus, bpmnFactory, canvas, directEditing, modeling, resizeHandles, textRenderer) {\n  this._bpmnFactory = bpmnFactory;\n  this._canvas = canvas;\n  this._modeling = modeling;\n  this._textRenderer = textRenderer;\n  directEditing.registerProvider(this);\n\n  // listen to dblclick on non-root elements\n  eventBus.on('element.dblclick', function (event) {\n    activateDirectEdit(event.element, true);\n  });\n\n  // complete on followup canvas operation\n  eventBus.on(['autoPlace.start', 'canvas.viewbox.changing', 'drag.init', 'element.mousedown', 'popupMenu.open', 'root.set', 'selection.changed'], function () {\n    if (directEditing.isActive()) {\n      directEditing.complete();\n    }\n  });\n  eventBus.on(['shape.remove', 'connection.remove'], HIGH_PRIORITY, function (event) {\n    if (directEditing.isActive(event.element)) {\n      directEditing.cancel();\n    }\n  });\n\n  // cancel on command stack changes\n  eventBus.on(['commandStack.changed'], function (e) {\n    if (directEditing.isActive()) {\n      directEditing.cancel();\n    }\n  });\n  eventBus.on('directEditing.activate', function (event) {\n    resizeHandles.removeResizers();\n  });\n  eventBus.on('create.end', 500, function (event) {\n    var context = event.context,\n      element = context.shape,\n      canExecute = event.context.canExecute,\n      isTouch = event.isTouch;\n\n    // TODO(nikku): we need to find a way to support the\n    // direct editing on mobile devices; right now this will\n    // break for desworkflowediting on mobile devices\n    // as it breaks the user interaction workflow\n\n    // TODO(nikku): we should temporarily focus the edited element\n    // here and release the focused viewport after the direct edit\n    // operation is finished\n    if (isTouch) {\n      return;\n    }\n    if (!canExecute) {\n      return;\n    }\n    if (context.hints && context.hints.createElementsBehavior === false) {\n      return;\n    }\n    activateDirectEdit(element);\n  });\n  eventBus.on('autoPlace.end', 500, function (event) {\n    activateDirectEdit(event.shape);\n  });\n  function activateDirectEdit(element, force) {\n    if (force || isAny(element, ['bpmn:Task', 'bpmn:TextAnnotation', 'bpmn:Participant']) || isCollapsedSubProcess(element)) {\n      directEditing.activate(element);\n    }\n  }\n}\nLabelEditingProvider.$inject = ['eventBus', 'bpmnFactory', 'canvas', 'directEditing', 'modeling', 'resizeHandles', 'textRenderer'];\n\n/**\n * Activate direct editing for activities and text annotations.\n *\n * @param {Element} element\n *\n * @return { {\n *   text: string;\n *   options?: {\n *     autoResize?: boolean;\n *     centerVertically?: boolean;\n *     resizable?: boolean;\n *   }\n * } & DirectEditingContext }\n */\nLabelEditingProvider.prototype.activate = function (element) {\n  // text\n  var text = getLabel(element);\n  if (text === undefined) {\n    return;\n  }\n  var context = {\n    text: text\n  };\n\n  // bounds\n  var bounds = this.getEditingBBox(element);\n  assign(context, bounds);\n  var options = {};\n  var style = context.style || {};\n\n  // Remove background and border\n  assign(style, {\n    backgroundColor: null,\n    border: null\n  });\n\n  // tasks\n  if (isAny(element, ['bpmn:Task', 'bpmn:Participant', 'bpmn:Lane', 'bpmn:CallActivity']) || isCollapsedSubProcess(element)) {\n    assign(options, {\n      centerVertically: true\n    });\n  }\n\n  // external labels\n  if (isLabelExternal(element)) {\n    assign(options, {\n      autoResize: true\n    });\n\n    // keep background and border for external labels\n    assign(style, {\n      backgroundColor: '#ffffff',\n      border: '1px solid #ccc'\n    });\n  }\n\n  // text annotations\n  if (is(element, 'bpmn:TextAnnotation')) {\n    assign(options, {\n      resizable: true,\n      autoResize: true\n    });\n\n    // keep background and border for text annotations\n    assign(style, {\n      backgroundColor: '#ffffff',\n      border: '1px solid #ccc'\n    });\n  }\n  assign(context, {\n    options: options,\n    style: style\n  });\n  return context;\n};\n\n/**\n * Get the editing bounding box based on the element's size and position.\n *\n * @param {Element} element\n *\n * @return {DirectEditingContext}\n */\nLabelEditingProvider.prototype.getEditingBBox = function (element) {\n  var canvas = this._canvas;\n  var target = element.label || element;\n  var bbox = canvas.getAbsoluteBBox(target);\n  var mid = {\n    x: bbox.x + bbox.width / 2,\n    y: bbox.y + bbox.height / 2\n  };\n\n  // default position\n  var bounds = {\n    x: bbox.x,\n    y: bbox.y\n  };\n  var zoom = canvas.zoom();\n  var defaultStyle = this._textRenderer.getDefaultStyle(),\n    externalStyle = this._textRenderer.getExternalStyle();\n\n  // take zoom into account\n  var externalFontSize = externalStyle.fontSize * zoom,\n    externalLineHeight = externalStyle.lineHeight,\n    defaultFontSize = defaultStyle.fontSize * zoom,\n    defaultLineHeight = defaultStyle.lineHeight;\n  var style = {\n    fontFamily: this._textRenderer.getDefaultStyle().fontFamily,\n    fontWeight: this._textRenderer.getDefaultStyle().fontWeight\n  };\n\n  // adjust for expanded pools AND lanes\n  if (is(element, 'bpmn:Lane') || isExpandedPool(element)) {\n    var isHorizontalLane = isHorizontal(element);\n    var laneBounds = isHorizontalLane ? {\n      width: bbox.height,\n      height: 30 * zoom,\n      x: bbox.x - bbox.height / 2 + 15 * zoom,\n      y: mid.y - 30 * zoom / 2\n    } : {\n      width: bbox.width,\n      height: 30 * zoom\n    };\n    assign(bounds, laneBounds);\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 5 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px',\n      transform: isHorizontalLane ? 'rotate(-90deg)' : null\n    });\n  }\n\n  // internal labels for collapsed participants\n  if (isCollapsedPool(element)) {\n    var isHorizontalPool = isHorizontal(element);\n    var poolBounds = isHorizontalPool ? {\n      width: bbox.width,\n      height: bbox.height\n    } : {\n      width: bbox.height,\n      height: bbox.width,\n      x: mid.x - bbox.height / 2,\n      y: mid.y - bbox.width / 2\n    };\n    assign(bounds, poolBounds);\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 5 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px',\n      transform: isHorizontalPool ? null : 'rotate(-90deg)'\n    });\n  }\n\n  // internal labels for tasks and collapsed call activities\n  // and sub processes\n  if (isAny(element, ['bpmn:Task', 'bpmn:CallActivity']) || isCollapsedSubProcess(element)) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height\n    });\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 5 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px'\n    });\n  }\n\n  // internal labels for expanded sub processes\n  if (isExpandedSubProcess(element)) {\n    assign(bounds, {\n      width: bbox.width,\n      x: bbox.x\n    });\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 5 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px'\n    });\n  }\n  var width = 90 * zoom,\n    paddingTop = 7 * zoom,\n    paddingBottom = 4 * zoom;\n\n  // external labels for events, data elements, gateways, groups and connections\n  if (target.labelTarget) {\n    assign(bounds, {\n      width: width,\n      height: bbox.height + paddingTop + paddingBottom,\n      x: mid.x - width / 2,\n      y: bbox.y - paddingTop\n    });\n    assign(style, {\n      fontSize: externalFontSize + 'px',\n      lineHeight: externalLineHeight,\n      paddingTop: paddingTop + 'px',\n      paddingBottom: paddingBottom + 'px'\n    });\n  }\n\n  // external label not yet created\n  if (isLabelExternal(target) && !hasExternalLabel(target) && !isLabel(target)) {\n    var externalLabelMid = getExternalLabelMid(element);\n    var absoluteBBox = canvas.getAbsoluteBBox({\n      x: externalLabelMid.x,\n      y: externalLabelMid.y,\n      width: 0,\n      height: 0\n    });\n    var height = externalFontSize + paddingTop + paddingBottom;\n    assign(bounds, {\n      width: width,\n      height: height,\n      x: absoluteBBox.x - width / 2,\n      y: absoluteBBox.y - height / 2\n    });\n    assign(style, {\n      fontSize: externalFontSize + 'px',\n      lineHeight: externalLineHeight,\n      paddingTop: paddingTop + 'px',\n      paddingBottom: paddingBottom + 'px'\n    });\n  }\n\n  // text annotations\n  if (is(element, 'bpmn:TextAnnotation')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height,\n      minWidth: 30 * zoom,\n      minHeight: 10 * zoom\n    });\n    assign(style, {\n      textAlign: 'left',\n      paddingTop: 5 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 7 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px',\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight\n    });\n  }\n  return {\n    bounds: bounds,\n    style: style\n  };\n};\nLabelEditingProvider.prototype.update = function (element, newLabel, activeContextText, bounds) {\n  var newBounds, bbox;\n  if (is(element, 'bpmn:TextAnnotation')) {\n    bbox = this._canvas.getAbsoluteBBox(element);\n    newBounds = {\n      x: element.x,\n      y: element.y,\n      width: element.width / bbox.width * bounds.width,\n      height: element.height / bbox.height * bounds.height\n    };\n  }\n  if (isEmptyText(newLabel)) {\n    newLabel = null;\n  }\n  this._modeling.updateLabel(element, newLabel, newBounds);\n};\n\n// helpers //////////\n\nfunction isCollapsedSubProcess(element) {\n  return is(element, 'bpmn:SubProcess') && !isExpanded(element);\n}\nfunction isExpandedSubProcess(element) {\n  return is(element, 'bpmn:SubProcess') && isExpanded(element);\n}\nfunction isCollapsedPool(element) {\n  return is(element, 'bpmn:Participant') && !isExpanded(element);\n}\nfunction isExpandedPool(element) {\n  return is(element, 'bpmn:Participant') && isExpanded(element);\n}\nfunction isEmptyText(label) {\n  return !label || !label.trim();\n}","map":{"version":3,"names":["assign","getLabel","is","isAny","isExpanded","isHorizontal","getExternalLabelMid","isLabelExternal","hasExternalLabel","isLabel","HIGH_PRIORITY","LabelEditingProvider","eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer","_bpmnFactory","_canvas","_modeling","_textRenderer","registerProvider","on","event","activateDirectEdit","element","isActive","complete","cancel","e","removeResizers","context","shape","canExecute","isTouch","hints","createElementsBehavior","force","isCollapsedSubProcess","activate","$inject","prototype","text","undefined","bounds","getEditingBBox","options","style","backgroundColor","border","centerVertically","autoResize","resizable","target","label","bbox","getAbsoluteBBox","mid","x","width","y","height","zoom","defaultStyle","getDefaultStyle","externalStyle","getExternalStyle","externalFontSize","fontSize","externalLineHeight","lineHeight","defaultFontSize","defaultLineHeight","fontFamily","fontWeight","isExpandedPool","isHorizontalLane","laneBounds","paddingTop","paddingBottom","paddingLeft","paddingRight","transform","isCollapsedPool","isHorizontalPool","poolBounds","isExpandedSubProcess","labelTarget","externalLabelMid","absoluteBBox","minWidth","minHeight","textAlign","update","newLabel","activeContextText","newBounds","isEmptyText","updateLabel","trim"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/label-editing/LabelEditingProvider.js"],"sourcesContent":["import {\n  assign\n} from 'min-dash';\n\nimport {\n  getLabel\n} from '../../util/LabelUtil';\n\nimport {\n  is\n} from '../../util/ModelUtil';\n\nimport { isAny } from '../modeling/util/ModelingUtil';\n\nimport {\n  isExpanded,\n  isHorizontal\n} from '../../util/DiUtil';\n\nimport {\n  getExternalLabelMid,\n  isLabelExternal,\n  hasExternalLabel,\n  isLabel\n} from '../../util/LabelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../modeling/BpmnFactory').default} BpmnFactory\n * @typedef {import('diagram-js/lib/core/Canvas').default} Canvas\n * @typedef {import('diagram-js-direct-editing/lib/DirectEditing').default} DirectEditing\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('diagram-js/lib/features/resize/ResizeHandles').default} ResizeHandles\n * @typedef {import('../../draw/TextRenderer').default} TextRenderer\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef { {\n *   bounds: {\n *     x: number;\n *     y: number;\n *     width: number;\n *     height: number;\n *     minWidth?: number;\n *     minHeight?: number;\n *   };\n *   style: Object;\n * } } DirectEditingContext\n */\n\nvar HIGH_PRIORITY = 2000;\n\n/**\n * @param {EventBus} eventBus\n * @param {BpmnFactory} bpmnFactory\n * @param {Canvas} canvas\n * @param {DirectEditing} directEditing\n * @param {Modeling} modeling\n * @param {ResizeHandles} resizeHandles\n * @param {TextRenderer} textRenderer\n */\nexport default function LabelEditingProvider(\n    eventBus, bpmnFactory, canvas, directEditing,\n    modeling, resizeHandles, textRenderer) {\n\n  this._bpmnFactory = bpmnFactory;\n  this._canvas = canvas;\n  this._modeling = modeling;\n  this._textRenderer = textRenderer;\n\n  directEditing.registerProvider(this);\n\n  // listen to dblclick on non-root elements\n  eventBus.on('element.dblclick', function(event) {\n    activateDirectEdit(event.element, true);\n  });\n\n  // complete on followup canvas operation\n  eventBus.on([\n    'autoPlace.start',\n    'canvas.viewbox.changing',\n    'drag.init',\n    'element.mousedown',\n    'popupMenu.open',\n    'root.set',\n    'selection.changed'\n  ], function() {\n    if (directEditing.isActive()) {\n      directEditing.complete();\n    }\n  });\n\n  eventBus.on([\n    'shape.remove',\n    'connection.remove'\n  ], HIGH_PRIORITY, function(event) {\n\n    if (directEditing.isActive(event.element)) {\n      directEditing.cancel();\n    }\n  });\n\n  // cancel on command stack changes\n  eventBus.on([ 'commandStack.changed' ], function(e) {\n    if (directEditing.isActive()) {\n      directEditing.cancel();\n    }\n  });\n\n\n  eventBus.on('directEditing.activate', function(event) {\n    resizeHandles.removeResizers();\n  });\n\n  eventBus.on('create.end', 500, function(event) {\n\n    var context = event.context,\n        element = context.shape,\n        canExecute = event.context.canExecute,\n        isTouch = event.isTouch;\n\n    // TODO(nikku): we need to find a way to support the\n    // direct editing on mobile devices; right now this will\n    // break for desworkflowediting on mobile devices\n    // as it breaks the user interaction workflow\n\n    // TODO(nikku): we should temporarily focus the edited element\n    // here and release the focused viewport after the direct edit\n    // operation is finished\n    if (isTouch) {\n      return;\n    }\n\n    if (!canExecute) {\n      return;\n    }\n\n    if (context.hints && context.hints.createElementsBehavior === false) {\n      return;\n    }\n\n    activateDirectEdit(element);\n  });\n\n  eventBus.on('autoPlace.end', 500, function(event) {\n    activateDirectEdit(event.shape);\n  });\n\n\n  function activateDirectEdit(element, force) {\n    if (force ||\n        isAny(element, [ 'bpmn:Task', 'bpmn:TextAnnotation', 'bpmn:Participant' ]) ||\n        isCollapsedSubProcess(element)) {\n\n      directEditing.activate(element);\n    }\n  }\n\n}\n\nLabelEditingProvider.$inject = [\n  'eventBus',\n  'bpmnFactory',\n  'canvas',\n  'directEditing',\n  'modeling',\n  'resizeHandles',\n  'textRenderer'\n];\n\n\n/**\n * Activate direct editing for activities and text annotations.\n *\n * @param {Element} element\n *\n * @return { {\n *   text: string;\n *   options?: {\n *     autoResize?: boolean;\n *     centerVertically?: boolean;\n *     resizable?: boolean;\n *   }\n * } & DirectEditingContext }\n */\nLabelEditingProvider.prototype.activate = function(element) {\n\n  // text\n  var text = getLabel(element);\n\n  if (text === undefined) {\n    return;\n  }\n\n  var context = {\n    text: text\n  };\n\n  // bounds\n  var bounds = this.getEditingBBox(element);\n\n  assign(context, bounds);\n\n  var options = {};\n  var style = context.style || {};\n\n  // Remove background and border\n  assign(style, {\n    backgroundColor: null,\n    border: null\n  });\n\n  // tasks\n  if (\n    isAny(element, [\n      'bpmn:Task',\n      'bpmn:Participant',\n      'bpmn:Lane',\n      'bpmn:CallActivity'\n    ]) ||\n    isCollapsedSubProcess(element)\n  ) {\n    assign(options, {\n      centerVertically: true\n    });\n  }\n\n  // external labels\n  if (isLabelExternal(element)) {\n    assign(options, {\n      autoResize: true\n    });\n\n    // keep background and border for external labels\n    assign(style, {\n      backgroundColor: '#ffffff',\n      border: '1px solid #ccc'\n    });\n  }\n\n  // text annotations\n  if (is(element, 'bpmn:TextAnnotation')) {\n    assign(options, {\n      resizable: true,\n      autoResize: true\n    });\n\n    // keep background and border for text annotations\n    assign(style, {\n      backgroundColor: '#ffffff',\n      border: '1px solid #ccc'\n    });\n  }\n\n  assign(context, {\n    options: options,\n    style: style\n  });\n\n  return context;\n};\n\n\n/**\n * Get the editing bounding box based on the element's size and position.\n *\n * @param {Element} element\n *\n * @return {DirectEditingContext}\n */\nLabelEditingProvider.prototype.getEditingBBox = function(element) {\n  var canvas = this._canvas;\n\n  var target = element.label || element;\n\n  var bbox = canvas.getAbsoluteBBox(target);\n\n  var mid = {\n    x: bbox.x + bbox.width / 2,\n    y: bbox.y + bbox.height / 2\n  };\n\n  // default position\n  var bounds = { x: bbox.x, y: bbox.y };\n\n  var zoom = canvas.zoom();\n\n  var defaultStyle = this._textRenderer.getDefaultStyle(),\n      externalStyle = this._textRenderer.getExternalStyle();\n\n  // take zoom into account\n  var externalFontSize = externalStyle.fontSize * zoom,\n      externalLineHeight = externalStyle.lineHeight,\n      defaultFontSize = defaultStyle.fontSize * zoom,\n      defaultLineHeight = defaultStyle.lineHeight;\n\n  var style = {\n    fontFamily: this._textRenderer.getDefaultStyle().fontFamily,\n    fontWeight: this._textRenderer.getDefaultStyle().fontWeight\n  };\n\n  // adjust for expanded pools AND lanes\n  if (is(element, 'bpmn:Lane') || isExpandedPool(element)) {\n    var isHorizontalLane = isHorizontal(element);\n\n    var laneBounds = isHorizontalLane ? {\n      width: bbox.height,\n      height: 30 * zoom,\n      x: bbox.x - bbox.height / 2 + (15 * zoom),\n      y: mid.y - (30 * zoom) / 2\n    } : {\n      width: bbox.width,\n      height: 30 * zoom\n    };\n\n    assign(bounds, laneBounds);\n\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: (7 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (5 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px',\n      transform: isHorizontalLane ? 'rotate(-90deg)' : null\n    });\n  }\n\n\n  // internal labels for collapsed participants\n  if (isCollapsedPool(element)) {\n    var isHorizontalPool = isHorizontal(element);\n\n    var poolBounds = isHorizontalPool ? {\n      width: bbox.width,\n      height: bbox.height\n    } : {\n      width: bbox.height,\n      height: bbox.width,\n      x: mid.x - bbox.height / 2,\n      y: mid.y - bbox.width / 2\n    };\n\n    assign(bounds, poolBounds);\n\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: (7 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (5 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px',\n      transform: isHorizontalPool ? null : 'rotate(-90deg)'\n    });\n  }\n\n\n  // internal labels for tasks and collapsed call activities\n  // and sub processes\n  if (isAny(element, [ 'bpmn:Task', 'bpmn:CallActivity' ]) ||\n      isCollapsedSubProcess(element)) {\n\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height\n    });\n\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: (7 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (5 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px'\n    });\n  }\n\n\n  // internal labels for expanded sub processes\n  if (isExpandedSubProcess(element)) {\n    assign(bounds, {\n      width: bbox.width,\n      x: bbox.x\n    });\n\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: (7 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (5 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px'\n    });\n  }\n\n  var width = 90 * zoom,\n      paddingTop = 7 * zoom,\n      paddingBottom = 4 * zoom;\n\n  // external labels for events, data elements, gateways, groups and connections\n  if (target.labelTarget) {\n    assign(bounds, {\n      width: width,\n      height: bbox.height + paddingTop + paddingBottom,\n      x: mid.x - width / 2,\n      y: bbox.y - paddingTop\n    });\n\n    assign(style, {\n      fontSize: externalFontSize + 'px',\n      lineHeight: externalLineHeight,\n      paddingTop: paddingTop + 'px',\n      paddingBottom: paddingBottom + 'px'\n    });\n  }\n\n  // external label not yet created\n  if (isLabelExternal(target)\n      && !hasExternalLabel(target)\n      && !isLabel(target)) {\n\n    var externalLabelMid = getExternalLabelMid(element);\n\n    var absoluteBBox = canvas.getAbsoluteBBox({\n      x: externalLabelMid.x,\n      y: externalLabelMid.y,\n      width: 0,\n      height: 0\n    });\n\n    var height = externalFontSize + paddingTop + paddingBottom;\n\n    assign(bounds, {\n      width: width,\n      height: height,\n      x: absoluteBBox.x - width / 2,\n      y: absoluteBBox.y - height / 2\n    });\n\n    assign(style, {\n      fontSize: externalFontSize + 'px',\n      lineHeight: externalLineHeight,\n      paddingTop: paddingTop + 'px',\n      paddingBottom: paddingBottom + 'px'\n    });\n  }\n\n  // text annotations\n  if (is(element, 'bpmn:TextAnnotation')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height,\n      minWidth: 30 * zoom,\n      minHeight: 10 * zoom\n    });\n\n    assign(style, {\n      textAlign: 'left',\n      paddingTop: (5 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (7 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px',\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight\n    });\n  }\n\n  return { bounds: bounds, style: style };\n};\n\n\nLabelEditingProvider.prototype.update = function(\n    element, newLabel,\n    activeContextText, bounds) {\n\n  var newBounds,\n      bbox;\n\n  if (is(element, 'bpmn:TextAnnotation')) {\n\n    bbox = this._canvas.getAbsoluteBBox(element);\n\n    newBounds = {\n      x: element.x,\n      y: element.y,\n      width: element.width / bbox.width * bounds.width,\n      height: element.height / bbox.height * bounds.height\n    };\n  }\n\n  if (isEmptyText(newLabel)) {\n    newLabel = null;\n  }\n\n  this._modeling.updateLabel(element, newLabel, newBounds);\n};\n\n\n\n// helpers //////////\n\nfunction isCollapsedSubProcess(element) {\n  return is(element, 'bpmn:SubProcess') && !isExpanded(element);\n}\n\nfunction isExpandedSubProcess(element) {\n  return is(element, 'bpmn:SubProcess') && isExpanded(element);\n}\n\nfunction isCollapsedPool(element) {\n  return is(element, 'bpmn:Participant') && !isExpanded(element);\n}\n\nfunction isExpandedPool(element) {\n  return is(element, 'bpmn:Participant') && isExpanded(element);\n}\n\nfunction isEmptyText(label) {\n  return !label || !label.trim();\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}