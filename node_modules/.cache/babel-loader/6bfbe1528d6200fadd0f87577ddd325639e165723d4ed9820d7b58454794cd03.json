{"ast":null,"code":"import { isString, assign, forEach } from 'min-dash';\nimport { assignStyle, domify, attr as domAttr, classes as domClasses, remove as domRemove, delegate as domDelegate } from 'min-dom';\nimport Ids from '../../util/IdGenerator';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n *\n * @typedef { {\n *   html: string | HTMLElement;\n *   position: RectTRBL;\n *   show?: {\n *     minZoom?: number;\n *     maxZoom?: number;\n *   };\n *   timeout?: number;\n * } } Tooltip\n */\n\n// document wide unique tooltip ids\nvar ids = new Ids('tt');\nfunction createRoot(parentNode) {\n  var root = domify('<div class=\"djs-tooltip-container\" />');\n  assignStyle(root, {\n    position: 'absolute',\n    width: '0',\n    height: '0'\n  });\n  parentNode.insertBefore(root, parentNode.firstChild);\n  return root;\n}\nfunction setPosition(el, x, y) {\n  assignStyle(el, {\n    left: x + 'px',\n    top: y + 'px'\n  });\n}\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\nvar tooltipClass = 'djs-tooltip',\n  tooltipSelector = '.' + tooltipClass;\n\n/**\n * A service that allows users to render tool tips on the diagram.\n *\n * The tooltip service will take care of updating the tooltip positioning\n * during navigation + zooming.\n *\n * @example\n *\n * ```javascript\n *\n * // add a pink badge on the top left of the shape\n * tooltips.add({\n *   position: {\n *     x: 50,\n *     y: 100\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or with optional life span\n * tooltips.add({\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>',\n *   ttl: 2000\n * });\n *\n * // remove a tool tip\n * var id = tooltips.add(...);\n *\n * tooltips.remove(id);\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Tooltips(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._ids = ids;\n  this._tooltipDefaults = {\n    show: {\n      minZoom: 0.7,\n      maxZoom: 5.0\n    }\n  };\n\n  /**\n   * @type {Record<string, Tooltip>}\n   */\n  this._tooltips = {};\n\n  // root html element for all tooltips\n  this._tooltipRoot = createRoot(canvas.getContainer());\n  var self = this;\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mousedown', function (event) {\n    event.stopPropagation();\n  });\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseover', function (event) {\n    self.trigger('mouseover', event);\n  });\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseout', function (event) {\n    self.trigger('mouseout', event);\n  });\n  this._init();\n}\nTooltips.$inject = ['eventBus', 'canvas'];\n\n/**\n * Adds an HTML tooltip to the diagram.\n *\n * @param {Tooltip} tooltip\n *\n * @return {string} ID of the tooltip.\n */\nTooltips.prototype.add = function (tooltip) {\n  if (!tooltip.position) {\n    throw new Error('must specifiy tooltip position');\n  }\n  if (!tooltip.html) {\n    throw new Error('must specifiy tooltip html');\n  }\n  var id = this._ids.next();\n  tooltip = assign({}, this._tooltipDefaults, tooltip, {\n    id: id\n  });\n  this._addTooltip(tooltip);\n  if (tooltip.timeout) {\n    this.setTimeout(tooltip);\n  }\n  return id;\n};\n\n/**\n * @param {string} action\n * @param {Event} event\n */\nTooltips.prototype.trigger = function (action, event) {\n  var node = event.delegateTarget || event.target;\n  var tooltip = this.get(domAttr(node, 'data-tooltip-id'));\n  if (!tooltip) {\n    return;\n  }\n  if (action === 'mouseover' && tooltip.timeout) {\n    this.clearTimeout(tooltip);\n  }\n  if (action === 'mouseout' && tooltip.timeout) {\n    // cut timeout after mouse out\n    tooltip.timeout = 1000;\n    this.setTimeout(tooltip);\n  }\n};\n\n/**\n * Get tooltip with given ID.\n *\n * @param {Tooltip|string} id\n *\n * @return {Tooltip|undefined}\n */\nTooltips.prototype.get = function (id) {\n  if (typeof id !== 'string') {\n    id = id.id;\n  }\n  return this._tooltips[id];\n};\n\n/**\n * @param {Tooltip} tooltip\n */\nTooltips.prototype.clearTimeout = function (tooltip) {\n  tooltip = this.get(tooltip);\n  if (!tooltip) {\n    return;\n  }\n  var removeTimer = tooltip.removeTimer;\n  if (removeTimer) {\n    clearTimeout(removeTimer);\n    tooltip.removeTimer = null;\n  }\n};\n\n/**\n * @param {Tooltip} tooltip\n */\nTooltips.prototype.setTimeout = function (tooltip) {\n  tooltip = this.get(tooltip);\n  if (!tooltip) {\n    return;\n  }\n  this.clearTimeout(tooltip);\n  var self = this;\n  tooltip.removeTimer = setTimeout(function () {\n    self.remove(tooltip);\n  }, tooltip.timeout);\n};\n\n/**\n * Remove tooltip with given ID.\n *\n * @param {string | Tooltip} id\n */\nTooltips.prototype.remove = function (id) {\n  var tooltip = this.get(id);\n  if (tooltip) {\n    domRemove(tooltip.html);\n    domRemove(tooltip.htmlContainer);\n    delete tooltip.htmlContainer;\n    delete this._tooltips[tooltip.id];\n  }\n};\nTooltips.prototype.show = function () {\n  setVisible(this._tooltipRoot);\n};\nTooltips.prototype.hide = function () {\n  setVisible(this._tooltipRoot, false);\n};\nTooltips.prototype._updateRoot = function (viewbox) {\n  var a = viewbox.scale || 1;\n  var d = viewbox.scale || 1;\n  var matrix = 'matrix(' + a + ',0,0,' + d + ',' + -1 * viewbox.x * a + ',' + -1 * viewbox.y * d + ')';\n  this._tooltipRoot.style.transform = matrix;\n  this._tooltipRoot.style['-ms-transform'] = matrix;\n};\nTooltips.prototype._addTooltip = function (tooltip) {\n  var id = tooltip.id,\n    html = tooltip.html,\n    htmlContainer,\n    tooltipRoot = this._tooltipRoot;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // tooltip HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n  htmlContainer = domify('<div data-tooltip-id=\"' + id + '\" class=\"' + tooltipClass + '\">');\n  assignStyle(htmlContainer, {\n    position: 'absolute'\n  });\n  htmlContainer.appendChild(html);\n  if (tooltip.type) {\n    domClasses(htmlContainer).add('djs-tooltip-' + tooltip.type);\n  }\n  if (tooltip.className) {\n    domClasses(htmlContainer).add(tooltip.className);\n  }\n  tooltip.htmlContainer = htmlContainer;\n  tooltipRoot.appendChild(htmlContainer);\n  this._tooltips[id] = tooltip;\n  this._updateTooltip(tooltip);\n};\nTooltips.prototype._updateTooltip = function (tooltip) {\n  var position = tooltip.position,\n    htmlContainer = tooltip.htmlContainer;\n\n  // update overlay html based on tooltip x, y\n\n  setPosition(htmlContainer, position.x, position.y);\n};\nTooltips.prototype._updateTooltipVisibilty = function (viewbox) {\n  forEach(this._tooltips, function (tooltip) {\n    var show = tooltip.show,\n      htmlContainer = tooltip.htmlContainer,\n      visible = true;\n    if (show) {\n      if (show.minZoom > viewbox.scale || show.maxZoom < viewbox.scale) {\n        visible = false;\n      }\n      setVisible(htmlContainer, visible);\n    }\n  });\n};\nTooltips.prototype._init = function () {\n  var self = this;\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateTooltipVisibilty(viewbox);\n    self.show();\n  }\n  this._eventBus.on('canvas.viewbox.changing', function (event) {\n    self.hide();\n  });\n  this._eventBus.on('canvas.viewbox.changed', function (event) {\n    updateViewbox(event.viewbox);\n  });\n};","map":{"version":3,"names":["isString","assign","forEach","assignStyle","domify","attr","domAttr","classes","domClasses","remove","domRemove","delegate","domDelegate","Ids","ids","createRoot","parentNode","root","position","width","height","insertBefore","firstChild","setPosition","el","x","y","left","top","setVisible","visible","style","display","tooltipClass","tooltipSelector","Tooltips","eventBus","canvas","_eventBus","_canvas","_ids","_tooltipDefaults","show","minZoom","maxZoom","_tooltips","_tooltipRoot","getContainer","self","bind","event","stopPropagation","trigger","_init","$inject","prototype","add","tooltip","Error","html","id","next","_addTooltip","timeout","setTimeout","action","node","delegateTarget","target","get","clearTimeout","removeTimer","htmlContainer","hide","_updateRoot","viewbox","a","scale","d","matrix","transform","tooltipRoot","constructor","jquery","appendChild","type","className","_updateTooltip","_updateTooltipVisibilty","updateViewbox","on"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js/lib/features/tooltips/Tooltips.js"],"sourcesContent":["import {\n  isString,\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  assignStyle,\n  domify,\n  attr as domAttr,\n  classes as domClasses,\n  remove as domRemove,\n  delegate as domDelegate\n} from 'min-dom';\n\nimport Ids from '../../util/IdGenerator';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n *\n * @typedef { {\n *   html: string | HTMLElement;\n *   position: RectTRBL;\n *   show?: {\n *     minZoom?: number;\n *     maxZoom?: number;\n *   };\n *   timeout?: number;\n * } } Tooltip\n */\n\n// document wide unique tooltip ids\nvar ids = new Ids('tt');\n\n\nfunction createRoot(parentNode) {\n  var root = domify(\n    '<div class=\"djs-tooltip-container\" />'\n  );\n\n  assignStyle(root, {\n    position: 'absolute',\n    width: '0',\n    height: '0'\n  });\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\n\nfunction setPosition(el, x, y) {\n  assignStyle(el, { left: x + 'px', top: y + 'px' });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\n\nvar tooltipClass = 'djs-tooltip',\n    tooltipSelector = '.' + tooltipClass;\n\n/**\n * A service that allows users to render tool tips on the diagram.\n *\n * The tooltip service will take care of updating the tooltip positioning\n * during navigation + zooming.\n *\n * @example\n *\n * ```javascript\n *\n * // add a pink badge on the top left of the shape\n * tooltips.add({\n *   position: {\n *     x: 50,\n *     y: 100\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or with optional life span\n * tooltips.add({\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>',\n *   ttl: 2000\n * });\n *\n * // remove a tool tip\n * var id = tooltips.add(...);\n *\n * tooltips.remove(id);\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Tooltips(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._ids = ids;\n\n  this._tooltipDefaults = {\n    show: {\n      minZoom: 0.7,\n      maxZoom: 5.0\n    }\n  };\n\n  /**\n   * @type {Record<string, Tooltip>}\n   */\n  this._tooltips = {};\n\n  // root html element for all tooltips\n  this._tooltipRoot = createRoot(canvas.getContainer());\n\n\n  var self = this;\n\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseover', function(event) {\n    self.trigger('mouseover', event);\n  });\n\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseout', function(event) {\n    self.trigger('mouseout', event);\n  });\n\n  this._init();\n}\n\n\nTooltips.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Adds an HTML tooltip to the diagram.\n *\n * @param {Tooltip} tooltip\n *\n * @return {string} ID of the tooltip.\n */\nTooltips.prototype.add = function(tooltip) {\n\n  if (!tooltip.position) {\n    throw new Error('must specifiy tooltip position');\n  }\n\n  if (!tooltip.html) {\n    throw new Error('must specifiy tooltip html');\n  }\n\n  var id = this._ids.next();\n\n  tooltip = assign({}, this._tooltipDefaults, tooltip, {\n    id: id\n  });\n\n  this._addTooltip(tooltip);\n\n  if (tooltip.timeout) {\n    this.setTimeout(tooltip);\n  }\n\n  return id;\n};\n\n/**\n * @param {string} action\n * @param {Event} event\n */\nTooltips.prototype.trigger = function(action, event) {\n\n  var node = event.delegateTarget || event.target;\n\n  var tooltip = this.get(domAttr(node, 'data-tooltip-id'));\n\n  if (!tooltip) {\n    return;\n  }\n\n  if (action === 'mouseover' && tooltip.timeout) {\n    this.clearTimeout(tooltip);\n  }\n\n  if (action === 'mouseout' && tooltip.timeout) {\n\n    // cut timeout after mouse out\n    tooltip.timeout = 1000;\n\n    this.setTimeout(tooltip);\n  }\n};\n\n/**\n * Get tooltip with given ID.\n *\n * @param {Tooltip|string} id\n *\n * @return {Tooltip|undefined}\n */\nTooltips.prototype.get = function(id) {\n\n  if (typeof id !== 'string') {\n    id = id.id;\n  }\n\n  return this._tooltips[id];\n};\n\n/**\n * @param {Tooltip} tooltip\n */\nTooltips.prototype.clearTimeout = function(tooltip) {\n\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  var removeTimer = tooltip.removeTimer;\n\n  if (removeTimer) {\n    clearTimeout(removeTimer);\n    tooltip.removeTimer = null;\n  }\n};\n\n/**\n * @param {Tooltip} tooltip\n */\nTooltips.prototype.setTimeout = function(tooltip) {\n\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  this.clearTimeout(tooltip);\n\n  var self = this;\n\n  tooltip.removeTimer = setTimeout(function() {\n    self.remove(tooltip);\n  }, tooltip.timeout);\n};\n\n/**\n * Remove tooltip with given ID.\n *\n * @param {string | Tooltip} id\n */\nTooltips.prototype.remove = function(id) {\n\n  var tooltip = this.get(id);\n\n  if (tooltip) {\n    domRemove(tooltip.html);\n    domRemove(tooltip.htmlContainer);\n\n    delete tooltip.htmlContainer;\n\n    delete this._tooltips[tooltip.id];\n  }\n};\n\n\nTooltips.prototype.show = function() {\n  setVisible(this._tooltipRoot);\n};\n\n\nTooltips.prototype.hide = function() {\n  setVisible(this._tooltipRoot, false);\n};\n\n\nTooltips.prototype._updateRoot = function(viewbox) {\n  var a = viewbox.scale || 1;\n  var d = viewbox.scale || 1;\n\n  var matrix = 'matrix(' + a + ',0,0,' + d + ',' + (-1 * viewbox.x * a) + ',' + (-1 * viewbox.y * d) + ')';\n\n  this._tooltipRoot.style.transform = matrix;\n  this._tooltipRoot.style['-ms-transform'] = matrix;\n};\n\n\nTooltips.prototype._addTooltip = function(tooltip) {\n\n  var id = tooltip.id,\n      html = tooltip.html,\n      htmlContainer,\n      tooltipRoot = this._tooltipRoot;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // tooltip HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  htmlContainer = domify('<div data-tooltip-id=\"' + id + '\" class=\"' + tooltipClass + '\">');\n  assignStyle(htmlContainer, { position: 'absolute' });\n\n  htmlContainer.appendChild(html);\n\n  if (tooltip.type) {\n    domClasses(htmlContainer).add('djs-tooltip-' + tooltip.type);\n  }\n\n  if (tooltip.className) {\n    domClasses(htmlContainer).add(tooltip.className);\n  }\n\n  tooltip.htmlContainer = htmlContainer;\n\n  tooltipRoot.appendChild(htmlContainer);\n\n  this._tooltips[id] = tooltip;\n\n  this._updateTooltip(tooltip);\n};\n\n\nTooltips.prototype._updateTooltip = function(tooltip) {\n\n  var position = tooltip.position,\n      htmlContainer = tooltip.htmlContainer;\n\n  // update overlay html based on tooltip x, y\n\n  setPosition(htmlContainer, position.x, position.y);\n};\n\n\nTooltips.prototype._updateTooltipVisibilty = function(viewbox) {\n\n  forEach(this._tooltips, function(tooltip) {\n    var show = tooltip.show,\n        htmlContainer = tooltip.htmlContainer,\n        visible = true;\n\n    if (show) {\n      if (show.minZoom > viewbox.scale ||\n          show.maxZoom < viewbox.scale) {\n        visible = false;\n      }\n\n      setVisible(htmlContainer, visible);\n    }\n  });\n};\n\nTooltips.prototype._init = function() {\n\n  var self = this;\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateTooltipVisibilty(viewbox);\n\n    self.show();\n  }\n\n  this._eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  this._eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}