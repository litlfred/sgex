{"ast":null,"code":"import{useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{PageLayout}from'./framework';import githubService from'../services/githubService';import{parseDAKUrl}from'../utils/routeUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotFound=()=>{const navigate=useNavigate();const location=useLocation();useEffect(()=>{const tryParseDAKUrl=()=>{const dakUrlInfo=parseDAKUrl(location.pathname);if(dakUrlInfo&&dakUrlInfo.isValid){const{component,user,repo,branch,assetPath}=dakUrlInfo;console.log('NotFound: Attempting to parse potential DAK URL:',{component,user,repo,branch,assetPath});// Try to navigate to the parsed route\nlet targetPath=\"/\".concat(component,\"/\").concat(user,\"/\").concat(repo);if(branch){targetPath+=\"/\".concat(branch);if(assetPath.length>0){targetPath+=\"/\".concat(assetPath.join('/'));}}console.log('NotFound: Redirecting to parsed DAK route:',targetPath);navigate(targetPath,{replace:true});return true;// Successfully parsed and redirected\n}return false;// Could not parse as DAK URL\n};// First try to parse as a DAK URL\nif(!tryParseDAKUrl()){// Fall back to original behavior if URL doesn't match DAK patterns\nconst isAuthenticated=githubService.isAuth();// Create appropriate warning message\nconst warningMessage=isAuthenticated?\"The page \\\"\".concat(location.pathname,\"\\\" could not be found. You've been redirected to the home page.\"):\"The page \\\"\".concat(location.pathname,\"\\\" could not be found. Please sign in or try the demo mode to get started.\");console.log('NotFound: Could not parse as DAK URL, redirecting to home with warning');// Redirect to landing page with warning message\nnavigate('/',{replace:true,state:{warningMessage}});}},[navigate,location.pathname]);// Show temporary message while redirecting\nreturn/*#__PURE__*/_jsx(PageLayout,{pageName:\"not-found\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"not-found-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Page Not Found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Redirecting to home page...\"})]})});};export default NotFound;","map":{"version":3,"names":["useEffect","useNavigate","useLocation","PageLayout","githubService","parseDAKUrl","jsx","_jsx","jsxs","_jsxs","NotFound","navigate","location","tryParseDAKUrl","dakUrlInfo","pathname","isValid","component","user","repo","branch","assetPath","console","log","targetPath","concat","length","join","replace","isAuthenticated","isAuth","warningMessage","state","pageName","children","className"],"sources":["/home/runner/work/sgex/sgex/src/components/NotFound.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { PageLayout } from './framework';\nimport githubService from '../services/githubService';\nimport { parseDAKUrl } from '../utils/routeUtils';\n\nconst NotFound = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const tryParseDAKUrl = () => {\n      const dakUrlInfo = parseDAKUrl(location.pathname);\n      \n      if (dakUrlInfo && dakUrlInfo.isValid) {\n        const { component, user, repo, branch, assetPath } = dakUrlInfo;\n        \n        console.log('NotFound: Attempting to parse potential DAK URL:', {\n          component, user, repo, branch, assetPath\n        });\n        \n        // Try to navigate to the parsed route\n        let targetPath = `/${component}/${user}/${repo}`;\n        if (branch) {\n          targetPath += `/${branch}`;\n          if (assetPath.length > 0) {\n            targetPath += `/${assetPath.join('/')}`;\n          }\n        }\n        \n        console.log('NotFound: Redirecting to parsed DAK route:', targetPath);\n        navigate(targetPath, { replace: true });\n        return true; // Successfully parsed and redirected\n      }\n      \n      return false; // Could not parse as DAK URL\n    };\n\n    // First try to parse as a DAK URL\n    if (!tryParseDAKUrl()) {\n      // Fall back to original behavior if URL doesn't match DAK patterns\n      const isAuthenticated = githubService.isAuth();\n      \n      // Create appropriate warning message\n      const warningMessage = isAuthenticated\n        ? `The page \"${location.pathname}\" could not be found. You've been redirected to the home page.`\n        : `The page \"${location.pathname}\" could not be found. Please sign in or try the demo mode to get started.`;\n\n      console.log('NotFound: Could not parse as DAK URL, redirecting to home with warning');\n      // Redirect to landing page with warning message\n      navigate('/', {\n        replace: true,\n        state: { warningMessage }\n      });\n    }\n  }, [navigate, location.pathname]);\n\n  // Show temporary message while redirecting\n  return (\n    <PageLayout pageName=\"not-found\">\n      <div className=\"not-found-page\">\n        <h1>Page Not Found</h1>\n        <p>Redirecting to home page...</p>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default NotFound;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,UAAU,KAAQ,aAAa,CACxC,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,OAASC,WAAW,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,UAAU,CAAGT,WAAW,CAACO,QAAQ,CAACG,QAAQ,CAAC,CAEjD,GAAID,UAAU,EAAIA,UAAU,CAACE,OAAO,CAAE,CACpC,KAAM,CAAEC,SAAS,CAAEC,IAAI,CAAEC,IAAI,CAAEC,MAAM,CAAEC,SAAU,CAAC,CAAGP,UAAU,CAE/DQ,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAE,CAC9DN,SAAS,CAAEC,IAAI,CAAEC,IAAI,CAAEC,MAAM,CAAEC,SACjC,CAAC,CAAC,CAEF;AACA,GAAI,CAAAG,UAAU,KAAAC,MAAA,CAAOR,SAAS,MAAAQ,MAAA,CAAIP,IAAI,MAAAO,MAAA,CAAIN,IAAI,CAAE,CAChD,GAAIC,MAAM,CAAE,CACVI,UAAU,MAAAC,MAAA,CAAQL,MAAM,CAAE,CAC1B,GAAIC,SAAS,CAACK,MAAM,CAAG,CAAC,CAAE,CACxBF,UAAU,MAAAC,MAAA,CAAQJ,SAAS,CAACM,IAAI,CAAC,GAAG,CAAC,CAAE,CACzC,CACF,CAEAL,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAEC,UAAU,CAAC,CACrEb,QAAQ,CAACa,UAAU,CAAE,CAAEI,OAAO,CAAE,IAAK,CAAC,CAAC,CACvC,MAAO,KAAI,CAAE;AACf,CAEA,MAAO,MAAK,CAAE;AAChB,CAAC,CAED;AACA,GAAI,CAACf,cAAc,CAAC,CAAC,CAAE,CACrB;AACA,KAAM,CAAAgB,eAAe,CAAGzB,aAAa,CAAC0B,MAAM,CAAC,CAAC,CAE9C;AACA,KAAM,CAAAC,cAAc,CAAGF,eAAe,eAAAJ,MAAA,CACrBb,QAAQ,CAACG,QAAQ,kFAAAU,MAAA,CACjBb,QAAQ,CAACG,QAAQ,8EAA2E,CAE7GO,OAAO,CAACC,GAAG,CAAC,wEAAwE,CAAC,CACrF;AACAZ,QAAQ,CAAC,GAAG,CAAE,CACZiB,OAAO,CAAE,IAAI,CACbI,KAAK,CAAE,CAAED,cAAe,CAC1B,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACpB,QAAQ,CAAEC,QAAQ,CAACG,QAAQ,CAAC,CAAC,CAEjC;AACA,mBACER,IAAA,CAACJ,UAAU,EAAC8B,QAAQ,CAAC,WAAW,CAAAC,QAAA,cAC9BzB,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B3B,IAAA,OAAA2B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB3B,IAAA,MAAA2B,QAAA,CAAG,6BAA2B,CAAG,CAAC,EAC/B,CAAC,CACI,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAxB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}