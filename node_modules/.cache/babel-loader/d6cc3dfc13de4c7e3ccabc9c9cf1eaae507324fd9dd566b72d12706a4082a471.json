{"ast":null,"code":"import classNames from 'clsx';\nimport { html, useMemo } from '../../ui';\n\n/**\n * @typedef {import('./PopupMenuProvider').PopupMenuHeaderEntry} PopupMenuHeaderEntry\n */\n\n/**\n * Component that renders a popup menu header.\n *\n * @param {Object} props\n * @param {PopupMenuHeaderEntry[]} props.headerEntries\n * @param {PopupMenuHeaderEntry} props.selectedEntry\n * @param {(event: MouseEvent, entry: PopupMenuHeaderEntry) => void} props.onSelect\n * @param {(entry: PopupMenuHeaderEntry | null) => void} props.setSelectedEntry\n * @param {string} props.title\n */\nexport default function PopupMenuHeader(props) {\n  const {\n    headerEntries,\n    onSelect,\n    selectedEntry,\n    setSelectedEntry,\n    title\n  } = props;\n  const groups = useMemo(() => groupEntries(headerEntries), [headerEntries]);\n  return html`\n    <div class=\"djs-popup-header\">\n      <h3 class=\"djs-popup-title\" title=${title}>${title}</h3>\n      ${groups.map(group => html`\n        <ul key=${group.id} class=\"djs-popup-header-group\" data-header-group=${group.id}>\n\n          ${group.entries.map(entry => html`\n            <li key=${entry.id}>\n              <${entry.action ? 'button' : 'span'}\n                class=${getHeaderClasses(entry, entry === selectedEntry)}\n                onClick=${event => entry.action && onSelect(event, entry)}\n                title=${entry.title || entry.label}\n                data-id=${entry.id}\n                onMouseEnter=${() => entry.action && setSelectedEntry(entry)}\n                onMouseLeave=${() => entry.action && setSelectedEntry(null)}\n                onFocus=${() => entry.action && setSelectedEntry(entry)}\n                onBlur=${() => entry.action && setSelectedEntry(null)}\n              >\n                ${entry.imageUrl && html`<img class=\"djs-popup-entry-icon\" src=${entry.imageUrl} alt=\"\" />` || entry.imageHtml && html`<div class=\"djs-popup-entry-icon\" dangerouslySetInnerHTML=${{\n    __html: entry.imageHtml\n  }} />`}\n                ${entry.label ? html`\n                  <span class=\"djs-popup-label\">${entry.label}</span>\n                ` : null}\n              </${entry.action ? 'button' : 'span'}>\n            </li>\n          `)}\n        </ul>\n      `)}\n    </div>\n  `;\n}\n\n// helpers\nfunction groupEntries(entries) {\n  return entries.reduce((groups, entry) => {\n    const groupId = entry.group || 'default';\n    const group = groups.find(group => group.id === groupId);\n    if (group) {\n      group.entries.push(entry);\n    } else {\n      groups.push({\n        id: groupId,\n        entries: [entry]\n      });\n    }\n    return groups;\n  }, []);\n}\nfunction getHeaderClasses(entry, selected) {\n  return classNames('entry', entry.className, entry.active ? 'active' : '', entry.disabled ? 'disabled' : '', selected ? 'selected' : '');\n}","map":{"version":3,"names":["classNames","html","useMemo","PopupMenuHeader","props","headerEntries","onSelect","selectedEntry","setSelectedEntry","title","groups","groupEntries","map","group","id","entries","entry","action","getHeaderClasses","event","label","imageUrl","imageHtml","__html","reduce","groupId","find","push","selected","className","active","disabled"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js/lib/features/popup-menu/PopupMenuHeader.js"],"sourcesContent":["import classNames from 'clsx';\n\nimport {\n  html,\n  useMemo\n} from '../../ui';\n\n/**\n * @typedef {import('./PopupMenuProvider').PopupMenuHeaderEntry} PopupMenuHeaderEntry\n */\n\n/**\n * Component that renders a popup menu header.\n *\n * @param {Object} props\n * @param {PopupMenuHeaderEntry[]} props.headerEntries\n * @param {PopupMenuHeaderEntry} props.selectedEntry\n * @param {(event: MouseEvent, entry: PopupMenuHeaderEntry) => void} props.onSelect\n * @param {(entry: PopupMenuHeaderEntry | null) => void} props.setSelectedEntry\n * @param {string} props.title\n */\nexport default function PopupMenuHeader(props) {\n  const {\n    headerEntries,\n    onSelect,\n    selectedEntry,\n    setSelectedEntry,\n    title\n  } = props;\n\n  const groups = useMemo(() => groupEntries(headerEntries), [ headerEntries ]);\n\n  return html`\n    <div class=\"djs-popup-header\">\n      <h3 class=\"djs-popup-title\" title=${ title }>${ title }</h3>\n      ${ groups.map((group) => html`\n        <ul key=${ group.id } class=\"djs-popup-header-group\" data-header-group=${ group.id }>\n\n          ${ group.entries.map(entry => html`\n            <li key=${ entry.id }>\n              <${ entry.action ? 'button' : 'span' }\n                class=${ getHeaderClasses(entry, entry === selectedEntry) }\n                onClick=${ event => entry.action && onSelect(event, entry) }\n                title=${ entry.title || entry.label }\n                data-id=${ entry.id }\n                onMouseEnter=${ () => entry.action && setSelectedEntry(entry) }\n                onMouseLeave=${ () => entry.action && setSelectedEntry(null) }\n                onFocus=${ () => entry.action && setSelectedEntry(entry) }\n                onBlur=${ () => entry.action && setSelectedEntry(null) }\n              >\n                ${(entry.imageUrl && html`<img class=\"djs-popup-entry-icon\" src=${ entry.imageUrl } alt=\"\" />`) ||\n                (entry.imageHtml && html`<div class=\"djs-popup-entry-icon\" dangerouslySetInnerHTML=${ { __html: entry.imageHtml } } />`)}\n                ${ entry.label ? html`\n                  <span class=\"djs-popup-label\">${ entry.label }</span>\n                ` : null }\n              </${ entry.action ? 'button' : 'span' }>\n            </li>\n          `) }\n        </ul>\n      `) }\n    </div>\n  `;\n}\n\n\n// helpers\nfunction groupEntries(entries) {\n  return entries.reduce((groups, entry) => {\n    const groupId = entry.group || 'default';\n\n    const group = groups.find(group => group.id === groupId);\n\n    if (group) {\n      group.entries.push(entry);\n    } else {\n      groups.push({\n        id: groupId,\n        entries: [ entry ]\n      });\n    }\n\n    return groups;\n  }, []);\n}\n\nfunction getHeaderClasses(entry, selected) {\n  return classNames(\n    'entry',\n    entry.className,\n    entry.active ? 'active' : '',\n    entry.disabled ? 'disabled' : '',\n    selected ? 'selected' : ''\n  );\n}"],"mappings":"AAAA,OAAOA,UAAU,MAAM,MAAM;AAE7B,SACEC,IAAI,EACJC,OAAO,QACF,UAAU;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,eAAeA,CAACC,KAAK,EAAE;EAC7C,MAAM;IACJC,aAAa;IACbC,QAAQ;IACRC,aAAa;IACbC,gBAAgB;IAChBC;EACF,CAAC,GAAGL,KAAK;EAET,MAAMM,MAAM,GAAGR,OAAO,CAAC,MAAMS,YAAY,CAACN,aAAa,CAAC,EAAE,CAAEA,aAAa,CAAE,CAAC;EAE5E,OAAOJ,IAAI;AACb;AACA,0CAA2CQ,KAAK,IAAMA,KAAK;AAC3D,QAASC,MAAM,CAACE,GAAG,CAAEC,KAAK,IAAKZ,IAAI;AACnC,kBAAmBY,KAAK,CAACC,EAAE,qDAAuDD,KAAK,CAACC,EAAE;AAC1F;AACA,YAAaD,KAAK,CAACE,OAAO,CAACH,GAAG,CAACI,KAAK,IAAIf,IAAI;AAC5C,sBAAuBe,KAAK,CAACF,EAAE;AAC/B,iBAAkBE,KAAK,CAACC,MAAM,GAAG,QAAQ,GAAG,MAAM;AAClD,wBAAyBC,gBAAgB,CAACF,KAAK,EAAEA,KAAK,KAAKT,aAAa,CAAC;AACzE,0BAA2BY,KAAK,IAAIH,KAAK,CAACC,MAAM,IAAIX,QAAQ,CAACa,KAAK,EAAEH,KAAK,CAAC;AAC1E,wBAAyBA,KAAK,CAACP,KAAK,IAAIO,KAAK,CAACI,KAAK;AACnD,0BAA2BJ,KAAK,CAACF,EAAE;AACnC,+BAAgC,MAAME,KAAK,CAACC,MAAM,IAAIT,gBAAgB,CAACQ,KAAK,CAAC;AAC7E,+BAAgC,MAAMA,KAAK,CAACC,MAAM,IAAIT,gBAAgB,CAAC,IAAI,CAAC;AAC5E,0BAA2B,MAAMQ,KAAK,CAACC,MAAM,IAAIT,gBAAgB,CAACQ,KAAK,CAAC;AACxE,yBAA0B,MAAMA,KAAK,CAACC,MAAM,IAAIT,gBAAgB,CAAC,IAAI,CAAC;AACtE;AACA,kBAAmBQ,KAAK,CAACK,QAAQ,IAAIpB,IAAI,yCAA0Ce,KAAK,CAACK,QAAQ,YAAa,IAC7FL,KAAK,CAACM,SAAS,IAAIrB,IAAI,6DAA8D;IAAEsB,MAAM,EAAEP,KAAK,CAACM;EAAU,CAAC,KAAO;AACxI,kBAAmBN,KAAK,CAACI,KAAK,GAAGnB,IAAI;AACrC,kDAAmDe,KAAK,CAACI,KAAK;AAC9D,iBAAiB,GAAG,IAAI;AACxB,kBAAmBJ,KAAK,CAACC,MAAM,GAAG,QAAQ,GAAG,MAAM;AACnD;AACA,WAAW,CAAC;AACZ;AACA,OAAO,CAAC;AACR;AACA,GAAG;AACH;;AAGA;AACA,SAASN,YAAYA,CAACI,OAAO,EAAE;EAC7B,OAAOA,OAAO,CAACS,MAAM,CAAC,CAACd,MAAM,EAAEM,KAAK,KAAK;IACvC,MAAMS,OAAO,GAAGT,KAAK,CAACH,KAAK,IAAI,SAAS;IAExC,MAAMA,KAAK,GAAGH,MAAM,CAACgB,IAAI,CAACb,KAAK,IAAIA,KAAK,CAACC,EAAE,KAAKW,OAAO,CAAC;IAExD,IAAIZ,KAAK,EAAE;MACTA,KAAK,CAACE,OAAO,CAACY,IAAI,CAACX,KAAK,CAAC;IAC3B,CAAC,MAAM;MACLN,MAAM,CAACiB,IAAI,CAAC;QACVb,EAAE,EAAEW,OAAO;QACXV,OAAO,EAAE,CAAEC,KAAK;MAClB,CAAC,CAAC;IACJ;IAEA,OAAON,MAAM;EACf,CAAC,EAAE,EAAE,CAAC;AACR;AAEA,SAASQ,gBAAgBA,CAACF,KAAK,EAAEY,QAAQ,EAAE;EACzC,OAAO5B,UAAU,CACf,OAAO,EACPgB,KAAK,CAACa,SAAS,EACfb,KAAK,CAACc,MAAM,GAAG,QAAQ,GAAG,EAAE,EAC5Bd,KAAK,CAACe,QAAQ,GAAG,UAAU,GAAG,EAAE,EAChCH,QAAQ,GAAG,UAAU,GAAG,EAC1B,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}