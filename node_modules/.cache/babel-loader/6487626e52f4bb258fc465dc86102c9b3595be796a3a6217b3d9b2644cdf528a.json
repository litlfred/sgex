{"ast":null,"code":"import React from'react';import{PageProvider,usePage}from'./PageProvider';import PageHeader from'./PageHeader';import ErrorHandler from'./ErrorHandler';import ContextualHelpMascot from'../ContextualHelpMascot';import'./PageLayout.css';/**\n * Error boundary wrapper for catching React errors\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class PageErrorBoundary extends React.Component{constructor(props){super(props);this.state={hasError:false,error:null};}static getDerivedStateFromError(error){return{hasError:true,error:error.message};}componentDidCatch(error,errorInfo){console.error('PageLayout caught an error:',error,errorInfo);}render(){if(this.state.hasError){return/*#__PURE__*/_jsx(\"div\",{className:\"page-layout-error\",children:/*#__PURE__*/_jsx(ErrorHandler,{error:this.state.error,onRetry:()=>{this.setState({hasError:false,error:null});window.location.reload();}})});}return this.props.children;}}/**\n * Inner layout component that uses page context\n */const PageLayoutInner=_ref=>{let{children,showHeader=true,showMascot=true}=_ref;const{loading,error,pageName}=usePage();// Show loading state\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"page-layout\",children:[showHeader&&/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsx(\"main\",{className:\"page-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]})}),showMascot&&/*#__PURE__*/_jsx(ContextualHelpMascot,{pageId:`${pageName}-loading`,position:\"bottom-right\"})]});}// Show error state\nif(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"page-layout\",children:[showHeader&&/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsx(\"main\",{className:\"page-main\",children:/*#__PURE__*/_jsx(ErrorHandler,{error:error,onRetry:()=>window.location.reload()})})]});}// Show normal page content\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"page-layout\",children:[showHeader&&/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"page-main\",children:[children,showMascot&&/*#__PURE__*/_jsx(ContextualHelpMascot,{pageId:pageName,position:\"bottom-right\",contextData:{}})]})]});};/**\n * Main page layout component with framework integration\n */const PageLayout=_ref2=>{let{children,pageName,showHeader=true,showMascot=true}=_ref2;return/*#__PURE__*/_jsx(PageErrorBoundary,{children:/*#__PURE__*/_jsx(PageProvider,{pageName:pageName,children:/*#__PURE__*/_jsx(PageLayoutInner,{showHeader:showHeader,showMascot:showMascot,children:children})})});};export default PageLayout;","map":{"version":3,"names":["React","PageProvider","usePage","PageHeader","ErrorHandler","ContextualHelpMascot","jsx","_jsx","jsxs","_jsxs","PageErrorBoundary","Component","constructor","props","state","hasError","error","getDerivedStateFromError","message","componentDidCatch","errorInfo","console","render","className","children","onRetry","setState","window","location","reload","PageLayoutInner","_ref","showHeader","showMascot","loading","pageName","pageId","position","contextData","PageLayout","_ref2"],"sources":["/home/runner/work/sgex/sgex/src/components/framework/PageLayout.js"],"sourcesContent":["import React from 'react';\nimport { PageProvider, usePage } from './PageProvider';\nimport PageHeader from './PageHeader';\nimport ErrorHandler from './ErrorHandler';\nimport ContextualHelpMascot from '../ContextualHelpMascot';\nimport './PageLayout.css';\n\n/**\n * Error boundary wrapper for catching React errors\n */\nclass PageErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error: error.message };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('PageLayout caught an error:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"page-layout-error\">\n          <ErrorHandler \n            error={this.state.error}\n            onRetry={() => {\n              this.setState({ hasError: false, error: null });\n              window.location.reload();\n            }}\n          />\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n/**\n * Inner layout component that uses page context\n */\nconst PageLayoutInner = ({ children, showHeader = true, showMascot = true }) => {\n  const { loading, error, pageName } = usePage();\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"page-layout\">\n        {showHeader && <PageHeader />}\n        <main className=\"page-main\">\n          <div className=\"page-loading\">\n            <div className=\"loading-spinner\"></div>\n            <p>Loading...</p>\n          </div>\n        </main>\n        {showMascot && (\n          <ContextualHelpMascot \n            pageId={`${pageName}-loading`}\n            position=\"bottom-right\"\n          />\n        )}\n      </div>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <div className=\"page-layout\">\n        {showHeader && <PageHeader />}\n        <main className=\"page-main\">\n          <ErrorHandler \n            error={error}\n            onRetry={() => window.location.reload()}\n          />\n        </main>\n      </div>\n    );\n  }\n\n  // Show normal page content\n  return (\n    <div className=\"page-layout\">\n      {showHeader && <PageHeader />}\n      <main className=\"page-main\">\n        {children}\n        {showMascot && (\n          <ContextualHelpMascot \n            pageId={pageName}\n            position=\"bottom-right\"\n            contextData={{}}\n          />\n        )}\n      </main>\n    </div>\n  );\n};\n\n/**\n * Main page layout component with framework integration\n */\nconst PageLayout = ({ \n  children, \n  pageName, \n  showHeader = true, \n  showMascot = true \n}) => {\n  return (\n    <PageErrorBoundary>\n      <PageProvider pageName={pageName}>\n        <PageLayoutInner showHeader={showHeader} showMascot={showMascot}>\n          {children}\n        </PageLayoutInner>\n      </PageProvider>\n    </PageErrorBoundary>\n  );\n};\n\nexport default PageLayout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}