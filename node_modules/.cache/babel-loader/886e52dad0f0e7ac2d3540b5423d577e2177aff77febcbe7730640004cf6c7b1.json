{"ast":null,"code":"import _objectSpread from\"/home/runner/work/sgex/sgex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/runner/work/sgex/sgex/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"children\",\"pageName\",\"file\",\"repository\",\"branch\",\"content\",\"originalContent\",\"hasChanges\",\"onSave\",\"onContentChange\",\"customSaveToGitHub\",\"showSaveButtons\",\"saveButtonsPosition\"];import React,{useState,useCallback,useEffect}from'react';import{PageLayout}from'./index';import SaveButtonsContainer from'./SaveButtonsContainer';import CommitMessageDialog from'./CommitMessageDialog';import dataAccessLayer from'../../services/dataAccessLayer';import'./AssetEditorLayout.css';/**\n * Enhanced page framework for asset editors\n * Provides consistent save functionality with user access integration\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AssetEditorLayout=_ref=>{let{children,pageName,// Asset information\nfile,repository,branch,// Content management\ncontent,originalContent,hasChanges=false,// Save callbacks\nonSave,onContentChange,// Custom save functions (for special cases like BPMN that need XML export)\ncustomSaveToGitHub,// UI customization\nshowSaveButtons=true,saveButtonsPosition='top'// 'top', 'bottom', 'both'\n}=_ref,pageLayoutProps=_objectWithoutProperties(_ref,_excluded);// Save states\nconst[isSavingLocal,setIsSavingLocal]=useState(false);const[isSavingGitHub,setIsSavingGitHub]=useState(false);const[saveError,setSaveError]=useState(null);const[localSaveSuccess,setLocalSaveSuccess]=useState(false);const[githubSaveSuccess,setGithubSaveSuccess]=useState(false);const[saveOptions,setSaveOptions]=useState(null);// Commit dialog state\nconst[showCommitDialog,setShowCommitDialog]=useState(false);const[commitMessage,setCommitMessage]=useState('');// Load save options based on current user and repository\nuseEffect(()=>{const loadSaveOptions=async()=>{if(repository){try{var _repository$owner;const options=await dataAccessLayer.getSaveOptions((_repository$owner=repository.owner)===null||_repository$owner===void 0?void 0:_repository$owner.login,repository.name,branch);setSaveOptions(options);}catch(error){console.error('Error loading save options:',error);}}};loadSaveOptions();},[repository,branch]);// Check if user can save to GitHub based on access service\nconst canSaveToGitHub=(saveOptions===null||saveOptions===void 0?void 0:saveOptions.canSaveGitHub)&&(saveOptions===null||saveOptions===void 0?void 0:saveOptions.showSaveGitHub);// Handle local save\nconst handleSaveLocal=useCallback(async()=>{if(!hasChanges||!(file!==null&&file!==void 0&&file.path))return;try{var _repository$owner2;setIsSavingLocal(true);setSaveError(null);setLocalSaveSuccess(false);// Use data access layer for local save\nconst result=await dataAccessLayer.saveAssetLocal(file.path,content,{repository:(repository===null||repository===void 0?void 0:repository.full_name)||\"\".concat(repository===null||repository===void 0?void 0:(_repository$owner2=repository.owner)===null||_repository$owner2===void 0?void 0:_repository$owner2.login,\"/\").concat(repository===null||repository===void 0?void 0:repository.name),branch:branch||(repository===null||repository===void 0?void 0:repository.default_branch)||'main',fileName:file.name,timestamp:new Date().toISOString()});if(result.result==='success'){setLocalSaveSuccess(true);onSave&&onSave(content,'local');// Auto-hide success message after 3 seconds\nsetTimeout(()=>{setLocalSaveSuccess(false);},3000);}else{throw new Error(result.message||'Failed to save to local storage');}}catch(error){console.error('Error saving file locally:',error);setSaveError(\"Failed to save locally: \".concat(error.message));}finally{setIsSavingLocal(false);}},[hasChanges,file,content,repository,branch,onSave]);// Handle GitHub save - shows commit dialog\nconst handleSaveGitHub=useCallback(()=>{if(!hasChanges||!canSaveToGitHub)return;setSaveError(null);setShowCommitDialog(true);},[hasChanges,canSaveToGitHub]);// Handle commit to GitHub with message\nconst handleCommitToGitHub=useCallback(async message=>{if(!message.trim()||!(file!==null&&file!==void 0&&file.path))return;try{var _repository$owner3;setIsSavingGitHub(true);setSaveError(null);setGithubSaveSuccess(false);// Use custom save function if provided (for special cases like BPMN)\nif(customSaveToGitHub){const success=await customSaveToGitHub(message.trim());if(success){setGithubSaveSuccess(true);setShowCommitDialog(false);setCommitMessage('');onSave&&onSave(content,'github');// Auto-hide success message after 3 seconds\nsetTimeout(()=>{setGithubSaveSuccess(false);},3000);}else{throw new Error('Custom save function failed');}return;}// Use data access layer for GitHub save\nconst result=await dataAccessLayer.saveAssetGitHub(repository===null||repository===void 0?void 0:(_repository$owner3=repository.owner)===null||_repository$owner3===void 0?void 0:_repository$owner3.login,repository===null||repository===void 0?void 0:repository.name,branch,file.path,content,message.trim());if(result.result==='success'){setGithubSaveSuccess(true);setShowCommitDialog(false);setCommitMessage('');onSave&&onSave(content,'github');// Auto-hide success message after 3 seconds\nsetTimeout(()=>{setGithubSaveSuccess(false);},3000);}else{// Handle different result types\nlet errorMessage=result.message;if(result.result==='demo_mode_blocked'){errorMessage='Demo users cannot save to GitHub. You can save changes locally instead.';}else if(result.result==='permission_denied'){errorMessage='You do not have permission to save to this repository.';}throw new Error(errorMessage);}}catch(error){console.error('Error saving file to GitHub:',error);setSaveError(\"Failed to save to GitHub: \".concat(error.message));}finally{setIsSavingGitHub(false);}},[file,content,repository,branch,onSave,customSaveToGitHub]);// Handle commit dialog cancel\nconst handleCancelCommit=useCallback(()=>{setShowCommitDialog(false);setCommitMessage('');},[]);const saveButtonsProps={// States\nhasChanges,isSavingLocal,isSavingGitHub,canSaveToGitHub,localSaveSuccess,githubSaveSuccess,// Handlers\nonSaveLocal:handleSaveLocal,onSaveGitHub:handleSaveGitHub};return/*#__PURE__*/_jsx(PageLayout,_objectSpread(_objectSpread({pageName:pageName},pageLayoutProps),{},{children:/*#__PURE__*/_jsxs(\"div\",{className:\"asset-editor-layout\",children:[showSaveButtons&&(saveButtonsPosition==='top'||saveButtonsPosition==='both')&&/*#__PURE__*/_jsx(\"div\",{className:\"save-buttons-top\",children:/*#__PURE__*/_jsx(SaveButtonsContainer,_objectSpread({},saveButtonsProps))}),saveError&&/*#__PURE__*/_jsxs(\"div\",{className:\"asset-editor-error\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),saveError,/*#__PURE__*/_jsx(\"button\",{className:\"btn-link error-dismiss\",onClick:()=>setSaveError(null),children:\"\\u2715\"})]}),localSaveSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"asset-editor-success\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"success-icon\",children:\"\\u2705\"}),\"Changes saved locally successfully!\"]}),githubSaveSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"asset-editor-success\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"success-icon\",children:\"\\u2705\"}),\"Changes committed to GitHub successfully!\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"asset-editor-content\",children:children}),showSaveButtons&&(saveButtonsPosition==='bottom'||saveButtonsPosition==='both')&&/*#__PURE__*/_jsx(\"div\",{className:\"save-buttons-bottom\",children:/*#__PURE__*/_jsx(SaveButtonsContainer,_objectSpread({},saveButtonsProps))}),showCommitDialog&&/*#__PURE__*/_jsx(CommitMessageDialog,{isOpen:showCommitDialog,commitMessage:commitMessage,setCommitMessage:setCommitMessage,onCommit:handleCommitToGitHub,onCancel:handleCancelCommit,isSaving:isSavingGitHub,fileName:file===null||file===void 0?void 0:file.name})]})}));};export default AssetEditorLayout;","map":{"version":3,"names":["React","useState","useCallback","useEffect","PageLayout","SaveButtonsContainer","CommitMessageDialog","dataAccessLayer","jsx","_jsx","jsxs","_jsxs","AssetEditorLayout","_ref","children","pageName","file","repository","branch","content","originalContent","hasChanges","onSave","onContentChange","customSaveToGitHub","showSaveButtons","saveButtonsPosition","pageLayoutProps","_objectWithoutProperties","_excluded","isSavingLocal","setIsSavingLocal","isSavingGitHub","setIsSavingGitHub","saveError","setSaveError","localSaveSuccess","setLocalSaveSuccess","githubSaveSuccess","setGithubSaveSuccess","saveOptions","setSaveOptions","showCommitDialog","setShowCommitDialog","commitMessage","setCommitMessage","loadSaveOptions","_repository$owner","options","getSaveOptions","owner","login","name","error","console","canSaveToGitHub","canSaveGitHub","showSaveGitHub","handleSaveLocal","path","_repository$owner2","result","saveAssetLocal","full_name","concat","default_branch","fileName","timestamp","Date","toISOString","setTimeout","Error","message","handleSaveGitHub","handleCommitToGitHub","trim","_repository$owner3","success","saveAssetGitHub","errorMessage","handleCancelCommit","saveButtonsProps","onSaveLocal","onSaveGitHub","_objectSpread","className","onClick","isOpen","onCommit","onCancel","isSaving"],"sources":["/home/runner/work/sgex/sgex/src/components/framework/AssetEditorLayout.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { PageLayout } from './index';\nimport SaveButtonsContainer from './SaveButtonsContainer';\nimport CommitMessageDialog from './CommitMessageDialog';\nimport dataAccessLayer from '../../services/dataAccessLayer';\nimport './AssetEditorLayout.css';\n\n/**\n * Enhanced page framework for asset editors\n * Provides consistent save functionality with user access integration\n */\nconst AssetEditorLayout = ({\n  children,\n  pageName,\n  // Asset information\n  file,\n  repository,\n  branch,\n  // Content management\n  content,\n  originalContent,\n  hasChanges = false,\n  // Save callbacks\n  onSave,\n  onContentChange,\n  // Custom save functions (for special cases like BPMN that need XML export)\n  customSaveToGitHub,\n  // UI customization\n  showSaveButtons = true,\n  saveButtonsPosition = 'top', // 'top', 'bottom', 'both'\n  ...pageLayoutProps\n}) => {\n  // Save states\n  const [isSavingLocal, setIsSavingLocal] = useState(false);\n  const [isSavingGitHub, setIsSavingGitHub] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n  const [localSaveSuccess, setLocalSaveSuccess] = useState(false);\n  const [githubSaveSuccess, setGithubSaveSuccess] = useState(false);\n  const [saveOptions, setSaveOptions] = useState(null);\n  \n  // Commit dialog state\n  const [showCommitDialog, setShowCommitDialog] = useState(false);\n  const [commitMessage, setCommitMessage] = useState('');\n\n  // Load save options based on current user and repository\n  useEffect(() => {\n    const loadSaveOptions = async () => {\n      if (repository) {\n        try {\n          const options = await dataAccessLayer.getSaveOptions(\n            repository.owner?.login,\n            repository.name,\n            branch\n          );\n          setSaveOptions(options);\n        } catch (error) {\n          console.error('Error loading save options:', error);\n        }\n      }\n    };\n\n    loadSaveOptions();\n  }, [repository, branch]);\n\n  // Check if user can save to GitHub based on access service\n  const canSaveToGitHub = saveOptions?.canSaveGitHub && saveOptions?.showSaveGitHub;\n\n  // Handle local save\n  const handleSaveLocal = useCallback(async () => {\n    if (!hasChanges || !file?.path) return;\n\n    try {\n      setIsSavingLocal(true);\n      setSaveError(null);\n      setLocalSaveSuccess(false);\n\n      // Use data access layer for local save\n      const result = await dataAccessLayer.saveAssetLocal(file.path, content, {\n        repository: repository?.full_name || `${repository?.owner?.login}/${repository?.name}`,\n        branch: branch || repository?.default_branch || 'main',\n        fileName: file.name,\n        timestamp: new Date().toISOString()\n      });\n      \n      if (result.result === 'success') {\n        setLocalSaveSuccess(true);\n        onSave && onSave(content, 'local');\n        \n        // Auto-hide success message after 3 seconds\n        setTimeout(() => {\n          setLocalSaveSuccess(false);\n        }, 3000);\n      } else {\n        throw new Error(result.message || 'Failed to save to local storage');\n      }\n\n    } catch (error) {\n      console.error('Error saving file locally:', error);\n      setSaveError(`Failed to save locally: ${error.message}`);\n    } finally {\n      setIsSavingLocal(false);\n    }\n  }, [hasChanges, file, content, repository, branch, onSave]);\n\n  // Handle GitHub save - shows commit dialog\n  const handleSaveGitHub = useCallback(() => {\n    if (!hasChanges || !canSaveToGitHub) return;\n    \n    setSaveError(null);\n    setShowCommitDialog(true);\n  }, [hasChanges, canSaveToGitHub]);\n\n  // Handle commit to GitHub with message\n  const handleCommitToGitHub = useCallback(async (message) => {\n    if (!message.trim() || !file?.path) return;\n\n    try {\n      setIsSavingGitHub(true);\n      setSaveError(null);\n      setGithubSaveSuccess(false);\n\n      // Use custom save function if provided (for special cases like BPMN)\n      if (customSaveToGitHub) {\n        const success = await customSaveToGitHub(message.trim());\n        if (success) {\n          setGithubSaveSuccess(true);\n          setShowCommitDialog(false);\n          setCommitMessage('');\n          onSave && onSave(content, 'github');\n          \n          // Auto-hide success message after 3 seconds\n          setTimeout(() => {\n            setGithubSaveSuccess(false);\n          }, 3000);\n        } else {\n          throw new Error('Custom save function failed');\n        }\n        return;\n      }\n\n      // Use data access layer for GitHub save\n      const result = await dataAccessLayer.saveAssetGitHub(\n        repository?.owner?.login,\n        repository?.name,\n        branch,\n        file.path,\n        content,\n        message.trim()\n      );\n\n      if (result.result === 'success') {\n        setGithubSaveSuccess(true);\n        setShowCommitDialog(false);\n        setCommitMessage('');\n        onSave && onSave(content, 'github');\n        \n        // Auto-hide success message after 3 seconds\n        setTimeout(() => {\n          setGithubSaveSuccess(false);\n        }, 3000);\n      } else {\n        // Handle different result types\n        let errorMessage = result.message;\n        if (result.result === 'demo_mode_blocked') {\n          errorMessage = 'Demo users cannot save to GitHub. You can save changes locally instead.';\n        } else if (result.result === 'permission_denied') {\n          errorMessage = 'You do not have permission to save to this repository.';\n        }\n        throw new Error(errorMessage);\n      }\n\n    } catch (error) {\n      console.error('Error saving file to GitHub:', error);\n      setSaveError(`Failed to save to GitHub: ${error.message}`);\n    } finally {\n      setIsSavingGitHub(false);\n    }\n  }, [file, content, repository, branch, onSave, customSaveToGitHub]);\n\n  // Handle commit dialog cancel\n  const handleCancelCommit = useCallback(() => {\n    setShowCommitDialog(false);\n    setCommitMessage('');\n  }, []);\n\n  const saveButtonsProps = {\n    // States\n    hasChanges,\n    isSavingLocal,\n    isSavingGitHub,\n    canSaveToGitHub,\n    localSaveSuccess,\n    githubSaveSuccess,\n    \n    // Handlers\n    onSaveLocal: handleSaveLocal,\n    onSaveGitHub: handleSaveGitHub\n  };\n\n  return (\n    <PageLayout pageName={pageName} {...pageLayoutProps}>\n      <div className=\"asset-editor-layout\">\n        {/* Top save buttons */}\n        {showSaveButtons && (saveButtonsPosition === 'top' || saveButtonsPosition === 'both') && (\n          <div className=\"save-buttons-top\">\n            <SaveButtonsContainer {...saveButtonsProps} />\n          </div>\n        )}\n\n        {/* Error display */}\n        {saveError && (\n          <div className=\"asset-editor-error\">\n            <span className=\"error-icon\">⚠️</span>\n            {saveError}\n            <button \n              className=\"btn-link error-dismiss\"\n              onClick={() => setSaveError(null)}\n            >\n              ✕\n            </button>\n          </div>\n        )}\n\n        {/* Success messages */}\n        {localSaveSuccess && (\n          <div className=\"asset-editor-success\">\n            <span className=\"success-icon\">✅</span>\n            Changes saved locally successfully!\n          </div>\n        )}\n        \n        {githubSaveSuccess && (\n          <div className=\"asset-editor-success\">\n            <span className=\"success-icon\">✅</span>\n            Changes committed to GitHub successfully!\n          </div>\n        )}\n\n        {/* Main content area */}\n        <div className=\"asset-editor-content\">\n          {children}\n        </div>\n\n        {/* Bottom save buttons */}\n        {showSaveButtons && (saveButtonsPosition === 'bottom' || saveButtonsPosition === 'both') && (\n          <div className=\"save-buttons-bottom\">\n            <SaveButtonsContainer {...saveButtonsProps} />\n          </div>\n        )}\n\n        {/* Commit message dialog */}\n        {showCommitDialog && (\n          <CommitMessageDialog\n            isOpen={showCommitDialog}\n            commitMessage={commitMessage}\n            setCommitMessage={setCommitMessage}\n            onCommit={handleCommitToGitHub}\n            onCancel={handleCancelCommit}\n            isSaving={isSavingGitHub}\n            fileName={file?.name}\n          />\n        )}\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default AssetEditorLayout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}