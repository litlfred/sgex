{"ast":null,"code":"import { is } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/tooltips/Tooltips').default} Tooltips\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n */\n\nvar COLLAB_ERR_MSG = 'flow elements must be children of pools/participants';\nvar DATA_OBJECT_ERR_MSG = 'Data object must be placed within a pool/participant.';\n\n/**\n * @param {EventBus} eventBus\n * @param {Tooltips} tooltips\n * @param {Translate} translate\n */\nexport default function ModelingFeedback(eventBus, tooltips, translate) {\n  function showError(position, message, timeout) {\n    tooltips.add({\n      position: {\n        x: position.x + 5,\n        y: position.y + 5\n      },\n      type: 'error',\n      timeout: timeout || 2000,\n      html: '<div>' + message + '</div>'\n    });\n  }\n  eventBus.on(['shape.move.rejected', 'create.rejected'], function (event) {\n    var context = event.context,\n      shape = context.shape,\n      target = context.target;\n    if (is(target, 'bpmn:Collaboration')) {\n      if (is(shape, 'bpmn:FlowNode')) {\n        showError(event, translate(COLLAB_ERR_MSG));\n      } else if (is(shape, 'bpmn:DataObjectReference')) {\n        showError(event, translate(DATA_OBJECT_ERR_MSG));\n      }\n    }\n  });\n}\nModelingFeedback.$inject = ['eventBus', 'tooltips', 'translate'];","map":{"version":3,"names":["is","COLLAB_ERR_MSG","DATA_OBJECT_ERR_MSG","ModelingFeedback","eventBus","tooltips","translate","showError","position","message","timeout","add","x","y","type","html","on","event","context","shape","target","$inject"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/modeling-feedback/ModelingFeedback.js"],"sourcesContent":["import { is } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/tooltips/Tooltips').default} Tooltips\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n */\n\nvar COLLAB_ERR_MSG = 'flow elements must be children of pools/participants';\nvar DATA_OBJECT_ERR_MSG = 'Data object must be placed within a pool/participant.';\n\n/**\n * @param {EventBus} eventBus\n * @param {Tooltips} tooltips\n * @param {Translate} translate\n */\nexport default function ModelingFeedback(eventBus, tooltips, translate) {\n\n  function showError(position, message, timeout) {\n    tooltips.add({\n      position: {\n        x: position.x + 5,\n        y: position.y + 5\n      },\n      type: 'error',\n      timeout: timeout || 2000,\n      html: '<div>' + message + '</div>'\n    });\n  }\n\n  eventBus.on([ 'shape.move.rejected', 'create.rejected' ], function(event) {\n    var context = event.context,\n        shape = context.shape,\n        target = context.target;\n\n    if (is(target, 'bpmn:Collaboration')) {\n      if (is(shape, 'bpmn:FlowNode')) {\n        showError(event, translate(COLLAB_ERR_MSG));\n      } else if (is(shape, 'bpmn:DataObjectReference')) {\n        showError(event, translate(DATA_OBJECT_ERR_MSG));\n      }\n    }\n  });\n\n}\n\nModelingFeedback.$inject = [\n  'eventBus',\n  'tooltips',\n  'translate'\n];\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,sBAAsB;;AAEzC;AACA;AACA;AACA;AACA;;AAEA,IAAIC,cAAc,GAAG,sDAAsD;AAC3E,IAAIC,mBAAmB,GAAG,uDAAuD;;AAEjF;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,gBAAgBA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,EAAE;EAEtE,SAASC,SAASA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAE;IAC7CL,QAAQ,CAACM,GAAG,CAAC;MACXH,QAAQ,EAAE;QACRI,CAAC,EAAEJ,QAAQ,CAACI,CAAC,GAAG,CAAC;QACjBC,CAAC,EAAEL,QAAQ,CAACK,CAAC,GAAG;MAClB,CAAC;MACDC,IAAI,EAAE,OAAO;MACbJ,OAAO,EAAEA,OAAO,IAAI,IAAI;MACxBK,IAAI,EAAE,OAAO,GAAGN,OAAO,GAAG;IAC5B,CAAC,CAAC;EACJ;EAEAL,QAAQ,CAACY,EAAE,CAAC,CAAE,qBAAqB,EAAE,iBAAiB,CAAE,EAAE,UAASC,KAAK,EAAE;IACxE,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAAO;MACvBC,KAAK,GAAGD,OAAO,CAACC,KAAK;MACrBC,MAAM,GAAGF,OAAO,CAACE,MAAM;IAE3B,IAAIpB,EAAE,CAACoB,MAAM,EAAE,oBAAoB,CAAC,EAAE;MACpC,IAAIpB,EAAE,CAACmB,KAAK,EAAE,eAAe,CAAC,EAAE;QAC9BZ,SAAS,CAACU,KAAK,EAAEX,SAAS,CAACL,cAAc,CAAC,CAAC;MAC7C,CAAC,MAAM,IAAID,EAAE,CAACmB,KAAK,EAAE,0BAA0B,CAAC,EAAE;QAChDZ,SAAS,CAACU,KAAK,EAAEX,SAAS,CAACJ,mBAAmB,CAAC,CAAC;MAClD;IACF;EACF,CAAC,CAAC;AAEJ;AAEAC,gBAAgB,CAACkB,OAAO,GAAG,CACzB,UAAU,EACV,UAAU,EACV,WAAW,CACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}