{"ast":null,"code":"/**\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n */\n\n/**\r\n * @param {EventBus} eventBus\r\n */\nexport default function Mouse(eventBus) {\n  var self = this;\n  this._lastMoveEvent = null;\n  function setLastMoveEvent(mousemoveEvent) {\n    self._lastMoveEvent = mousemoveEvent;\n  }\n  eventBus.on('canvas.init', function (context) {\n    var svg = self._svg = context.svg;\n    svg.addEventListener('mousemove', setLastMoveEvent);\n  });\n  eventBus.on('canvas.destroy', function () {\n    self._lastMouseEvent = null;\n    self._svg.removeEventListener('mousemove', setLastMoveEvent);\n  });\n}\nMouse.$inject = ['eventBus'];\nMouse.prototype.getLastMoveEvent = function () {\n  return this._lastMoveEvent || createMoveEvent(0, 0);\n};\n\n// helpers //////////\n\nexport function createMoveEvent(x, y) {\n  var event = document.createEvent('MouseEvent');\n  var screenX = x,\n    screenY = y,\n    clientX = x,\n    clientY = y;\n  if (event.initMouseEvent) {\n    event.initMouseEvent('mousemove', true, true, window, 0, screenX, screenY, clientX, clientY, false, false, false, false, 0, null);\n  }\n  return event;\n}","map":{"version":3,"names":["Mouse","eventBus","self","_lastMoveEvent","setLastMoveEvent","mousemoveEvent","on","context","svg","_svg","addEventListener","_lastMouseEvent","removeEventListener","$inject","prototype","getLastMoveEvent","createMoveEvent","x","y","event","document","createEvent","screenX","screenY","clientX","clientY","initMouseEvent","window"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js/lib/features/mouse/Mouse.js"],"sourcesContent":["/**\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n */\r\n\r\n/**\r\n * @param {EventBus} eventBus\r\n */\r\nexport default function Mouse(eventBus) {\r\n  var self = this;\r\n\r\n  this._lastMoveEvent = null;\r\n\r\n  function setLastMoveEvent(mousemoveEvent) {\r\n    self._lastMoveEvent = mousemoveEvent;\r\n  }\r\n\r\n  eventBus.on('canvas.init', function(context) {\r\n    var svg = self._svg = context.svg;\r\n\r\n    svg.addEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n\r\n  eventBus.on('canvas.destroy', function() {\r\n    self._lastMouseEvent = null;\r\n\r\n    self._svg.removeEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n}\r\n\r\nMouse.$inject = [ 'eventBus' ];\r\n\r\nMouse.prototype.getLastMoveEvent = function() {\r\n  return this._lastMoveEvent || createMoveEvent(0, 0);\r\n};\r\n\r\n// helpers //////////\r\n\r\nexport function createMoveEvent(x, y) {\r\n  var event = document.createEvent('MouseEvent');\r\n\r\n  var screenX = x,\r\n      screenY = y,\r\n      clientX = x,\r\n      clientY = y;\r\n\r\n  if (event.initMouseEvent) {\r\n    event.initMouseEvent(\r\n      'mousemove',\r\n      true,\r\n      true,\r\n      window,\r\n      0,\r\n      screenX,\r\n      screenY,\r\n      clientX,\r\n      clientY,\r\n      false,\r\n      false,\r\n      false,\r\n      false,\r\n      0,\r\n      null\r\n    );\r\n  }\r\n\r\n  return event;\r\n}"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAASA,KAAKA,CAACC,QAAQ,EAAE;EACtC,IAAIC,IAAI,GAAG,IAAI;EAEf,IAAI,CAACC,cAAc,GAAG,IAAI;EAE1B,SAASC,gBAAgBA,CAACC,cAAc,EAAE;IACxCH,IAAI,CAACC,cAAc,GAAGE,cAAc;EACtC;EAEAJ,QAAQ,CAACK,EAAE,CAAC,aAAa,EAAE,UAASC,OAAO,EAAE;IAC3C,IAAIC,GAAG,GAAGN,IAAI,CAACO,IAAI,GAAGF,OAAO,CAACC,GAAG;IAEjCA,GAAG,CAACE,gBAAgB,CAAC,WAAW,EAAEN,gBAAgB,CAAC;EACrD,CAAC,CAAC;EAEFH,QAAQ,CAACK,EAAE,CAAC,gBAAgB,EAAE,YAAW;IACvCJ,IAAI,CAACS,eAAe,GAAG,IAAI;IAE3BT,IAAI,CAACO,IAAI,CAACG,mBAAmB,CAAC,WAAW,EAAER,gBAAgB,CAAC;EAC9D,CAAC,CAAC;AACJ;AAEAJ,KAAK,CAACa,OAAO,GAAG,CAAE,UAAU,CAAE;AAE9Bb,KAAK,CAACc,SAAS,CAACC,gBAAgB,GAAG,YAAW;EAC5C,OAAO,IAAI,CAACZ,cAAc,IAAIa,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC;AACrD,CAAC;;AAED;;AAEA,OAAO,SAASA,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACpC,IAAIC,KAAK,GAAGC,QAAQ,CAACC,WAAW,CAAC,YAAY,CAAC;EAE9C,IAAIC,OAAO,GAAGL,CAAC;IACXM,OAAO,GAAGL,CAAC;IACXM,OAAO,GAAGP,CAAC;IACXQ,OAAO,GAAGP,CAAC;EAEf,IAAIC,KAAK,CAACO,cAAc,EAAE;IACxBP,KAAK,CAACO,cAAc,CAClB,WAAW,EACX,IAAI,EACJ,IAAI,EACJC,MAAM,EACN,CAAC,EACDL,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,OAAO,EACP,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,CAAC,EACD,IACF,CAAC;EACH;EAEA,OAAON,KAAK;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}