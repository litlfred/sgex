{"ast":null,"code":"import React from'react';import{usePage,PAGE_TYPES}from'./PageProvider';import'./PageContext.css';/**\n * Page context component that displays profile/repo/branch information and breadcrumbs\n * Unified navigation component with avatar on left and two-row content on right\n */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const PageContext=_ref=>{let{customBreadcrumbs}=_ref;const{type,pageName,profile,repository,branch,navigate}=usePage();const handleGitHubRepo=()=>{if(repository!==null&&repository!==void 0&&repository.html_url){window.open(repository.html_url,'_blank');}};const handleGitHubUser=()=>{if(profile!==null&&profile!==void 0&&profile.html_url){window.open(profile.html_url,'_blank');}else if(profile!==null&&profile!==void 0&&profile.login){window.open(`https://github.com/${profile.login}`,'_blank');}};// Generate breadcrumbs\nconst getBreadcrumbs=()=>{// If custom breadcrumbs are provided, use them\nif(customBreadcrumbs&&customBreadcrumbs.length>0){return customBreadcrumbs;}// Generate automatic breadcrumbs based on page type\nconst breadcrumbs=[];// Always start with home\nbreadcrumbs.push({label:'Home',path:'/',onClick:()=>navigate('/')});// Add user context for user/DAK/asset pages\nif((type===PAGE_TYPES.USER||type===PAGE_TYPES.DAK||type===PAGE_TYPES.ASSET)&&profile){breadcrumbs.push({label:'Select Repository',path:`/repositories/${profile.login}`,onClick:()=>navigate(`/repositories/${profile.login}`,{state:{profile}})});}// Add DAK context for DAK/asset pages\nif((type===PAGE_TYPES.DAK||type===PAGE_TYPES.ASSET)&&repository){var _repository$owner,_repository$full_name;const branchPath=branch&&branch!=='main'?`/${branch}`:'';const ownerLogin=((_repository$owner=repository.owner)===null||_repository$owner===void 0?void 0:_repository$owner.login)||((_repository$full_name=repository.full_name)===null||_repository$full_name===void 0?void 0:_repository$full_name.split('/')[0]);if(ownerLogin){breadcrumbs.push({label:'DAK Components',path:`/dashboard/${ownerLogin}/${repository.name}${branchPath}`,onClick:()=>navigate(`/dashboard/${ownerLogin}/${repository.name}${branchPath}`)});}}// Add current page context\nconst pageLabels={'landing':'Home','landing-unauthenticated':'Home','repositories':'Select Repository','dak-selection':'Select DAK','dak-action':'Choose DAK Action','dashboard':'DAK Components','dak-dashboard':'DAK Components','actor-editor':'Actor Definitions','component-editor':'Component Editor','bpmn-viewer':'Business Process Viewer','bpmn-editor':'Business Process Editor','decision-support-logic':'Decision Support Logic','core-data-dictionary-viewer':'Core Data Dictionary','testing-viewer':'Testing','pages-manager':'Pages','documentation':'Documentation'};const currentPageLabel=pageLabels[pageName]||pageName;// Don't add duplicate page labels\nif(breadcrumbs.length===0||breadcrumbs[breadcrumbs.length-1].label!==currentPageLabel){breadcrumbs.push({label:currentPageLabel,current:true});}return breadcrumbs;};const breadcrumbs=getBreadcrumbs();// Don't render if no context information to show\nif(!profile&&!repository&&breadcrumbs.length<=1){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"page-context-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-context-content\",children:[profile&&/*#__PURE__*/_jsx(\"img\",{src:profile.avatar_url,alt:`${profile.login} avatar`,className:\"page-context-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-context-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-context-row page-context-user-repo\",children:[profile&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"page-context-profile\",onClick:handleGitHubUser,children:profile.login}),repository&&/*#__PURE__*/_jsx(\"span\",{className:\"page-context-separator\",children:\"/\"})]}),repository&&/*#__PURE__*/_jsx(\"span\",{className:\"page-context-repo\",onClick:handleGitHubRepo,children:repository.name}),branch&&(type===PAGE_TYPES.DAK||type===PAGE_TYPES.ASSET)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"page-context-separator\",children:\"@\"}),/*#__PURE__*/_jsx(\"span\",{className:\"page-context-branch\",children:branch})]})]}),breadcrumbs.length>1&&/*#__PURE__*/_jsx(\"nav\",{className:\"page-context-row page-context-breadcrumbs\",\"aria-label\":\"Breadcrumb navigation\",children:/*#__PURE__*/_jsx(\"ol\",{className:\"breadcrumb-list\",children:breadcrumbs.map((crumb,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:!crumb.current?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"breadcrumb-link\",onClick:()=>crumb.onClick?crumb.onClick():navigate(crumb.path),\"aria-label\":`Navigate to ${crumb.label}`,children:crumb.label}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",\"aria-hidden\":\"true\",children:\"\\u203A\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-current\",\"aria-current\":\"page\",children:crumb.label})},index))})})]})]})});};export default PageContext;","map":{"version":3,"names":["React","usePage","PAGE_TYPES","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PageContext","_ref","customBreadcrumbs","type","pageName","profile","repository","branch","navigate","handleGitHubRepo","html_url","window","open","handleGitHubUser","login","getBreadcrumbs","length","breadcrumbs","push","label","path","onClick","USER","DAK","ASSET","state","_repository$owner","_repository$full_name","branchPath","ownerLogin","owner","full_name","split","name","pageLabels","currentPageLabel","current","className","children","src","avatar_url","alt","map","crumb","index"],"sources":["/home/runner/work/sgex/sgex/src/components/framework/PageContext.js"],"sourcesContent":["import React from 'react';\nimport { usePage, PAGE_TYPES } from './PageProvider';\nimport './PageContext.css';\n\n/**\n * Page context component that displays profile/repo/branch information and breadcrumbs\n * Unified navigation component with avatar on left and two-row content on right\n */\nconst PageContext = ({ customBreadcrumbs }) => {\n  const { \n    type, \n    pageName,\n    profile, \n    repository, \n    branch,\n    navigate \n  } = usePage();\n\n  const handleGitHubRepo = () => {\n    if (repository?.html_url) {\n      window.open(repository.html_url, '_blank');\n    }\n  };\n\n  const handleGitHubUser = () => {\n    if (profile?.html_url) {\n      window.open(profile.html_url, '_blank');\n    } else if (profile?.login) {\n      window.open(`https://github.com/${profile.login}`, '_blank');\n    }\n  };\n\n  // Generate breadcrumbs\n  const getBreadcrumbs = () => {\n    // If custom breadcrumbs are provided, use them\n    if (customBreadcrumbs && customBreadcrumbs.length > 0) {\n      return customBreadcrumbs;\n    }\n\n    // Generate automatic breadcrumbs based on page type\n    const breadcrumbs = [];\n\n    // Always start with home\n    breadcrumbs.push({\n      label: 'Home',\n      path: '/',\n      onClick: () => navigate('/')\n    });\n\n    // Add user context for user/DAK/asset pages\n    if ((type === PAGE_TYPES.USER || type === PAGE_TYPES.DAK || type === PAGE_TYPES.ASSET) && profile) {\n      breadcrumbs.push({\n        label: 'Select Repository',\n        path: `/repositories/${profile.login}`,\n        onClick: () => navigate(`/repositories/${profile.login}`, { state: { profile } })\n      });\n    }\n\n    // Add DAK context for DAK/asset pages\n    if ((type === PAGE_TYPES.DAK || type === PAGE_TYPES.ASSET) && repository) {\n      const branchPath = branch && branch !== 'main' ? `/${branch}` : '';\n      const ownerLogin = repository.owner?.login || repository.full_name?.split('/')[0];\n      if (ownerLogin) {\n        breadcrumbs.push({\n          label: 'DAK Components',\n          path: `/dashboard/${ownerLogin}/${repository.name}${branchPath}`,\n          onClick: () => navigate(`/dashboard/${ownerLogin}/${repository.name}${branchPath}`)\n        });\n      }\n    }\n\n    // Add current page context\n    const pageLabels = {\n      'landing': 'Home',\n      'landing-unauthenticated': 'Home',\n      'repositories': 'Select Repository', \n      'dak-selection': 'Select DAK',\n      'dak-action': 'Choose DAK Action',\n      'dashboard': 'DAK Components',\n      'dak-dashboard': 'DAK Components',\n      'actor-editor': 'Actor Definitions',\n      'component-editor': 'Component Editor',\n      'bpmn-viewer': 'Business Process Viewer',\n      'bpmn-editor': 'Business Process Editor',\n      'decision-support-logic': 'Decision Support Logic',\n      'core-data-dictionary-viewer': 'Core Data Dictionary',\n      'testing-viewer': 'Testing',\n      'pages-manager': 'Pages',\n      'documentation': 'Documentation'\n    };\n\n    const currentPageLabel = pageLabels[pageName] || pageName;\n    \n    // Don't add duplicate page labels\n    if (breadcrumbs.length === 0 || breadcrumbs[breadcrumbs.length - 1].label !== currentPageLabel) {\n      breadcrumbs.push({\n        label: currentPageLabel,\n        current: true\n      });\n    }\n\n    return breadcrumbs;\n  };\n\n  const breadcrumbs = getBreadcrumbs();\n\n  // Don't render if no context information to show\n  if (!profile && !repository && breadcrumbs.length <= 1) {\n    return null;\n  }\n\n  return (\n    <div className=\"page-context-container\">\n      <div className=\"page-context-content\">\n        {/* Avatar positioned to the far left */}\n        {profile && (\n          <img src={profile.avatar_url} alt={`${profile.login} avatar`} className=\"page-context-avatar\" />\n        )}\n        \n        <div className=\"page-context-info\">\n          {/* First row: Profile / Repository / Branch */}\n          <div className=\"page-context-row page-context-user-repo\">\n            {profile && (\n              <>\n                <span className=\"page-context-profile\" onClick={handleGitHubUser}>\n                  {profile.login}\n                </span>\n                {repository && <span className=\"page-context-separator\">/</span>}\n              </>\n            )}\n            {repository && (\n              <span className=\"page-context-repo\" onClick={handleGitHubRepo}>\n                {repository.name}\n              </span>\n            )}\n            {branch && (type === PAGE_TYPES.DAK || type === PAGE_TYPES.ASSET) && (\n              <>\n                <span className=\"page-context-separator\">@</span>\n                <span className=\"page-context-branch\">{branch}</span>\n              </>\n            )}\n          </div>\n          \n          {/* Second row: Breadcrumbs */}\n          {breadcrumbs.length > 1 && (\n            <nav className=\"page-context-row page-context-breadcrumbs\" aria-label=\"Breadcrumb navigation\">\n              <ol className=\"breadcrumb-list\">\n                {breadcrumbs.map((crumb, index) => (\n                  <li key={index} className=\"breadcrumb-item\">\n                    {!crumb.current ? (\n                      <>\n                        <button \n                          className=\"breadcrumb-link\" \n                          onClick={() => crumb.onClick ? crumb.onClick() : navigate(crumb.path)}\n                          aria-label={`Navigate to ${crumb.label}`}\n                        >\n                          {crumb.label}\n                        </button>\n                        <span className=\"breadcrumb-separator\" aria-hidden=\"true\">â€º</span>\n                      </>\n                    ) : (\n                      <span className=\"breadcrumb-current\" aria-current=\"page\">\n                        {crumb.label}\n                      </span>\n                    )}\n                  </li>\n                ))}\n              </ol>\n            </nav>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}