{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import githubService from'../services/githubService';import{PageLayout}from'./framework';import'./BPMNSource.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BPMNSource=()=>{const location=useLocation();const navigate=useNavigate();const{profile,repository,component,selectedFile,selectedBranch}=location.state||{};// Essential debug logging for troubleshooting branch URL issue\nconsole.log('BPMNSource: Received selectedBranch =',selectedBranch);const[bpmnXml,setBpmnXml]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[hasWriteAccess,setHasWriteAccess]=useState(false);// Check write permissions\nuseEffect(()=>{const checkPermissions=async()=>{if(repository&&profile){try{var _repository$permissio;// Simple permission check - in real app, this would use githubService\nconst writeAccess=profile.token&&((_repository$permissio=repository.permissions)===null||_repository$permissio===void 0?void 0:_repository$permissio.push);setHasWriteAccess(writeAccess||false);}catch(error){console.warn('Could not check write permissions:',error);setHasWriteAccess(false);}}};checkPermissions();},[repository,profile]);// Load BPMN XML source\nuseEffect(()=>{const loadBpmnSource=async()=>{if(!selectedFile||!repository){return;}try{var _repository$owner;setLoading(true);setError(null);const owner=((_repository$owner=repository.owner)===null||_repository$owner===void 0?void 0:_repository$owner.login)||repository.full_name.split('/')[0];const repoName=repository.name;const ref=selectedBranch||'main';console.log(`Loading BPMN source from ${owner}/${repoName}:${selectedFile.path} (ref: ${ref})`);// Use githubService to fetch file content (works for both public and private repos)\nconst xmlContent=await githubService.getFileContent(owner,repoName,selectedFile.path,ref);console.log('Successfully loaded BPMN source from repository');setBpmnXml(xmlContent);setLoading(false);}catch(err){console.error('Error loading BPMN source:',err);// Provide specific error messages based on the error type\nif(err.status===404){setError('BPMN file not found in the repository. The file may have been moved or deleted.');}else if(err.status===403){setError('Access denied. This repository may be private and require authentication.');}else if(err.message.includes('rate limit')){setError('GitHub API rate limit exceeded. Please try again later or authenticate for higher limits.');}else{setError(`Failed to load BPMN source: ${err.message}`);}setLoading(false);}};loadBpmnSource();},[selectedFile,repository,selectedBranch]);const handleCopyToClipboard=async()=>{try{await navigator.clipboard.writeText(bpmnXml);// Show temporary success message\nconst button=document.querySelector('.copy-btn');const originalText=button.textContent;button.textContent='‚úì Copied!';setTimeout(()=>{button.textContent=originalText;},2000);}catch(err){console.error('Failed to copy to clipboard:',err);alert('Failed to copy to clipboard');}};const handleDownload=()=>{const blob=new Blob([bpmnXml],{type:'application/xml'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=selectedFile.name;document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};const handleBackToSelection=()=>{navigate('/business-process-selection',{state:{profile,repository,component,selectedBranch}});};const getGitHubUrl=()=>{var _repository$owner2;const owner=((_repository$owner2=repository.owner)===null||_repository$owner2===void 0?void 0:_repository$owner2.login)||repository.full_name.split('/')[0];const branch=selectedBranch||'main';// Essential debug logging\nconsole.log('BPMNSource GitHub URL: using branch =',branch);// Only encode the branch if it contains special characters, leave the file path as-is\nconst encodedBranch=encodeURIComponent(branch);const url=`https://github.com/${owner}/${repository.name}/blob/${encodedBranch}/${selectedFile.path}`;console.log('BPMNSource GitHub URL generated:',url);return url;};const getGitHubEditUrl=()=>{var _repository$owner3;const owner=((_repository$owner3=repository.owner)===null||_repository$owner3===void 0?void 0:_repository$owner3.login)||repository.full_name.split('/')[0];const branch=selectedBranch||'main';// Only encode the branch if it contains special characters, leave the file path as-is\nconst encodedBranch=encodeURIComponent(branch);const url=`https://github.com/${owner}/${repository.name}/edit/${encodedBranch}/${selectedFile.path}`;return url;};// Redirect if missing required context - use useEffect to avoid render issues\nuseEffect(()=>{if(!profile||!repository||!selectedFile){navigate('/');}},[profile,repository,selectedFile,navigate]);if(!profile||!repository||!selectedFile){return/*#__PURE__*/_jsx(PageLayout,{pageName:\"bpmn-source\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bpmn-source\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"redirecting-state\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Redirecting...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Missing required context. Redirecting to home page...\"})]})})});}return/*#__PURE__*/_jsx(PageLayout,{pageName:\"bpmn-source\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bpmn-source\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"source-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"breadcrumb-link\",children:\"Select Profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/repositories',{state:{profile}}),className:\"breadcrumb-link\",children:\"Select Repository\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard',{state:{profile,repository}}),className:\"breadcrumb-link\",children:\"DAK Components\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToSelection,className:\"breadcrumb-link\",children:\"Business Processes\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"breadcrumb-current\",children:[selectedFile.name,\" (source)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"source-toolbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-left\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedFile.name}),/*#__PURE__*/_jsx(\"span\",{className:\"source-mode-badge\",children:\"\\uD83D\\uDCC4 XML Source\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-right\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:handleBackToSelection,children:\"\\u2190 Back to List\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:handleCopyToClipboard,disabled:loading,children:\"\\uD83D\\uDCCB Copy\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:handleDownload,disabled:loading,children:\"\\uD83D\\uDCBE Download\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"source-container\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading BPMN source code...\"})]}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-overlay\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u274C \",error]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:()=>window.location.reload(),children:\"Retry\"})]}):/*#__PURE__*/_jsx(\"pre\",{className:\"source-code\",children:/*#__PURE__*/_jsx(\"code\",{className:\"xml-code\",children:bpmnXml})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"github-links\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"GitHub Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"link-buttons\",children:[/*#__PURE__*/_jsx(\"a\",{href:getGitHubUrl(),target:\"_blank\",rel:\"noopener noreferrer\",className:\"action-btn github-view\",children:\"\\uD83D\\uDC41\\uFE0F View on GitHub\"}),hasWriteAccess&&/*#__PURE__*/_jsx(\"a\",{href:getGitHubEditUrl(),target:\"_blank\",rel:\"noopener noreferrer\",className:\"action-btn github-edit\",children:\"\\u270F\\uFE0F Edit on GitHub\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"File Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"File Path:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"file-path\",children:selectedFile.path})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"File Size:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(selectedFile.size/1024).toFixed(1),\" KB\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Format:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"BPMN 2.0 XML\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Access Level:\"}),/*#__PURE__*/_jsx(\"span\",{className:`access-badge ${hasWriteAccess?'write':'read'}`,children:hasWriteAccess?'‚úèÔ∏è Edit Access':'üëÅÔ∏è Read-Only'})]})]})]})]})]})]})})});};export default BPMNSource;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","githubService","PageLayout","jsx","_jsx","jsxs","_jsxs","BPMNSource","location","navigate","profile","repository","component","selectedFile","selectedBranch","state","console","log","bpmnXml","setBpmnXml","loading","setLoading","error","setError","hasWriteAccess","setHasWriteAccess","checkPermissions","_repository$permissio","writeAccess","token","permissions","push","warn","loadBpmnSource","_repository$owner","owner","login","full_name","split","repoName","name","ref","path","xmlContent","getFileContent","err","status","message","includes","handleCopyToClipboard","navigator","clipboard","writeText","button","document","querySelector","originalText","textContent","setTimeout","alert","handleDownload","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleBackToSelection","getGitHubUrl","_repository$owner2","branch","encodedBranch","encodeURIComponent","getGitHubEditUrl","_repository$owner3","pageName","children","className","onClick","disabled","window","reload","target","rel","size","toFixed"],"sources":["/home/runner/work/sgex/sgex/src/components/BPMNSource.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport githubService from '../services/githubService';\nimport { PageLayout } from './framework';\nimport './BPMNSource.css';\n\nconst BPMNSource = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  \n  const { profile, repository, component, selectedFile, selectedBranch } = location.state || {};\n  \n  // Essential debug logging for troubleshooting branch URL issue\n  console.log('BPMNSource: Received selectedBranch =', selectedBranch);\n  \n  const [bpmnXml, setBpmnXml] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [hasWriteAccess, setHasWriteAccess] = useState(false);\n\n  // Check write permissions\n  useEffect(() => {\n    const checkPermissions = async () => {\n      if (repository && profile) {\n        try {\n          // Simple permission check - in real app, this would use githubService\n          const writeAccess = profile.token && repository.permissions?.push;\n          setHasWriteAccess(writeAccess || false);\n        } catch (error) {\n          console.warn('Could not check write permissions:', error);\n          setHasWriteAccess(false);\n        }\n      }\n    };\n\n    checkPermissions();\n  }, [repository, profile]);\n\n  // Load BPMN XML source\n  useEffect(() => {\n    const loadBpmnSource = async () => {\n      if (!selectedFile || !repository) {\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        const owner = repository.owner?.login || repository.full_name.split('/')[0];\n        const repoName = repository.name;\n        const ref = selectedBranch || 'main';\n\n        console.log(`Loading BPMN source from ${owner}/${repoName}:${selectedFile.path} (ref: ${ref})`);\n        \n        // Use githubService to fetch file content (works for both public and private repos)\n        const xmlContent = await githubService.getFileContent(owner, repoName, selectedFile.path, ref);\n        \n        console.log('Successfully loaded BPMN source from repository');\n\n        setBpmnXml(xmlContent);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error loading BPMN source:', err);\n        \n        // Provide specific error messages based on the error type\n        if (err.status === 404) {\n          setError('BPMN file not found in the repository. The file may have been moved or deleted.');\n        } else if (err.status === 403) {\n          setError('Access denied. This repository may be private and require authentication.');\n        } else if (err.message.includes('rate limit')) {\n          setError('GitHub API rate limit exceeded. Please try again later or authenticate for higher limits.');\n        } else {\n          setError(`Failed to load BPMN source: ${err.message}`);\n        }\n        \n        setLoading(false);\n      }\n    };\n\n    loadBpmnSource();\n  }, [selectedFile, repository, selectedBranch]);\n\n  const handleCopyToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(bpmnXml);\n      // Show temporary success message\n      const button = document.querySelector('.copy-btn');\n      const originalText = button.textContent;\n      button.textContent = '‚úì Copied!';\n      setTimeout(() => {\n        button.textContent = originalText;\n      }, 2000);\n    } catch (err) {\n      console.error('Failed to copy to clipboard:', err);\n      alert('Failed to copy to clipboard');\n    }\n  };\n\n  const handleDownload = () => {\n    const blob = new Blob([bpmnXml], { type: 'application/xml' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = selectedFile.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleBackToSelection = () => {\n    navigate('/business-process-selection', {\n      state: {\n        profile,\n        repository,\n        component,\n        selectedBranch\n      }\n    });\n  };\n\n  const getGitHubUrl = () => {\n    const owner = repository.owner?.login || repository.full_name.split('/')[0];\n    const branch = selectedBranch || 'main';\n    \n    // Essential debug logging\n    console.log('BPMNSource GitHub URL: using branch =', branch);\n    \n    // Only encode the branch if it contains special characters, leave the file path as-is\n    const encodedBranch = encodeURIComponent(branch);\n    const url = `https://github.com/${owner}/${repository.name}/blob/${encodedBranch}/${selectedFile.path}`;\n    \n    console.log('BPMNSource GitHub URL generated:', url);\n    \n    return url;\n  };\n\n  const getGitHubEditUrl = () => {\n    const owner = repository.owner?.login || repository.full_name.split('/')[0];\n    const branch = selectedBranch || 'main';\n    \n    // Only encode the branch if it contains special characters, leave the file path as-is\n    const encodedBranch = encodeURIComponent(branch);\n    const url = `https://github.com/${owner}/${repository.name}/edit/${encodedBranch}/${selectedFile.path}`;\n    \n    return url;\n  };\n\n  // Redirect if missing required context - use useEffect to avoid render issues\n  useEffect(() => {\n    if (!profile || !repository || !selectedFile) {\n      navigate('/');\n    }\n  }, [profile, repository, selectedFile, navigate]);\n\n  if (!profile || !repository || !selectedFile) {\n    return (\n      <PageLayout pageName=\"bpmn-source\">\n        <div className=\"bpmn-source\">\n          <div className=\"redirecting-state\">\n            <h2>Redirecting...</h2>\n            <p>Missing required context. Redirecting to home page...</p>\n          </div>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout pageName=\"bpmn-source\">\n      <div className=\"bpmn-source\">\n        <div className=\"source-content\">\n        <div className=\"breadcrumb\">\n          <button onClick={() => navigate('/')} className=\"breadcrumb-link\">\n            Select Profile\n          </button>\n          <span className=\"breadcrumb-separator\">‚Ä∫</span>\n          <button onClick={() => navigate('/repositories', { state: { profile } })} className=\"breadcrumb-link\">\n            Select Repository\n          </button>\n          <span className=\"breadcrumb-separator\">‚Ä∫</span>\n          <button onClick={() => navigate('/dashboard', { state: { profile, repository } })} className=\"breadcrumb-link\">\n            DAK Components\n          </button>\n          <span className=\"breadcrumb-separator\">‚Ä∫</span>\n          <button onClick={handleBackToSelection} className=\"breadcrumb-link\">\n            Business Processes\n          </button>\n          <span className=\"breadcrumb-separator\">‚Ä∫</span>\n          <span className=\"breadcrumb-current\">{selectedFile.name} (source)</span>\n        </div>\n\n        <div className=\"source-main\">\n          <div className=\"source-toolbar\">\n            <div className=\"toolbar-left\">\n              <h3>{selectedFile.name}</h3>\n              <span className=\"source-mode-badge\">üìÑ XML Source</span>\n            </div>\n            <div className=\"toolbar-right\">\n              <button \n                className=\"action-btn secondary\"\n                onClick={handleBackToSelection}\n              >\n                ‚Üê Back to List\n              </button>\n              <button \n                className=\"action-btn secondary\"\n                onClick={handleCopyToClipboard}\n                disabled={loading}\n              >\n                üìã Copy\n              </button>\n              <button \n                className=\"action-btn secondary\"\n                onClick={handleDownload}\n                disabled={loading}\n              >\n                üíæ Download\n              </button>\n            </div>\n          </div>\n\n          <div className=\"source-container\">\n            {loading ? (\n              <div className=\"loading-overlay\">\n                <div className=\"spinner\"></div>\n                <p>Loading BPMN source code...</p>\n              </div>\n            ) : error ? (\n              <div className=\"error-overlay\">\n                <p>‚ùå {error}</p>\n                <button \n                  className=\"action-btn secondary\"\n                  onClick={() => window.location.reload()}\n                >\n                  Retry\n                </button>\n              </div>\n            ) : (\n              <pre className=\"source-code\">\n                <code className=\"xml-code\">{bpmnXml}</code>\n              </pre>\n            )}\n          </div>\n\n          <div className=\"source-actions\">\n            <div className=\"github-links\">\n              <h4>GitHub Actions</h4>\n              <div className=\"link-buttons\">\n                <a \n                  href={getGitHubUrl()}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"action-btn github-view\"\n                >\n                  üëÅÔ∏è View on GitHub\n                </a>\n                {hasWriteAccess && (\n                  <a \n                    href={getGitHubEditUrl()}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"action-btn github-edit\"\n                  >\n                    ‚úèÔ∏è Edit on GitHub\n                  </a>\n                )}\n              </div>\n            </div>\n\n            <div className=\"file-info\">\n              <h4>File Information</h4>\n              <div className=\"info-grid\">\n                <div className=\"info-item\">\n                  <label>File Path:</label>\n                  <span className=\"file-path\">{selectedFile.path}</span>\n                </div>\n                <div className=\"info-item\">\n                  <label>File Size:</label>\n                  <span>{(selectedFile.size / 1024).toFixed(1)} KB</span>\n                </div>\n                <div className=\"info-item\">\n                  <label>Format:</label>\n                  <span>BPMN 2.0 XML</span>\n                </div>\n                <div className=\"info-item\">\n                  <label>Access Level:</label>\n                  <span className={`access-badge ${hasWriteAccess ? 'write' : 'read'}`}>\n                    {hasWriteAccess ? '‚úèÔ∏è Edit Access' : 'üëÅÔ∏è Read-Only'}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      </div>\n    </PageLayout>\n  );\n};\n\nexport default BPMNSource;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,OAASC,UAAU,KAAQ,aAAa,CACxC,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEU,OAAO,CAAEC,UAAU,CAAEC,SAAS,CAAEC,YAAY,CAAEC,cAAe,CAAC,CAAGN,QAAQ,CAACO,KAAK,EAAI,CAAC,CAAC,CAE7F;AACAC,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAEH,cAAc,CAAC,CAEpE,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAC2B,cAAc,CAAEC,iBAAiB,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAE3D;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA4B,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAIf,UAAU,EAAID,OAAO,CAAE,CACzB,GAAI,KAAAiB,qBAAA,CACF;AACA,KAAM,CAAAC,WAAW,CAAGlB,OAAO,CAACmB,KAAK,IAAAF,qBAAA,CAAIhB,UAAU,CAACmB,WAAW,UAAAH,qBAAA,iBAAtBA,qBAAA,CAAwBI,IAAI,EACjEN,iBAAiB,CAACG,WAAW,EAAI,KAAK,CAAC,CACzC,CAAE,MAAON,KAAK,CAAE,CACdN,OAAO,CAACgB,IAAI,CAAC,oCAAoC,CAAEV,KAAK,CAAC,CACzDG,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CACF,CACF,CAAC,CAEDC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACf,UAAU,CAAED,OAAO,CAAC,CAAC,CAEzB;AACAZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACpB,YAAY,EAAI,CAACF,UAAU,CAAE,CAChC,OACF,CAEA,GAAI,KAAAuB,iBAAA,CACFb,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,KAAM,CAAAY,KAAK,CAAG,EAAAD,iBAAA,CAAAvB,UAAU,CAACwB,KAAK,UAAAD,iBAAA,iBAAhBA,iBAAA,CAAkBE,KAAK,GAAIzB,UAAU,CAAC0B,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC3E,KAAM,CAAAC,QAAQ,CAAG5B,UAAU,CAAC6B,IAAI,CAChC,KAAM,CAAAC,GAAG,CAAG3B,cAAc,EAAI,MAAM,CAEpCE,OAAO,CAACC,GAAG,CAAC,4BAA4BkB,KAAK,IAAII,QAAQ,IAAI1B,YAAY,CAAC6B,IAAI,UAAUD,GAAG,GAAG,CAAC,CAE/F;AACA,KAAM,CAAAE,UAAU,CAAG,KAAM,CAAA1C,aAAa,CAAC2C,cAAc,CAACT,KAAK,CAAEI,QAAQ,CAAE1B,YAAY,CAAC6B,IAAI,CAAED,GAAG,CAAC,CAE9FzB,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC,CAE9DE,UAAU,CAACwB,UAAU,CAAC,CACtBtB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOwB,GAAG,CAAE,CACZ7B,OAAO,CAACM,KAAK,CAAC,4BAA4B,CAAEuB,GAAG,CAAC,CAEhD;AACA,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBvB,QAAQ,CAAC,iFAAiF,CAAC,CAC7F,CAAC,IAAM,IAAIsB,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CAC7BvB,QAAQ,CAAC,2EAA2E,CAAC,CACvF,CAAC,IAAM,IAAIsB,GAAG,CAACE,OAAO,CAACC,QAAQ,CAAC,YAAY,CAAC,CAAE,CAC7CzB,QAAQ,CAAC,2FAA2F,CAAC,CACvG,CAAC,IAAM,CACLA,QAAQ,CAAC,+BAA+BsB,GAAG,CAACE,OAAO,EAAE,CAAC,CACxD,CAEA1B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDY,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACpB,YAAY,CAAEF,UAAU,CAAEG,cAAc,CAAC,CAAC,CAE9C,KAAM,CAAAmC,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAC,SAAS,CAACC,SAAS,CAACC,SAAS,CAAClC,OAAO,CAAC,CAC5C;AACA,KAAM,CAAAmC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC,CAClD,KAAM,CAAAC,YAAY,CAAGH,MAAM,CAACI,WAAW,CACvCJ,MAAM,CAACI,WAAW,CAAG,WAAW,CAChCC,UAAU,CAAC,IAAM,CACfL,MAAM,CAACI,WAAW,CAAGD,YAAY,CACnC,CAAC,CAAE,IAAI,CAAC,CACV,CAAE,MAAOX,GAAG,CAAE,CACZ7B,OAAO,CAACM,KAAK,CAAC,8BAA8B,CAAEuB,GAAG,CAAC,CAClDc,KAAK,CAAC,6BAA6B,CAAC,CACtC,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC5C,OAAO,CAAC,CAAE,CAAE6C,IAAI,CAAE,iBAAkB,CAAC,CAAC,CAC7D,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CACrC,KAAM,CAAAM,CAAC,CAAGb,QAAQ,CAACc,aAAa,CAAC,GAAG,CAAC,CACrCD,CAAC,CAACE,IAAI,CAAGL,GAAG,CACZG,CAAC,CAACG,QAAQ,CAAGzD,YAAY,CAAC2B,IAAI,CAC9Bc,QAAQ,CAACiB,IAAI,CAACC,WAAW,CAACL,CAAC,CAAC,CAC5BA,CAAC,CAACM,KAAK,CAAC,CAAC,CACTnB,QAAQ,CAACiB,IAAI,CAACG,WAAW,CAACP,CAAC,CAAC,CAC5BF,GAAG,CAACU,eAAe,CAACX,GAAG,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAY,qBAAqB,CAAGA,CAAA,GAAM,CAClCnE,QAAQ,CAAC,6BAA6B,CAAE,CACtCM,KAAK,CAAE,CACLL,OAAO,CACPC,UAAU,CACVC,SAAS,CACTE,cACF,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAA+D,YAAY,CAAGA,CAAA,GAAM,KAAAC,kBAAA,CACzB,KAAM,CAAA3C,KAAK,CAAG,EAAA2C,kBAAA,CAAAnE,UAAU,CAACwB,KAAK,UAAA2C,kBAAA,iBAAhBA,kBAAA,CAAkB1C,KAAK,GAAIzB,UAAU,CAAC0B,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC3E,KAAM,CAAAyC,MAAM,CAAGjE,cAAc,EAAI,MAAM,CAEvC;AACAE,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAE8D,MAAM,CAAC,CAE5D;AACA,KAAM,CAAAC,aAAa,CAAGC,kBAAkB,CAACF,MAAM,CAAC,CAChD,KAAM,CAAAf,GAAG,CAAG,sBAAsB7B,KAAK,IAAIxB,UAAU,CAAC6B,IAAI,SAASwC,aAAa,IAAInE,YAAY,CAAC6B,IAAI,EAAE,CAEvG1B,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAE+C,GAAG,CAAC,CAEpD,MAAO,CAAAA,GAAG,CACZ,CAAC,CAED,KAAM,CAAAkB,gBAAgB,CAAGA,CAAA,GAAM,KAAAC,kBAAA,CAC7B,KAAM,CAAAhD,KAAK,CAAG,EAAAgD,kBAAA,CAAAxE,UAAU,CAACwB,KAAK,UAAAgD,kBAAA,iBAAhBA,kBAAA,CAAkB/C,KAAK,GAAIzB,UAAU,CAAC0B,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC3E,KAAM,CAAAyC,MAAM,CAAGjE,cAAc,EAAI,MAAM,CAEvC;AACA,KAAM,CAAAkE,aAAa,CAAGC,kBAAkB,CAACF,MAAM,CAAC,CAChD,KAAM,CAAAf,GAAG,CAAG,sBAAsB7B,KAAK,IAAIxB,UAAU,CAAC6B,IAAI,SAASwC,aAAa,IAAInE,YAAY,CAAC6B,IAAI,EAAE,CAEvG,MAAO,CAAAsB,GAAG,CACZ,CAAC,CAED;AACAlE,SAAS,CAAC,IAAM,CACd,GAAI,CAACY,OAAO,EAAI,CAACC,UAAU,EAAI,CAACE,YAAY,CAAE,CAC5CJ,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAC,CAAE,CAACC,OAAO,CAAEC,UAAU,CAAEE,YAAY,CAAEJ,QAAQ,CAAC,CAAC,CAEjD,GAAI,CAACC,OAAO,EAAI,CAACC,UAAU,EAAI,CAACE,YAAY,CAAE,CAC5C,mBACET,IAAA,CAACF,UAAU,EAACkF,QAAQ,CAAC,aAAa,CAAAC,QAAA,cAChCjF,IAAA,QAAKkF,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1B/E,KAAA,QAAKgF,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCjF,IAAA,OAAAiF,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBjF,IAAA,MAAAiF,QAAA,CAAG,uDAAqD,CAAG,CAAC,EACzD,CAAC,CACH,CAAC,CACI,CAAC,CAEjB,CAEA,mBACEjF,IAAA,CAACF,UAAU,EAACkF,QAAQ,CAAC,aAAa,CAAAC,QAAA,cAChCjF,IAAA,QAAKkF,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1B/E,KAAA,QAAKgF,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC/B/E,KAAA,QAAKgF,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBjF,IAAA,WAAQmF,OAAO,CAAEA,CAAA,GAAM9E,QAAQ,CAAC,GAAG,CAAE,CAAC6E,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,gBAElE,CAAQ,CAAC,cACTjF,IAAA,SAAMkF,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,QAAC,CAAM,CAAC,cAC/CjF,IAAA,WAAQmF,OAAO,CAAEA,CAAA,GAAM9E,QAAQ,CAAC,eAAe,CAAE,CAAEM,KAAK,CAAE,CAAEL,OAAQ,CAAE,CAAC,CAAE,CAAC4E,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,mBAEtG,CAAQ,CAAC,cACTjF,IAAA,SAAMkF,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,QAAC,CAAM,CAAC,cAC/CjF,IAAA,WAAQmF,OAAO,CAAEA,CAAA,GAAM9E,QAAQ,CAAC,YAAY,CAAE,CAAEM,KAAK,CAAE,CAAEL,OAAO,CAAEC,UAAW,CAAE,CAAC,CAAE,CAAC2E,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,gBAE/G,CAAQ,CAAC,cACTjF,IAAA,SAAMkF,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,QAAC,CAAM,CAAC,cAC/CjF,IAAA,WAAQmF,OAAO,CAAEX,qBAAsB,CAACU,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,oBAEpE,CAAQ,CAAC,cACTjF,IAAA,SAAMkF,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,QAAC,CAAM,CAAC,cAC/C/E,KAAA,SAAMgF,SAAS,CAAC,oBAAoB,CAAAD,QAAA,EAAExE,YAAY,CAAC2B,IAAI,CAAC,WAAS,EAAM,CAAC,EACrE,CAAC,cAENlC,KAAA,QAAKgF,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1B/E,KAAA,QAAKgF,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B/E,KAAA,QAAKgF,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BjF,IAAA,OAAAiF,QAAA,CAAKxE,YAAY,CAAC2B,IAAI,CAAK,CAAC,cAC5BpC,IAAA,SAAMkF,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,yBAAa,CAAM,CAAC,EACrD,CAAC,cACN/E,KAAA,QAAKgF,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BjF,IAAA,WACEkF,SAAS,CAAC,sBAAsB,CAChCC,OAAO,CAAEX,qBAAsB,CAAAS,QAAA,CAChC,qBAED,CAAQ,CAAC,cACTjF,IAAA,WACEkF,SAAS,CAAC,sBAAsB,CAChCC,OAAO,CAAEtC,qBAAsB,CAC/BuC,QAAQ,CAAEpE,OAAQ,CAAAiE,QAAA,CACnB,mBAED,CAAQ,CAAC,cACTjF,IAAA,WACEkF,SAAS,CAAC,sBAAsB,CAChCC,OAAO,CAAE3B,cAAe,CACxB4B,QAAQ,CAAEpE,OAAQ,CAAAiE,QAAA,CACnB,uBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENjF,IAAA,QAAKkF,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAC9BjE,OAAO,cACNd,KAAA,QAAKgF,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BjF,IAAA,QAAKkF,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/BlF,IAAA,MAAAiF,QAAA,CAAG,6BAA2B,CAAG,CAAC,EAC/B,CAAC,CACJ/D,KAAK,cACPhB,KAAA,QAAKgF,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B/E,KAAA,MAAA+E,QAAA,EAAG,SAAE,CAAC/D,KAAK,EAAI,CAAC,cAChBlB,IAAA,WACEkF,SAAS,CAAC,sBAAsB,CAChCC,OAAO,CAAEA,CAAA,GAAME,MAAM,CAACjF,QAAQ,CAACkF,MAAM,CAAC,CAAE,CAAAL,QAAA,CACzC,OAED,CAAQ,CAAC,EACN,CAAC,cAENjF,IAAA,QAAKkF,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1BjF,IAAA,SAAMkF,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAEnE,OAAO,CAAO,CAAC,CACxC,CACN,CACE,CAAC,cAENZ,KAAA,QAAKgF,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B/E,KAAA,QAAKgF,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BjF,IAAA,OAAAiF,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB/E,KAAA,QAAKgF,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BjF,IAAA,MACEiE,IAAI,CAAEQ,YAAY,CAAC,CAAE,CACrBc,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBN,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CACnC,mCAED,CAAG,CAAC,CACH7D,cAAc,eACbpB,IAAA,MACEiE,IAAI,CAAEa,gBAAgB,CAAC,CAAE,CACzBS,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBN,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CACnC,6BAED,CAAG,CACJ,EACE,CAAC,EACH,CAAC,cAEN/E,KAAA,QAAKgF,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjF,IAAA,OAAAiF,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzB/E,KAAA,QAAKgF,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB/E,KAAA,QAAKgF,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjF,IAAA,UAAAiF,QAAA,CAAO,YAAU,CAAO,CAAC,cACzBjF,IAAA,SAAMkF,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAExE,YAAY,CAAC6B,IAAI,CAAO,CAAC,EACnD,CAAC,cACNpC,KAAA,QAAKgF,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjF,IAAA,UAAAiF,QAAA,CAAO,YAAU,CAAO,CAAC,cACzB/E,KAAA,SAAA+E,QAAA,EAAO,CAACxE,YAAY,CAACgF,IAAI,CAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAG,EAAM,CAAC,EACpD,CAAC,cACNxF,KAAA,QAAKgF,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjF,IAAA,UAAAiF,QAAA,CAAO,SAAO,CAAO,CAAC,cACtBjF,IAAA,SAAAiF,QAAA,CAAM,cAAY,CAAM,CAAC,EACtB,CAAC,cACN/E,KAAA,QAAKgF,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjF,IAAA,UAAAiF,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5BjF,IAAA,SAAMkF,SAAS,CAAE,gBAAgB9D,cAAc,CAAG,OAAO,CAAG,MAAM,EAAG,CAAA6D,QAAA,CAClE7D,cAAc,CAAG,gBAAgB,CAAG,eAAe,CAChD,CAAC,EACJ,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAED,CAAC,CACI,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAjB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}