{"ast":null,"code":"/**\r\n * @typedef {import('../../../core/EventBus').default} EventBus\r\n * @typedef {import('../../grid-snapping/GridSnapping').default} GridSnapping\r\n */\n\nvar HIGH_PRIORITY = 2000;\n\n/**\r\n * Integrates space tool with grid snapping.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {GridSnapping} gridSnapping\r\n */\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\n  eventBus.on(['spaceTool.move', 'spaceTool.end'], HIGH_PRIORITY, function (event) {\n    var context = event.context;\n    if (!context.initialized) {\n      return;\n    }\n    var axis = context.axis;\n    var snapped;\n    if (axis === 'x') {\n      // snap delta x to multiple of 10\n      snapped = gridSnapping.snapValue(event.dx);\n      event.x = event.x + snapped - event.dx;\n      event.dx = snapped;\n    } else {\n      // snap delta y to multiple of 10\n      snapped = gridSnapping.snapValue(event.dy);\n      event.y = event.y + snapped - event.dy;\n      event.dy = snapped;\n    }\n  });\n}\nSpaceToolBehavior.$inject = ['eventBus', 'gridSnapping'];","map":{"version":3,"names":["HIGH_PRIORITY","SpaceToolBehavior","eventBus","gridSnapping","on","event","context","initialized","axis","snapped","snapValue","dx","x","dy","y","$inject"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js"],"sourcesContent":["/**\r\n * @typedef {import('../../../core/EventBus').default} EventBus\r\n * @typedef {import('../../grid-snapping/GridSnapping').default} GridSnapping\r\n */\r\n\r\nvar HIGH_PRIORITY = 2000;\r\n\r\n/**\r\n * Integrates space tool with grid snapping.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {GridSnapping} gridSnapping\r\n */\r\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\r\n  eventBus.on([\r\n    'spaceTool.move',\r\n    'spaceTool.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context;\r\n\r\n    if (!context.initialized) {\r\n      return;\r\n    }\r\n\r\n    var axis = context.axis;\r\n\r\n    var snapped;\r\n\r\n    if (axis === 'x') {\r\n\r\n      // snap delta x to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dx);\r\n\r\n      event.x = event.x + snapped - event.dx;\r\n      event.dx = snapped;\r\n    } else {\r\n\r\n      // snap delta y to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dy);\r\n\r\n      event.y = event.y + snapped - event.dy;\r\n      event.dy = snapped;\r\n    }\r\n  });\r\n}\r\n\r\nSpaceToolBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping'\r\n];"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,IAAIA,aAAa,GAAG,IAAI;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,iBAAiBA,CAACC,QAAQ,EAAEC,YAAY,EAAE;EAChED,QAAQ,CAACE,EAAE,CAAC,CACV,gBAAgB,EAChB,eAAe,CAChB,EAAEJ,aAAa,EAAE,UAASK,KAAK,EAAE;IAChC,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAAO;IAE3B,IAAI,CAACA,OAAO,CAACC,WAAW,EAAE;MACxB;IACF;IAEA,IAAIC,IAAI,GAAGF,OAAO,CAACE,IAAI;IAEvB,IAAIC,OAAO;IAEX,IAAID,IAAI,KAAK,GAAG,EAAE;MAEhB;MACAC,OAAO,GAAGN,YAAY,CAACO,SAAS,CAACL,KAAK,CAACM,EAAE,CAAC;MAE1CN,KAAK,CAACO,CAAC,GAAGP,KAAK,CAACO,CAAC,GAAGH,OAAO,GAAGJ,KAAK,CAACM,EAAE;MACtCN,KAAK,CAACM,EAAE,GAAGF,OAAO;IACpB,CAAC,MAAM;MAEL;MACAA,OAAO,GAAGN,YAAY,CAACO,SAAS,CAACL,KAAK,CAACQ,EAAE,CAAC;MAE1CR,KAAK,CAACS,CAAC,GAAGT,KAAK,CAACS,CAAC,GAAGL,OAAO,GAAGJ,KAAK,CAACQ,EAAE;MACtCR,KAAK,CAACQ,EAAE,GAAGJ,OAAO;IACpB;EACF,CAAC,CAAC;AACJ;AAEAR,iBAAiB,CAACc,OAAO,GAAG,CAC1B,UAAU,EACV,cAAc,CACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}