{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import{PageLayout,usePageParams}from'./framework';import{handleNavigationClick}from'../utils/navigationUtils';import useThemeImage from'../hooks/useThemeImage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DAKActionSelection=()=>{return/*#__PURE__*/_jsx(PageLayout,{pageName:\"dak-action-selection\",children:/*#__PURE__*/_jsx(DAKActionSelectionContent,{})});};const DAKActionSelectionContent=()=>{var _location$state;const location=useLocation();const navigate=useNavigate();const{profile}=usePageParams();// Theme-aware action images\nconst editingImage=useThemeImage('editing.png');const forkingImage=useThemeImage('forking.png');const createImage=useThemeImage('create.png');// Use profile from framework (PageProvider) or location state\nconst effectiveProfile=profile||((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.profile);// Note: Profile validation is handled by PageLayout framework\n// When accessing directly via URL, the framework will load the profile based on URL params\nconst dakActions=[{id:'edit',title:'Edit Existing DAK',description:'Select and modify an existing DAK that you have permission to edit. Changes will be made directly to the repository.',icon:editingImage,color:'#0078d4'},{id:'fork',title:'Fork Existing DAK',description:'Create a copy of an existing DAK in your own organization or account. You will be able to modify the forked version independently.',icon:forkingImage,color:'#107c10'},{id:'create',title:'Create New DAK',description:'Create a new DAK from the WHO SMART Guidelines template (smart-ig-empty). You\\'ll configure basic parameters and start with a clean template.',icon:createImage,color:'#881798'}];const handleActionSelect=(event,actionId)=>{// Navigate directly to the DAK selection with the chosen action and user parameter\nconst navigationState={profile:effectiveProfile,action:actionId};handleNavigationClick(event,`/dak-selection/${effectiveProfile.login}`,navigate,navigationState);};if(!effectiveProfile){return/*#__PURE__*/_jsx(\"div\",{children:\"Redirecting...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"action-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-title\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Manage a DAK\"}),/*#__PURE__*/_jsx(\"p\",{className:\"action-subtitle\",children:\"Choose how you would like to work with a WHO SMART Guidelines Digital Adaptation Kit (DAK). Each option provides different workflows for DAK management and editing.\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"action-intro\"}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-grid\",children:dakActions.map(action=>/*#__PURE__*/_jsxs(\"div\",{className:`action-card`,onClick:event=>handleActionSelect(event,action.id),style:{'--action-color':action.color},children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",style:{color:action.color},children:/*#__PURE__*/_jsx(\"img\",{src:action.icon,alt:action.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"action-description\",children:/*#__PURE__*/_jsx(\"p\",{children:action.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-workflow\",children:[action.id==='edit'&&/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"1. Select DAK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"2. Edit Components\"})]}),action.id==='fork'&&/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"1. Select Source DAK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"2. Select Destination\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"3. Edit Components\"})]}),action.id==='create'&&/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"1. Select Template\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"2. Select Destination\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"3. Configure DAK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"4. Edit Components\"})]})]})]},action.id))})]})});};export default DAKActionSelection;","map":{"version":3,"names":["React","useLocation","useNavigate","PageLayout","usePageParams","handleNavigationClick","useThemeImage","jsx","_jsx","jsxs","_jsxs","DAKActionSelection","pageName","children","DAKActionSelectionContent","_location$state","location","navigate","profile","editingImage","forkingImage","createImage","effectiveProfile","state","dakActions","id","title","description","icon","color","handleActionSelect","event","actionId","navigationState","action","login","className","map","onClick","style","src","alt"],"sources":["/home/runner/work/sgex/sgex/src/components/DAKActionSelection.js"],"sourcesContent":["import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { PageLayout, usePageParams } from './framework';\nimport { handleNavigationClick } from '../utils/navigationUtils';\nimport useThemeImage from '../hooks/useThemeImage';\n\nconst DAKActionSelection = () => {\n  return (\n    <PageLayout pageName=\"dak-action-selection\">\n      <DAKActionSelectionContent />\n    </PageLayout>\n  );\n};\n\nconst DAKActionSelectionContent = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { profile } = usePageParams();\n  \n  // Theme-aware action images\n  const editingImage = useThemeImage('editing.png');\n  const forkingImage = useThemeImage('forking.png');\n  const createImage = useThemeImage('create.png');\n  \n  // Use profile from framework (PageProvider) or location state\n  const effectiveProfile = profile || location.state?.profile;\n\n  // Note: Profile validation is handled by PageLayout framework\n  // When accessing directly via URL, the framework will load the profile based on URL params\n\n  const dakActions = [\n    {\n      id: 'edit',\n      title: 'Edit Existing DAK',\n      description: 'Select and modify an existing DAK that you have permission to edit. Changes will be made directly to the repository.',\n      icon: editingImage,\n      color: '#0078d4'\n    },\n    {\n      id: 'fork', \n      title: 'Fork Existing DAK',\n      description: 'Create a copy of an existing DAK in your own organization or account. You will be able to modify the forked version independently.',\n      icon: forkingImage,\n      color: '#107c10'\n    },\n    {\n      id: 'create',\n      title: 'Create New DAK',\n      description: 'Create a new DAK from the WHO SMART Guidelines template (smart-ig-empty). You\\'ll configure basic parameters and start with a clean template.',\n      icon: createImage,\n      color: '#881798'\n    }\n  ];\n\n  const handleActionSelect = (event, actionId) => {\n    // Navigate directly to the DAK selection with the chosen action and user parameter\n    const navigationState = { \n      profile: effectiveProfile, \n      action: actionId \n    };\n    \n    handleNavigationClick(event, `/dak-selection/${effectiveProfile.login}`, navigate, navigationState);\n  };\n\n  if (!effectiveProfile) {\n    return <div>Redirecting...</div>;\n  }\n\n  return (\n    <div className=\"action-content\">\n      <div className=\"action-main\">\n        <div className=\"action-header\">\n          <div className=\"action-title\">\n            <h1>Manage a DAK</h1>\n            <p className=\"action-subtitle\">Choose how you would like to work with a WHO SMART Guidelines Digital Adaptation Kit (DAK). Each option provides different workflows for DAK management and editing.</p>\n          </div>\n        </div>\n        <div className=\"action-intro\">\n        </div>\n\n        <div className=\"actions-grid\">\n          {dakActions.map((action) => (\n            <div \n              key={action.id}\n              className={`action-card`}\n              onClick={(event) => handleActionSelect(event, action.id)}\n              style={{ '--action-color': action.color }}\n            >\n              <div className=\"action-icon\" style={{ color: action.color }}>\n                <img src={action.icon} alt={action.title} />\n              </div>\n              \n              <div className=\"action-description\">\n                <p>{action.description}</p>\n              </div>\n\n              <div className=\"action-workflow\">\n                {action.id === 'edit' && (\n                  <div className=\"workflow-steps\">\n                    <span className=\"step\">1. Select DAK</span>\n                    <span className=\"step\">2. Edit Components</span>\n                  </div>\n                )}\n                {action.id === 'fork' && (\n                  <div className=\"workflow-steps\">\n                    <span className=\"step\">1. Select Source DAK</span>\n                    <span className=\"step\">2. Select Destination</span>\n                    <span className=\"step\">3. Edit Components</span>\n                  </div>\n                )}\n                {action.id === 'create' && (\n                  <div className=\"workflow-steps\">\n                    <span className=\"step\">1. Select Template</span>\n                    <span className=\"step\">2. Select Destination</span>\n                    <span className=\"step\">3. Configure DAK</span>\n                    <span className=\"step\">4. Edit Components</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DAKActionSelection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}