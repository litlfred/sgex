{"ast":null,"code":"import inherits from 'inherits-browser';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { getBusinessObject, getDi } from '../../../util/ModelUtil';\nimport { isAny } from '../util/ModelingUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n */\n\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\nexport default function IsHorizontalFix(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n  var elementTypesToUpdate = ['bpmn:Participant', 'bpmn:Lane'];\n  this.executed(['shape.move', 'shape.create', 'shape.resize'], function (event) {\n    var shape = event.context.shape,\n      bo = getBusinessObject(shape),\n      di = getDi(shape);\n    if (isAny(bo, elementTypesToUpdate)) {\n      var isHorizontal = di.get('isHorizontal');\n      if (isHorizontal === undefined) {\n        isHorizontal = true;\n      }\n\n      // set attribute directly to avoid modeling#updateProperty side effects\n      di.set('isHorizontal', isHorizontal);\n    }\n  });\n}\nIsHorizontalFix.$inject = ['eventBus'];\ninherits(IsHorizontalFix, CommandInterceptor);","map":{"version":3,"names":["inherits","CommandInterceptor","getBusinessObject","getDi","isAny","IsHorizontalFix","eventBus","call","elementTypesToUpdate","executed","event","shape","context","bo","di","isHorizontal","get","undefined","set","$inject"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/modeling/behavior/IsHorizontalFix.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  getDi\n} from '../../../util/ModelUtil';\n\nimport {\n  isAny\n} from '../util/ModelingUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n */\n\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\nexport default function IsHorizontalFix(eventBus) {\n\n  CommandInterceptor.call(this, eventBus);\n\n  var elementTypesToUpdate = [\n    'bpmn:Participant',\n    'bpmn:Lane'\n  ];\n\n  this.executed([ 'shape.move', 'shape.create', 'shape.resize' ], function(event) {\n    var shape = event.context.shape,\n        bo = getBusinessObject(shape),\n        di = getDi(shape);\n\n    if (isAny(bo, elementTypesToUpdate)) {\n      var isHorizontal = di.get('isHorizontal');\n\n      if (isHorizontal === undefined) {\n        isHorizontal = true;\n      }\n\n      // set attribute directly to avoid modeling#updateProperty side effects\n      di.set('isHorizontal', isHorizontal);\n    }\n  });\n\n}\n\nIsHorizontalFix.$inject = [ 'eventBus' ];\n\ninherits(IsHorizontalFix, CommandInterceptor);\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,kBAAkB,MAAM,2CAA2C;AAE1E,SACEC,iBAAiB,EACjBC,KAAK,QACA,yBAAyB;AAEhC,SACEC,KAAK,QACA,sBAAsB;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,eAAeA,CAACC,QAAQ,EAAE;EAEhDL,kBAAkB,CAACM,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC;EAEvC,IAAIE,oBAAoB,GAAG,CACzB,kBAAkB,EAClB,WAAW,CACZ;EAED,IAAI,CAACC,QAAQ,CAAC,CAAE,YAAY,EAAE,cAAc,EAAE,cAAc,CAAE,EAAE,UAASC,KAAK,EAAE;IAC9E,IAAIC,KAAK,GAAGD,KAAK,CAACE,OAAO,CAACD,KAAK;MAC3BE,EAAE,GAAGX,iBAAiB,CAACS,KAAK,CAAC;MAC7BG,EAAE,GAAGX,KAAK,CAACQ,KAAK,CAAC;IAErB,IAAIP,KAAK,CAACS,EAAE,EAAEL,oBAAoB,CAAC,EAAE;MACnC,IAAIO,YAAY,GAAGD,EAAE,CAACE,GAAG,CAAC,cAAc,CAAC;MAEzC,IAAID,YAAY,KAAKE,SAAS,EAAE;QAC9BF,YAAY,GAAG,IAAI;MACrB;;MAEA;MACAD,EAAE,CAACI,GAAG,CAAC,cAAc,EAAEH,YAAY,CAAC;IACtC;EACF,CAAC,CAAC;AAEJ;AAEAV,eAAe,CAACc,OAAO,GAAG,CAAE,UAAU,CAAE;AAExCnB,QAAQ,CAACK,eAAe,EAAEJ,kBAAkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}