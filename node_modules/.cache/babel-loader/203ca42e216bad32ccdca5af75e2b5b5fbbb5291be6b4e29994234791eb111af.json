{"ast":null,"code":"// @ts-check\n\nexport function register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n  if (!options) {\n    options = {};\n  }\n  if (Array.isArray(name)) {\n    return name.reverse().reduce((callback, name) => {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n  return Promise.resolve().then(() => {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n    return state.registry[name].reduce((method, registered) => {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}","map":{"version":3,"names":["register","state","name","method","options","Error","Array","isArray","reverse","reduce","callback","bind","Promise","resolve","then","registry","registered","hook"],"sources":["/home/runner/work/sgex/sgex/node_modules/before-after-hook/lib/register.js"],"sourcesContent":["// @ts-check\n\nexport function register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce((callback, name) => {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(() => {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce((method, registered) => {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n"],"mappings":"AAAA;;AAEA,OAAO,SAASA,QAAQA,CAACC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAE;EACrD,IAAI,OAAOD,MAAM,KAAK,UAAU,EAAE;IAChC,MAAM,IAAIE,KAAK,CAAC,2CAA2C,CAAC;EAC9D;EAEA,IAAI,CAACD,OAAO,EAAE;IACZA,OAAO,GAAG,CAAC,CAAC;EACd;EAEA,IAAIE,KAAK,CAACC,OAAO,CAACL,IAAI,CAAC,EAAE;IACvB,OAAOA,IAAI,CAACM,OAAO,CAAC,CAAC,CAACC,MAAM,CAAC,CAACC,QAAQ,EAAER,IAAI,KAAK;MAC/C,OAAOF,QAAQ,CAACW,IAAI,CAAC,IAAI,EAAEV,KAAK,EAAEC,IAAI,EAAEQ,QAAQ,EAAEN,OAAO,CAAC;IAC5D,CAAC,EAAED,MAAM,CAAC,CAAC,CAAC;EACd;EAEA,OAAOS,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;IAClC,IAAI,CAACb,KAAK,CAACc,QAAQ,CAACb,IAAI,CAAC,EAAE;MACzB,OAAOC,MAAM,CAACC,OAAO,CAAC;IACxB;IAEA,OAAOH,KAAK,CAACc,QAAQ,CAACb,IAAI,CAAC,CAACO,MAAM,CAAC,CAACN,MAAM,EAAEa,UAAU,KAAK;MACzD,OAAOA,UAAU,CAACC,IAAI,CAACN,IAAI,CAAC,IAAI,EAAER,MAAM,EAAEC,OAAO,CAAC;IACpD,CAAC,EAAED,MAAM,CAAC,CAAC,CAAC;EACd,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}