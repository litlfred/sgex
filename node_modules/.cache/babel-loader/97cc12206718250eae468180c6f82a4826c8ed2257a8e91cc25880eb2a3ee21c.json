{"ast":null,"code":"import _objectWithoutProperties from\"/home/runner/work/sgex/sgex/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/home/runner/work/sgex/sgex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"toolDefinition\"];/**\n * Tool Definition Framework\n * \n * Provides a simple API for creating new tools in the SGEX Workbench.\n * Handles page setup, user access, data management, and UI integration.\n */import React from'react';import{PageLayout,AssetEditorLayout}from'./index';import{usePageParams}from'./usePageParams';import userAccessService from'../../services/userAccessService';import dataAccessLayer from'../../services/dataAccessLayer';/**\n * Tool types supported by the framework\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const TOOL_TYPES={VIEWER:'viewer',// Read-only asset viewer\nEDITOR:'editor',// Asset editor with save capabilities\nDASHBOARD:'dashboard',// DAK-level dashboard\nUTILITY:'utility'// General utility tool\n};/**\n * Base tool definition interface\n */export class ToolDefinition{constructor(config){this.id=config.id;this.name=config.name;this.title=config.title||config.name;this.description=config.description;this.type=config.type||TOOL_TYPES.UTILITY;this.route=config.route||\"/\".concat(this.id);this.icon=config.icon;this.category=config.category||'general';// Access requirements\nthis.requiresAuth=config.requiresAuth!==false;// Default to true\nthis.supportsDemo=config.supportsDemo!==false;// Default to true\nthis.requiresDAK=config.requiresDAK||false;// Asset handling\nthis.assetTypes=config.assetTypes||[];this.assetPattern=config.assetPattern;// UI components\nthis.viewerComponent=config.viewerComponent;this.editorComponent=config.editorComponent;this.dashboardComponent=config.dashboardComponent;// Hooks\nthis.onInit=config.onInit;this.onAssetLoad=config.onAssetLoad;this.onAssetSave=config.onAssetSave;this.onError=config.onError;}/**\n   * Check if tool supports the given asset type\n   */supportsAsset(assetPath){var _this$assetTypes;if(!((_this$assetTypes=this.assetTypes)!==null&&_this$assetTypes!==void 0&&_this$assetTypes.length)&&!this.assetPattern){return true;// Tool accepts any asset\n}if(this.assetPattern){return new RegExp(this.assetPattern).test(assetPath);}return this.assetTypes.some(type=>assetPath.includes(type));}/**\n   * Check if current user can access this tool\n   */async canAccess(){if(this.requiresAuth&&userAccessService.isUnauthenticated()){return false;}if(!this.supportsDemo&&userAccessService.isDemoUser()){return false;}return true;}/**\n   * Generate React component for this tool\n   */createComponent(){const toolDef=this;return function ToolComponent(props){return/*#__PURE__*/_jsx(ToolWrapper,_objectSpread({toolDefinition:toolDef},props));};}}/**\n * Wrapper component that handles framework integration\n */const ToolWrapper=_ref=>{let{toolDefinition}=_ref,props=_objectWithoutProperties(_ref,_excluded);const pageParams=usePageParams();const[toolState,setToolState]=React.useState({loading:true,error:null,canAccess:false,assets:[],content:null});const initializeTool=React.useCallback(async()=>{try{setToolState(prev=>_objectSpread(_objectSpread({},prev),{},{loading:true,error:null}));// Check access\nconst canAccess=await toolDefinition.canAccess();if(!canAccess){throw new Error(\"Access denied: This tool requires \".concat(toolDefinition.requiresAuth?'authentication':'different user type'));}// Initialize data access layer if needed\nif(pageParams.repository){await dataAccessLayer.initialize(pageParams.repository,pageParams.branch);}// Load assets if this is an asset tool\nlet assets=[];let content=null;if(pageParams.asset&&(toolDefinition.type===TOOL_TYPES.VIEWER||toolDefinition.type===TOOL_TYPES.EDITOR)){if(toolDefinition.supportsAsset(pageParams.asset)){var _pageParams$repositor;const assetData=await dataAccessLayer.getAsset(pageParams.user,(_pageParams$repositor=pageParams.repository)===null||_pageParams$repositor===void 0?void 0:_pageParams$repositor.name,pageParams.branch,pageParams.asset);assets=[_objectSpread({path:pageParams.asset},assetData)];content=assetData.content;}else{throw new Error(\"This tool does not support asset type: \".concat(pageParams.asset));}}// Call tool's initialization hook\nif(toolDefinition.onInit){await toolDefinition.onInit({pageParams,assets,content});}setToolState({loading:false,error:null,canAccess:true,assets,content});}catch(error){console.error(\"Error initializing tool \".concat(toolDefinition.id,\":\"),error);setToolState({loading:false,error:error.message,canAccess:false,assets:[],content:null});// Call tool's error hook\nif(toolDefinition.onError){toolDefinition.onError(error,{pageParams});}}},[toolDefinition,pageParams]);React.useEffect(()=>{initializeTool();},[initializeTool]);const handleAssetSave=async(newContent,saveType)=>{if(!pageParams.asset)return;try{let result;if(saveType==='local'){result=await dataAccessLayer.saveAssetLocal(pageParams.asset,newContent);}else if(saveType==='github'){// This should be called with commit message from UI\nthrow new Error('GitHub save requires commit message - use handleGitHubSave instead');}// Call tool's save hook\nif(toolDefinition.onAssetSave){await toolDefinition.onAssetSave({asset:pageParams.asset,content:newContent,saveType,result,pageParams});}return result;}catch(error){console.error(\"Error saving asset in tool \".concat(toolDefinition.id,\":\"),error);throw error;}};const handleGitHubSave=async(newContent,commitMessage)=>{if(!pageParams.asset)return;try{var _pageParams$repositor2;const result=await dataAccessLayer.saveAssetGitHub(pageParams.user,(_pageParams$repositor2=pageParams.repository)===null||_pageParams$repositor2===void 0?void 0:_pageParams$repositor2.name,pageParams.branch,pageParams.asset,newContent,commitMessage);// Call tool's save hook\nif(toolDefinition.onAssetSave){await toolDefinition.onAssetSave({asset:pageParams.asset,content:newContent,saveType:'github',result,commitMessage,pageParams});}return result;}catch(error){console.error(\"Error saving asset to GitHub in tool \".concat(toolDefinition.id,\":\"),error);throw error;}};// Show loading state\nif(toolState.loading){return/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsxs(\"div\",{className:\"tool-loading\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Loading \",toolDefinition.title,\"...\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Initializing tool and checking access permissions.\"})]})});}// Show error state\nif(toolState.error||!toolState.canAccess){return/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsxs(\"div\",{className:\"tool-error\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Cannot Access \",toolDefinition.title]}),/*#__PURE__*/_jsx(\"p\",{children:toolState.error||'Access denied'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),children:\"Go Back\"})]})});}// Render appropriate component based on tool type\nconst renderToolContent=()=>{const commonProps=_objectSpread({toolDefinition,pageParams,toolState,onAssetSave:handleAssetSave,onGitHubSave:handleGitHubSave},props);switch(toolDefinition.type){case TOOL_TYPES.EDITOR:if(toolDefinition.editorComponent){const EditorComponent=toolDefinition.editorComponent;if(pageParams.asset&&toolState.assets.length>0){var _toolState$assets$;// Use AssetEditorLayout for asset editors\nreturn/*#__PURE__*/_jsx(AssetEditorLayout,{pageName:toolDefinition.id,file:{name:pageParams.asset,path:pageParams.asset},repository:pageParams.repository,branch:pageParams.branch,content:toolState.content,originalContent:(_toolState$assets$=toolState.assets[0])===null||_toolState$assets$===void 0?void 0:_toolState$assets$.content,hasChanges:false// Will be managed by the editor component\n,onSave:handleAssetSave,onContentChange:content=>{setToolState(prev=>_objectSpread(_objectSpread({},prev),{},{content}));},children:/*#__PURE__*/_jsx(EditorComponent,_objectSpread({},commonProps))});}else{// General editor without specific asset\nreturn/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsx(EditorComponent,_objectSpread({},commonProps))});}}break;case TOOL_TYPES.VIEWER:if(toolDefinition.viewerComponent){const ViewerComponent=toolDefinition.viewerComponent;return/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsx(ViewerComponent,_objectSpread({},commonProps))});}break;case TOOL_TYPES.DASHBOARD:if(toolDefinition.dashboardComponent){const DashboardComponent=toolDefinition.dashboardComponent;return/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsx(DashboardComponent,_objectSpread({},commonProps))});}break;case TOOL_TYPES.UTILITY:default:// Use viewer component as fallback, or dashboard component\nconst Component=toolDefinition.viewerComponent||toolDefinition.editorComponent||toolDefinition.dashboardComponent;if(Component){return/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsx(Component,_objectSpread({},commonProps))});}break;}// Fallback if no component is provided\nreturn/*#__PURE__*/_jsx(PageLayout,{pageName:toolDefinition.id,children:/*#__PURE__*/_jsxs(\"div\",{className:\"tool-fallback\",children:[/*#__PURE__*/_jsx(\"h1\",{children:toolDefinition.title}),/*#__PURE__*/_jsx(\"p\",{children:toolDefinition.description}),/*#__PURE__*/_jsx(\"p\",{children:\"No component defined for this tool.\"})]})});};return renderToolContent();};/**\n * Registry for managing tool definitions\n */class ToolRegistry{constructor(){this.tools=new Map();}/**\n   * Register a new tool\n   */register(config){const tool=new ToolDefinition(config);this.tools.set(tool.id,tool);return tool;}/**\n   * Get tool by ID\n   */get(id){return this.tools.get(id);}/**\n   * Get all tools\n   */getAll(){return Array.from(this.tools.values());}/**\n   * Get tools by category\n   */getByCategory(category){return this.getAll().filter(tool=>tool.category===category);}/**\n   * Get tools that support a specific asset type\n   */getByAssetType(assetPath){return this.getAll().filter(tool=>tool.supportsAsset(assetPath));}/**\n   * Get tools accessible by current user\n   */async getAccessibleTools(){const tools=this.getAll();const accessibleTools=[];for(const tool of tools){if(await tool.canAccess()){accessibleTools.push(tool);}}return accessibleTools;}}// Create singleton registry\nconst toolRegistry=new ToolRegistry();/**\n * Helper function to create a simple tool\n */export const createTool=config=>{return toolRegistry.register(config);};/**\n * Helper function to create an asset editor tool\n */export const createAssetEditor=config=>{return createTool(_objectSpread(_objectSpread({},config),{},{type:TOOL_TYPES.EDITOR,requiresDAK:true}));};/**\n * Helper function to create an asset viewer tool\n */export const createAssetViewer=config=>{return createTool(_objectSpread(_objectSpread({},config),{},{type:TOOL_TYPES.VIEWER,requiresDAK:true,requiresAuth:false// Viewers can be used by unauthenticated users\n}));};/**\n * Helper function to create a dashboard tool\n */export const createDashboard=config=>{return createTool(_objectSpread(_objectSpread({},config),{},{type:TOOL_TYPES.DASHBOARD,requiresDAK:true}));};export default toolRegistry;","map":{"version":3,"names":["React","PageLayout","AssetEditorLayout","usePageParams","userAccessService","dataAccessLayer","jsx","_jsx","jsxs","_jsxs","TOOL_TYPES","VIEWER","EDITOR","DASHBOARD","UTILITY","ToolDefinition","constructor","config","id","name","title","description","type","route","concat","icon","category","requiresAuth","supportsDemo","requiresDAK","assetTypes","assetPattern","viewerComponent","editorComponent","dashboardComponent","onInit","onAssetLoad","onAssetSave","onError","supportsAsset","assetPath","_this$assetTypes","length","RegExp","test","some","includes","canAccess","isUnauthenticated","isDemoUser","createComponent","toolDef","ToolComponent","props","ToolWrapper","_objectSpread","toolDefinition","_ref","_objectWithoutProperties","_excluded","pageParams","toolState","setToolState","useState","loading","error","assets","content","initializeTool","useCallback","prev","Error","repository","initialize","branch","asset","_pageParams$repositor","assetData","getAsset","user","path","console","message","useEffect","handleAssetSave","newContent","saveType","result","saveAssetLocal","handleGitHubSave","commitMessage","_pageParams$repositor2","saveAssetGitHub","pageName","children","className","onClick","window","history","back","renderToolContent","commonProps","onGitHubSave","EditorComponent","_toolState$assets$","file","originalContent","hasChanges","onSave","onContentChange","ViewerComponent","DashboardComponent","Component","ToolRegistry","tools","Map","register","tool","set","get","getAll","Array","from","values","getByCategory","filter","getByAssetType","getAccessibleTools","accessibleTools","push","toolRegistry","createTool","createAssetEditor","createAssetViewer","createDashboard"],"sources":["/home/runner/work/sgex/sgex/src/components/framework/ToolDefinition.js"],"sourcesContent":["/**\n * Tool Definition Framework\n * \n * Provides a simple API for creating new tools in the SGEX Workbench.\n * Handles page setup, user access, data management, and UI integration.\n */\n\nimport React from 'react';\nimport { PageLayout, AssetEditorLayout } from './index';\nimport { usePageParams } from './usePageParams';\nimport userAccessService from '../../services/userAccessService';\nimport dataAccessLayer from '../../services/dataAccessLayer';\n\n/**\n * Tool types supported by the framework\n */\nexport const TOOL_TYPES = {\n  VIEWER: 'viewer',        // Read-only asset viewer\n  EDITOR: 'editor',        // Asset editor with save capabilities\n  DASHBOARD: 'dashboard',  // DAK-level dashboard\n  UTILITY: 'utility'       // General utility tool\n};\n\n/**\n * Base tool definition interface\n */\nexport class ToolDefinition {\n  constructor(config) {\n    this.id = config.id;\n    this.name = config.name;\n    this.title = config.title || config.name;\n    this.description = config.description;\n    this.type = config.type || TOOL_TYPES.UTILITY;\n    this.route = config.route || `/${this.id}`;\n    this.icon = config.icon;\n    this.category = config.category || 'general';\n    \n    // Access requirements\n    this.requiresAuth = config.requiresAuth !== false; // Default to true\n    this.supportsDemo = config.supportsDemo !== false; // Default to true\n    this.requiresDAK = config.requiresDAK || false;\n    \n    // Asset handling\n    this.assetTypes = config.assetTypes || [];\n    this.assetPattern = config.assetPattern;\n    \n    // UI components\n    this.viewerComponent = config.viewerComponent;\n    this.editorComponent = config.editorComponent;\n    this.dashboardComponent = config.dashboardComponent;\n    \n    // Hooks\n    this.onInit = config.onInit;\n    this.onAssetLoad = config.onAssetLoad;\n    this.onAssetSave = config.onAssetSave;\n    this.onError = config.onError;\n  }\n\n  /**\n   * Check if tool supports the given asset type\n   */\n  supportsAsset(assetPath) {\n    if (!this.assetTypes?.length && !this.assetPattern) {\n      return true; // Tool accepts any asset\n    }\n    \n    if (this.assetPattern) {\n      return new RegExp(this.assetPattern).test(assetPath);\n    }\n    \n    return this.assetTypes.some(type => assetPath.includes(type));\n  }\n\n  /**\n   * Check if current user can access this tool\n   */\n  async canAccess() {\n    if (this.requiresAuth && userAccessService.isUnauthenticated()) {\n      return false;\n    }\n    \n    if (!this.supportsDemo && userAccessService.isDemoUser()) {\n      return false;\n    }\n    \n    return true;\n  }\n\n  /**\n   * Generate React component for this tool\n   */\n  createComponent() {\n    const toolDef = this;\n    \n    return function ToolComponent(props) {\n      return <ToolWrapper toolDefinition={toolDef} {...props} />;\n    };\n  }\n}\n\n/**\n * Wrapper component that handles framework integration\n */\nconst ToolWrapper = ({ toolDefinition, ...props }) => {\n  const pageParams = usePageParams();\n  const [toolState, setToolState] = React.useState({\n    loading: true,\n    error: null,\n    canAccess: false,\n    assets: [],\n    content: null\n  });\n\n  const initializeTool = React.useCallback(async () => {\n    try {\n      setToolState(prev => ({ ...prev, loading: true, error: null }));\n\n      // Check access\n      const canAccess = await toolDefinition.canAccess();\n      if (!canAccess) {\n        throw new Error(`Access denied: This tool requires ${toolDefinition.requiresAuth ? 'authentication' : 'different user type'}`);\n      }\n\n      // Initialize data access layer if needed\n      if (pageParams.repository) {\n        await dataAccessLayer.initialize(pageParams.repository, pageParams.branch);\n      }\n\n      // Load assets if this is an asset tool\n      let assets = [];\n      let content = null;\n      \n      if (pageParams.asset && (toolDefinition.type === TOOL_TYPES.VIEWER || toolDefinition.type === TOOL_TYPES.EDITOR)) {\n        if (toolDefinition.supportsAsset(pageParams.asset)) {\n          const assetData = await dataAccessLayer.getAsset(\n            pageParams.user,\n            pageParams.repository?.name,\n            pageParams.branch,\n            pageParams.asset\n          );\n          assets = [{ path: pageParams.asset, ...assetData }];\n          content = assetData.content;\n        } else {\n          throw new Error(`This tool does not support asset type: ${pageParams.asset}`);\n        }\n      }\n\n      // Call tool's initialization hook\n      if (toolDefinition.onInit) {\n        await toolDefinition.onInit({\n          pageParams,\n          assets,\n          content\n        });\n      }\n\n      setToolState({\n        loading: false,\n        error: null,\n        canAccess: true,\n        assets,\n        content\n      });\n\n    } catch (error) {\n      console.error(`Error initializing tool ${toolDefinition.id}:`, error);\n      setToolState({\n        loading: false,\n        error: error.message,\n        canAccess: false,\n        assets: [],\n        content: null\n      });\n\n      // Call tool's error hook\n      if (toolDefinition.onError) {\n        toolDefinition.onError(error, { pageParams });\n      }\n    }\n  }, [toolDefinition, pageParams]);\n\n  React.useEffect(() => {\n    initializeTool();\n  }, [initializeTool]);\n\n  const handleAssetSave = async (newContent, saveType) => {\n    if (!pageParams.asset) return;\n\n    try {\n      let result;\n      if (saveType === 'local') {\n        result = await dataAccessLayer.saveAssetLocal(pageParams.asset, newContent);\n      } else if (saveType === 'github') {\n        // This should be called with commit message from UI\n        throw new Error('GitHub save requires commit message - use handleGitHubSave instead');\n      }\n\n      // Call tool's save hook\n      if (toolDefinition.onAssetSave) {\n        await toolDefinition.onAssetSave({\n          asset: pageParams.asset,\n          content: newContent,\n          saveType,\n          result,\n          pageParams\n        });\n      }\n\n      return result;\n    } catch (error) {\n      console.error(`Error saving asset in tool ${toolDefinition.id}:`, error);\n      throw error;\n    }\n  };\n\n  const handleGitHubSave = async (newContent, commitMessage) => {\n    if (!pageParams.asset) return;\n\n    try {\n      const result = await dataAccessLayer.saveAssetGitHub(\n        pageParams.user,\n        pageParams.repository?.name,\n        pageParams.branch,\n        pageParams.asset,\n        newContent,\n        commitMessage\n      );\n\n      // Call tool's save hook\n      if (toolDefinition.onAssetSave) {\n        await toolDefinition.onAssetSave({\n          asset: pageParams.asset,\n          content: newContent,\n          saveType: 'github',\n          result,\n          commitMessage,\n          pageParams\n        });\n      }\n\n      return result;\n    } catch (error) {\n      console.error(`Error saving asset to GitHub in tool ${toolDefinition.id}:`, error);\n      throw error;\n    }\n  };\n\n  // Show loading state\n  if (toolState.loading) {\n    return (\n      <PageLayout pageName={toolDefinition.id}>\n        <div className=\"tool-loading\">\n          <h2>Loading {toolDefinition.title}...</h2>\n          <p>Initializing tool and checking access permissions.</p>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  // Show error state\n  if (toolState.error || !toolState.canAccess) {\n    return (\n      <PageLayout pageName={toolDefinition.id}>\n        <div className=\"tool-error\">\n          <h2>Cannot Access {toolDefinition.title}</h2>\n          <p>{toolState.error || 'Access denied'}</p>\n          <button onClick={() => window.history.back()}>\n            Go Back\n          </button>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  // Render appropriate component based on tool type\n  const renderToolContent = () => {\n    const commonProps = {\n      toolDefinition,\n      pageParams,\n      toolState,\n      onAssetSave: handleAssetSave,\n      onGitHubSave: handleGitHubSave,\n      ...props\n    };\n\n    switch (toolDefinition.type) {\n      case TOOL_TYPES.EDITOR:\n        if (toolDefinition.editorComponent) {\n          const EditorComponent = toolDefinition.editorComponent;\n          \n          if (pageParams.asset && toolState.assets.length > 0) {\n            // Use AssetEditorLayout for asset editors\n            return (\n              <AssetEditorLayout\n                pageName={toolDefinition.id}\n                file={{ name: pageParams.asset, path: pageParams.asset }}\n                repository={pageParams.repository}\n                branch={pageParams.branch}\n                content={toolState.content}\n                originalContent={toolState.assets[0]?.content}\n                hasChanges={false} // Will be managed by the editor component\n                onSave={handleAssetSave}\n                onContentChange={(content) => {\n                  setToolState(prev => ({ ...prev, content }));\n                }}\n              >\n                <EditorComponent {...commonProps} />\n              </AssetEditorLayout>\n            );\n          } else {\n            // General editor without specific asset\n            return (\n              <PageLayout pageName={toolDefinition.id}>\n                <EditorComponent {...commonProps} />\n              </PageLayout>\n            );\n          }\n        }\n        break;\n\n      case TOOL_TYPES.VIEWER:\n        if (toolDefinition.viewerComponent) {\n          const ViewerComponent = toolDefinition.viewerComponent;\n          return (\n            <PageLayout pageName={toolDefinition.id}>\n              <ViewerComponent {...commonProps} />\n            </PageLayout>\n          );\n        }\n        break;\n\n      case TOOL_TYPES.DASHBOARD:\n        if (toolDefinition.dashboardComponent) {\n          const DashboardComponent = toolDefinition.dashboardComponent;\n          return (\n            <PageLayout pageName={toolDefinition.id}>\n              <DashboardComponent {...commonProps} />\n            </PageLayout>\n          );\n        }\n        break;\n\n      case TOOL_TYPES.UTILITY:\n      default:\n        // Use viewer component as fallback, or dashboard component\n        const Component = toolDefinition.viewerComponent || \n                         toolDefinition.editorComponent || \n                         toolDefinition.dashboardComponent;\n        \n        if (Component) {\n          return (\n            <PageLayout pageName={toolDefinition.id}>\n              <Component {...commonProps} />\n            </PageLayout>\n          );\n        }\n        break;\n    }\n\n    // Fallback if no component is provided\n    return (\n      <PageLayout pageName={toolDefinition.id}>\n        <div className=\"tool-fallback\">\n          <h1>{toolDefinition.title}</h1>\n          <p>{toolDefinition.description}</p>\n          <p>No component defined for this tool.</p>\n        </div>\n      </PageLayout>\n    );\n  };\n\n  return renderToolContent();\n};\n\n/**\n * Registry for managing tool definitions\n */\nclass ToolRegistry {\n  constructor() {\n    this.tools = new Map();\n  }\n\n  /**\n   * Register a new tool\n   */\n  register(config) {\n    const tool = new ToolDefinition(config);\n    this.tools.set(tool.id, tool);\n    return tool;\n  }\n\n  /**\n   * Get tool by ID\n   */\n  get(id) {\n    return this.tools.get(id);\n  }\n\n  /**\n   * Get all tools\n   */\n  getAll() {\n    return Array.from(this.tools.values());\n  }\n\n  /**\n   * Get tools by category\n   */\n  getByCategory(category) {\n    return this.getAll().filter(tool => tool.category === category);\n  }\n\n  /**\n   * Get tools that support a specific asset type\n   */\n  getByAssetType(assetPath) {\n    return this.getAll().filter(tool => tool.supportsAsset(assetPath));\n  }\n\n  /**\n   * Get tools accessible by current user\n   */\n  async getAccessibleTools() {\n    const tools = this.getAll();\n    const accessibleTools = [];\n\n    for (const tool of tools) {\n      if (await tool.canAccess()) {\n        accessibleTools.push(tool);\n      }\n    }\n\n    return accessibleTools;\n  }\n}\n\n// Create singleton registry\nconst toolRegistry = new ToolRegistry();\n\n/**\n * Helper function to create a simple tool\n */\nexport const createTool = (config) => {\n  return toolRegistry.register(config);\n};\n\n/**\n * Helper function to create an asset editor tool\n */\nexport const createAssetEditor = (config) => {\n  return createTool({\n    ...config,\n    type: TOOL_TYPES.EDITOR,\n    requiresDAK: true\n  });\n};\n\n/**\n * Helper function to create an asset viewer tool\n */\nexport const createAssetViewer = (config) => {\n  return createTool({\n    ...config,\n    type: TOOL_TYPES.VIEWER,\n    requiresDAK: true,\n    requiresAuth: false // Viewers can be used by unauthenticated users\n  });\n};\n\n/**\n * Helper function to create a dashboard tool\n */\nexport const createDashboard = (config) => {\n  return createTool({\n    ...config,\n    type: TOOL_TYPES.DASHBOARD,\n    requiresDAK: true\n  });\n};\n\nexport default toolRegistry;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}