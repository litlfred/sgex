{"ast":null,"code":"import inherits from 'inherits-browser';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { getBusinessObject, is } from '../../../util/ModelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A behavior that unsets the Default property of sequence flow source on\n * element delete, if the removed element is the Gateway or Task's default flow.\n *\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nexport default function DeleteSequenceFlowBehavior(eventBus, modeling) {\n  CommandInterceptor.call(this, eventBus);\n  this.preExecute('connection.delete', function (event) {\n    var context = event.context,\n      connection = context.connection,\n      source = connection.source;\n    if (isDefaultFlow(connection, source)) {\n      modeling.updateProperties(source, {\n        'default': null\n      });\n    }\n  });\n}\ninherits(DeleteSequenceFlowBehavior, CommandInterceptor);\nDeleteSequenceFlowBehavior.$inject = ['eventBus', 'modeling'];\n\n// helpers //////////////////////\n\nfunction isDefaultFlow(connection, source) {\n  if (!is(connection, 'bpmn:SequenceFlow')) {\n    return false;\n  }\n  var sourceBo = getBusinessObject(source),\n    sequenceFlow = getBusinessObject(connection);\n  return sourceBo.get('default') === sequenceFlow;\n}","map":{"version":3,"names":["inherits","CommandInterceptor","getBusinessObject","is","DeleteSequenceFlowBehavior","eventBus","modeling","call","preExecute","event","context","connection","source","isDefaultFlow","updateProperties","$inject","sourceBo","sequenceFlow","get"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/modeling/behavior/UnsetDefaultFlowBehavior.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from '../../../util/ModelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A behavior that unsets the Default property of sequence flow source on\n * element delete, if the removed element is the Gateway or Task's default flow.\n *\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nexport default function DeleteSequenceFlowBehavior(eventBus, modeling) {\n\n  CommandInterceptor.call(this, eventBus);\n\n\n  this.preExecute('connection.delete', function(event) {\n    var context = event.context,\n        connection = context.connection,\n        source = connection.source;\n\n    if (isDefaultFlow(connection, source)) {\n      modeling.updateProperties(source, {\n        'default': null\n      });\n    }\n  });\n}\n\ninherits(DeleteSequenceFlowBehavior, CommandInterceptor);\n\nDeleteSequenceFlowBehavior.$inject = [\n  'eventBus',\n  'modeling'\n];\n\n\n// helpers //////////////////////\n\nfunction isDefaultFlow(connection, source) {\n\n  if (!is(connection, 'bpmn:SequenceFlow')) {\n    return false;\n  }\n\n  var sourceBo = getBusinessObject(source),\n      sequenceFlow = getBusinessObject(connection);\n\n  return sourceBo.get('default') === sequenceFlow;\n}"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,kBAAkB,MAAM,2CAA2C;AAE1E,SACEC,iBAAiB,EACjBC,EAAE,QACG,yBAAyB;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,0BAA0BA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAErEL,kBAAkB,CAACM,IAAI,CAAC,IAAI,EAAEF,QAAQ,CAAC;EAGvC,IAAI,CAACG,UAAU,CAAC,mBAAmB,EAAE,UAASC,KAAK,EAAE;IACnD,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAAO;MACvBC,UAAU,GAAGD,OAAO,CAACC,UAAU;MAC/BC,MAAM,GAAGD,UAAU,CAACC,MAAM;IAE9B,IAAIC,aAAa,CAACF,UAAU,EAAEC,MAAM,CAAC,EAAE;MACrCN,QAAQ,CAACQ,gBAAgB,CAACF,MAAM,EAAE;QAChC,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ;AAEAZ,QAAQ,CAACI,0BAA0B,EAAEH,kBAAkB,CAAC;AAExDG,0BAA0B,CAACW,OAAO,GAAG,CACnC,UAAU,EACV,UAAU,CACX;;AAGD;;AAEA,SAASF,aAAaA,CAACF,UAAU,EAAEC,MAAM,EAAE;EAEzC,IAAI,CAACT,EAAE,CAACQ,UAAU,EAAE,mBAAmB,CAAC,EAAE;IACxC,OAAO,KAAK;EACd;EAEA,IAAIK,QAAQ,GAAGd,iBAAiB,CAACU,MAAM,CAAC;IACpCK,YAAY,GAAGf,iBAAiB,CAACS,UAAU,CAAC;EAEhD,OAAOK,QAAQ,CAACE,GAAG,CAAC,SAAS,CAAC,KAAKD,YAAY;AACjD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}