{"ast":null,"code":"import inherits from 'inherits-browser';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { is } from '../../../util/ModelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../BpmnFactory').default} BpmnFactory\n */\n\n/**\n * BPMN specific create data object behavior.\n *\n * @param {EventBus} eventBus\n * @param {BpmnFactory} bpmnFactory\n */\nexport default function CreateDataObjectBehavior(eventBus, bpmnFactory) {\n  CommandInterceptor.call(this, eventBus);\n  this.preExecute('shape.create', function (event) {\n    var context = event.context,\n      shape = context.shape;\n    if (is(shape, 'bpmn:DataObjectReference') && shape.type !== 'label') {\n      // create a DataObject every time a DataObjectReference is created\n      var dataObject = bpmnFactory.create('bpmn:DataObject');\n\n      // set the reference to the DataObject\n      shape.businessObject.dataObjectRef = dataObject;\n    }\n  });\n}\nCreateDataObjectBehavior.$inject = ['eventBus', 'bpmnFactory'];\ninherits(CreateDataObjectBehavior, CommandInterceptor);","map":{"version":3,"names":["inherits","CommandInterceptor","is","CreateDataObjectBehavior","eventBus","bpmnFactory","call","preExecute","event","context","shape","type","dataObject","create","businessObject","dataObjectRef","$inject"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/modeling/behavior/CreateDataObjectBehavior.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { is } from '../../../util/ModelUtil';\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../BpmnFactory').default} BpmnFactory\n */\n\n/**\n * BPMN specific create data object behavior.\n *\n * @param {EventBus} eventBus\n * @param {BpmnFactory} bpmnFactory\n */\nexport default function CreateDataObjectBehavior(eventBus, bpmnFactory) {\n\n  CommandInterceptor.call(this, eventBus);\n\n  this.preExecute('shape.create', function(event) {\n\n    var context = event.context,\n        shape = context.shape;\n\n    if (is(shape, 'bpmn:DataObjectReference') && shape.type !== 'label') {\n\n      // create a DataObject every time a DataObjectReference is created\n      var dataObject = bpmnFactory.create('bpmn:DataObject');\n\n      // set the reference to the DataObject\n      shape.businessObject.dataObjectRef = dataObject;\n    }\n  });\n\n}\n\nCreateDataObjectBehavior.$inject = [\n  'eventBus',\n  'bpmnFactory'\n];\n\ninherits(CreateDataObjectBehavior, CommandInterceptor);"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,kBAAkB,MAAM,2CAA2C;AAE1E,SAASC,EAAE,QAAQ,yBAAyB;;AAE5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,wBAAwBA,CAACC,QAAQ,EAAEC,WAAW,EAAE;EAEtEJ,kBAAkB,CAACK,IAAI,CAAC,IAAI,EAAEF,QAAQ,CAAC;EAEvC,IAAI,CAACG,UAAU,CAAC,cAAc,EAAE,UAASC,KAAK,EAAE;IAE9C,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAAO;MACvBC,KAAK,GAAGD,OAAO,CAACC,KAAK;IAEzB,IAAIR,EAAE,CAACQ,KAAK,EAAE,0BAA0B,CAAC,IAAIA,KAAK,CAACC,IAAI,KAAK,OAAO,EAAE;MAEnE;MACA,IAAIC,UAAU,GAAGP,WAAW,CAACQ,MAAM,CAAC,iBAAiB,CAAC;;MAEtD;MACAH,KAAK,CAACI,cAAc,CAACC,aAAa,GAAGH,UAAU;IACjD;EACF,CAAC,CAAC;AAEJ;AAEAT,wBAAwB,CAACa,OAAO,GAAG,CACjC,UAAU,EACV,aAAa,CACd;AAEDhB,QAAQ,CAACG,wBAAwB,EAAEF,kBAAkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}