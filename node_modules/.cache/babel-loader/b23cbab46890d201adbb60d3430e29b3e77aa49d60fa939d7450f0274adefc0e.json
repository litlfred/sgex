{"ast":null,"code":"import React,{useEffect,useRef}from'react';import'./CommitMessageDialog.css';/**\n * Dialog for entering commit message when saving to GitHub\n * Provides commit message input with validation and cancel functionality\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CommitMessageDialog=_ref=>{let{isOpen=false,commitMessage='',setCommitMessage,onCommit,onCancel,isSaving=false,fileName='',suggestedMessage=''}=_ref;const textareaRef=useRef(null);// Auto-focus and suggest message when dialog opens\nuseEffect(()=>{if(isOpen&&textareaRef.current){textareaRef.current.focus();// Set suggested message if none provided\nif(!commitMessage&&!suggestedMessage&&fileName){const defaultMessage=`Update ${fileName}`;setCommitMessage(defaultMessage);}else if(suggestedMessage&&!commitMessage){setCommitMessage(suggestedMessage);}}},[isOpen,commitMessage,suggestedMessage,fileName,setCommitMessage]);// Handle key presses\nconst handleKeyDown=e=>{if(e.key==='Escape'&&!isSaving){onCancel();}else if(e.key==='Enter'&&(e.ctrlKey||e.metaKey)){// Ctrl/Cmd + Enter to commit\nif(commitMessage.trim()&&!isSaving){onCommit(commitMessage.trim());}}};// Handle commit button click\nconst handleCommit=()=>{if(commitMessage.trim()&&!isSaving){onCommit(commitMessage.trim());}};// Handle overlay click to close\nconst handleOverlayClick=e=>{if(e.target===e.currentTarget&&!isSaving){onCancel();}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"commit-dialog-overlay\",onClick:handleOverlayClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"commit-dialog\",onKeyDown:handleKeyDown,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"commit-dialog-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Commit Changes to GitHub\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onCancel,disabled:isSaving,\"aria-label\":\"Close dialog\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"commit-dialog-content\",children:[fileName&&/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-icon\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"file-name\",children:fileName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"commit-message-section\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"commit-message\",className:\"commit-message-label\",children:\"Commit Message *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"commit-message\",ref:textareaRef,className:\"commit-message-input\",value:commitMessage,onChange:e=>setCommitMessage(e.target.value),placeholder:\"Describe the changes you made...\",rows:4,disabled:isSaving,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"commit-message-help\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Describe what changes you made and why. This will be visible in the repository's commit history.\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"commit-guidelines\",children:/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Commit Message Guidelines\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Use clear, descriptive language\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Start with a verb (Add, Update, Fix, Remove, etc.)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Keep the first line under 72 characters\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Add details in additional lines if needed\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"commit-dialog-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:onCancel,disabled:isSaving,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleCommit,disabled:!commitMessage.trim()||isSaving,children:isSaving?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"Committing...\"]}):'Commit Changes'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"keyboard-shortcut\",children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Press \",/*#__PURE__*/_jsx(\"kbd\",{children:\"Ctrl+Enter\"}),\" to commit or \",/*#__PURE__*/_jsx(\"kbd\",{children:\"Esc\"}),\" to cancel\"]})})]})]})});};export default CommitMessageDialog;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommitMessageDialog","_ref","isOpen","commitMessage","setCommitMessage","onCommit","onCancel","isSaving","fileName","suggestedMessage","textareaRef","current","focus","defaultMessage","handleKeyDown","e","key","ctrlKey","metaKey","trim","handleCommit","handleOverlayClick","target","currentTarget","className","onClick","children","onKeyDown","disabled","htmlFor","id","ref","value","onChange","placeholder","rows","required"],"sources":["/home/runner/work/sgex/sgex/src/components/framework/CommitMessageDialog.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport './CommitMessageDialog.css';\n\n/**\n * Dialog for entering commit message when saving to GitHub\n * Provides commit message input with validation and cancel functionality\n */\nconst CommitMessageDialog = ({\n  isOpen = false,\n  commitMessage = '',\n  setCommitMessage,\n  onCommit,\n  onCancel,\n  isSaving = false,\n  fileName = '',\n  suggestedMessage = ''\n}) => {\n  const textareaRef = useRef(null);\n  \n  // Auto-focus and suggest message when dialog opens\n  useEffect(() => {\n    if (isOpen && textareaRef.current) {\n      textareaRef.current.focus();\n      \n      // Set suggested message if none provided\n      if (!commitMessage && !suggestedMessage && fileName) {\n        const defaultMessage = `Update ${fileName}`;\n        setCommitMessage(defaultMessage);\n      } else if (suggestedMessage && !commitMessage) {\n        setCommitMessage(suggestedMessage);\n      }\n    }\n  }, [isOpen, commitMessage, suggestedMessage, fileName, setCommitMessage]);\n\n  // Handle key presses\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape' && !isSaving) {\n      onCancel();\n    } else if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {\n      // Ctrl/Cmd + Enter to commit\n      if (commitMessage.trim() && !isSaving) {\n        onCommit(commitMessage.trim());\n      }\n    }\n  };\n\n  // Handle commit button click\n  const handleCommit = () => {\n    if (commitMessage.trim() && !isSaving) {\n      onCommit(commitMessage.trim());\n    }\n  };\n\n  // Handle overlay click to close\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget && !isSaving) {\n      onCancel();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"commit-dialog-overlay\" onClick={handleOverlayClick}>\n      <div className=\"commit-dialog\" onKeyDown={handleKeyDown}>\n        <div className=\"commit-dialog-header\">\n          <h3>Commit Changes to GitHub</h3>\n          <button \n            className=\"close-button\"\n            onClick={onCancel}\n            disabled={isSaving}\n            aria-label=\"Close dialog\"\n          >\n            âœ•\n          </button>\n        </div>\n        \n        <div className=\"commit-dialog-content\">\n          {fileName && (\n            <div className=\"file-info\">\n              <span className=\"file-icon\">ðŸ“„</span>\n              <span className=\"file-name\">{fileName}</span>\n            </div>\n          )}\n          \n          <div className=\"commit-message-section\">\n            <label htmlFor=\"commit-message\" className=\"commit-message-label\">\n              Commit Message *\n            </label>\n            <textarea\n              id=\"commit-message\"\n              ref={textareaRef}\n              className=\"commit-message-input\"\n              value={commitMessage}\n              onChange={(e) => setCommitMessage(e.target.value)}\n              placeholder=\"Describe the changes you made...\"\n              rows={4}\n              disabled={isSaving}\n              required\n            />\n            <div className=\"commit-message-help\">\n              <small>\n                Describe what changes you made and why. This will be visible in the repository's commit history.\n              </small>\n            </div>\n          </div>\n          \n          <div className=\"commit-guidelines\">\n            <details>\n              <summary>Commit Message Guidelines</summary>\n              <ul>\n                <li>Use clear, descriptive language</li>\n                <li>Start with a verb (Add, Update, Fix, Remove, etc.)</li>\n                <li>Keep the first line under 72 characters</li>\n                <li>Add details in additional lines if needed</li>\n              </ul>\n            </details>\n          </div>\n        </div>\n        \n        <div className=\"commit-dialog-footer\">\n          <div className=\"dialog-actions\">\n            <button \n              className=\"btn btn-secondary\"\n              onClick={onCancel}\n              disabled={isSaving}\n            >\n              Cancel\n            </button>\n            <button \n              className=\"btn btn-primary\"\n              onClick={handleCommit}\n              disabled={!commitMessage.trim() || isSaving}\n            >\n              {isSaving ? (\n                <>\n                  <span className=\"spinner\"></span>\n                  Committing...\n                </>\n              ) : (\n                'Commit Changes'\n              )}\n            </button>\n          </div>\n          \n          <div className=\"keyboard-shortcut\">\n            <small>\n              Press <kbd>Ctrl+Enter</kbd> to commit or <kbd>Esc</kbd> to cancel\n            </small>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CommitMessageDialog;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}