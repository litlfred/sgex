{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import githubService from'../services/githubService';import CollaborationModal from'./CollaborationModal';import HelpModal from'./HelpModal';import OAuthDeviceFlow from'./OAuthDeviceFlow';import helpContentService from'../services/helpContentService';import{PageLayout}from'./framework';import{handleNavigationClick}from'../utils/navigationUtils';import useThemeImage from'../hooks/useThemeImage';import'./WelcomePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WelcomePage=()=>{const[isAuthenticated,setIsAuthenticated]=useState(false);const[showCollaborationModal,setShowCollaborationModal]=useState(false);const[showPATHelp,setShowPATHelp]=useState(false);const[warningMessage,setWarningMessage]=useState(null);const[authUser,setAuthUser]=useState(null);const navigate=useNavigate();const location=useLocation();// Theme-aware image paths\nconst mascotImage=useThemeImage('sgex-mascot.png');const authoringImage=useThemeImage('authoring.png');const collaborationImage=useThemeImage('collaboration.png');// Initial authentication check - runs once on mount\nuseEffect(()=>{const initializeAuth=()=>{// Check if user is already authenticated from previous session\nconst token=sessionStorage.getItem('github_token')||localStorage.getItem('github_token');if(token){const success=githubService.authenticate(token);if(success){setIsAuthenticated(true);// Try to get user info\ngithubService.getCurrentUser().then(user=>{setAuthUser(user);}).catch(err=>{console.warn('Could not fetch user info:',err);});}else{sessionStorage.removeItem('github_token');localStorage.removeItem('github_token');}}};initializeAuth();},[]);// Listen for authentication state changes (for logout)\nuseEffect(()=>{const checkAuthState=()=>{setIsAuthenticated(githubService.isAuthenticated);};// Check periodically for auth state changes\nconst interval=setInterval(checkAuthState,1000);return()=>clearInterval(interval);},[]);// Handle warning message from navigation state\nuseEffect(()=>{var _location$state;if((_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.warningMessage){setWarningMessage(location.state.warningMessage);// Clear the warning message from navigation state to prevent it from persisting\nnavigate(location.pathname,{replace:true,state:{}});}},[location.state,navigate,location.pathname]);const handleOAuthSuccess=(token,user,scopes)=>{// Store token in session storage for this session\nsessionStorage.setItem('github_token',token);// Store username for better UX\nif(user&&user.login){sessionStorage.setItem('github_username',user.login);}// Authentication is already set by the OAuth flow\nsetIsAuthenticated(true);setAuthUser(user);};const handleGuestBrowsing=()=>{// Enable guest mode for read-only browsing\ngithubService.enableGuestMode();setIsAuthenticated(false);setAuthUser(null);// Navigate to profile selection in guest mode\nhandleNavigationClick(null,'/select_profile',navigate,{guestMode:true});};const handleAuthoringClick=event=>{handleNavigationClick(event,'/select_profile',navigate);};const handleDemoMode=event=>{// Create a mock profile for demonstration purposes\nconst demoProfile={login:'demo-user',name:'Demo User',avatar_url:'https://github.com/github.png',type:'User',isDemo:true};// Navigate directly to DAK selection with edit action to show enhanced scanning\nconst navigationState={profile:demoProfile,action:'edit'};handleNavigationClick(event,`/dak-selection/${demoProfile.login}`,navigate,navigationState);};const handleDismissWarning=()=>{setWarningMessage(null);};const handleCollaborationOpen=()=>{setShowCollaborationModal(true);};const handleCollaborationClose=()=>{setShowCollaborationModal(false);};return/*#__PURE__*/_jsx(PageLayout,{pageName:\"welcome\",showBreadcrumbs:false,children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-page-content\",children:[warningMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"warning-message\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"warning-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"warning-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"warning-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"warning-text\",children:warningMessage})]}),/*#__PURE__*/_jsx(\"button\",{className:\"warning-dismiss\",onClick:handleDismissWarning,\"aria-label\":\"Dismiss warning\",children:\"\\xD7 Dismiss\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"welcome-hero\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-intro\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome-mascot\",children:/*#__PURE__*/_jsx(\"img\",{src:mascotImage,alt:\"SGEX Workbench Helper\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"SGEX Workbench\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"WHO SMART Guidelines Exchange\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mission-statement\",children:\"SGEX is an experimental collaborative project developing a workbench of tools to make it easier and faster to develop high fidelity SMART Guidelines Digital Adaptation Kits (DAKs). Our mission is to empower healthcare organizations worldwide to create and maintain standards-compliant digital health implementations.\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"welcome-cards\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"action-card authoring-card\",onClick:handleAuthoringClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:authoringImage,alt:\"Authoring\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Create, edit, or fork WHO SMART Guidelines Digital Adaptation Kits.\"})]}),!isAuthenticated&&/*#__PURE__*/_jsxs(\"div\",{className:\"action-card oauth-demo-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"oauth-section\",children:/*#__PURE__*/_jsx(OAuthDeviceFlow,{onAuthSuccess:handleOAuthSuccess,onError:error=>{console.error('OAuth authentication failed:',error);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"demo-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Want to try without signing in?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDemoMode,className:\"demo-btn\",children:\"\\uD83C\\uDFAD Try Demo Mode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"demo-note\",children:\"Demo mode showcases the enhanced DAK scanning display with mock data.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"guest-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Browse Public Repositories\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGuestBrowsing,className:\"guest-btn\",children:\"\\uD83D\\uDC64 Browse as Guest\"}),/*#__PURE__*/_jsx(\"p\",{className:\"guest-note\",children:\"Read-only access to public repositories without authentication.\"})]})]}),isAuthenticated&&authUser&&/*#__PURE__*/_jsx(\"div\",{className:\"action-card user-info-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:authUser.avatar_url,alt:authUser.name||authUser.login,className:\"user-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Welcome back, \",authUser.name||authUser.login,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"You're signed in and ready to collaborate.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{githubService.clearAllRepositoryTokens();sessionStorage.removeItem('github_token');localStorage.removeItem('github_token');sessionStorage.removeItem('github_username');setIsAuthenticated(false);setAuthUser(null);},className:\"sign-out-btn\",children:\"\\uD83D\\uDEAA Sign Out\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-card collaboration-card\",onClick:handleCollaborationOpen,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:collaborationImage,alt:\"Collaboration\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Learn about our mission, how to contribute, and join our community-driven development process.\"})]})]})}),showCollaborationModal&&/*#__PURE__*/_jsx(CollaborationModal,{onClose:handleCollaborationClose}),showPATHelp&&/*#__PURE__*/_jsx(HelpModal,{helpTopic:helpContentService.getHelpTopic('github-pat-setup'),contextData:{pageId:'welcome'},onClose:()=>setShowPATHelp(false)})]})});};export default WelcomePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","githubService","CollaborationModal","HelpModal","OAuthDeviceFlow","helpContentService","PageLayout","handleNavigationClick","useThemeImage","jsx","_jsx","jsxs","_jsxs","WelcomePage","isAuthenticated","setIsAuthenticated","showCollaborationModal","setShowCollaborationModal","showPATHelp","setShowPATHelp","warningMessage","setWarningMessage","authUser","setAuthUser","navigate","location","mascotImage","authoringImage","collaborationImage","initializeAuth","token","sessionStorage","getItem","localStorage","success","authenticate","getCurrentUser","then","user","catch","err","console","warn","removeItem","checkAuthState","interval","setInterval","clearInterval","_location$state","state","pathname","replace","handleOAuthSuccess","scopes","setItem","login","handleGuestBrowsing","enableGuestMode","guestMode","handleAuthoringClick","event","handleDemoMode","demoProfile","name","avatar_url","type","isDemo","navigationState","profile","action","handleDismissWarning","handleCollaborationOpen","handleCollaborationClose","pageName","showBreadcrumbs","children","className","onClick","src","alt","onAuthSuccess","onError","error","clearAllRepositoryTokens","onClose","helpTopic","getHelpTopic","contextData","pageId"],"sources":["/home/runner/work/sgex/sgex/src/components/WelcomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport githubService from '../services/githubService';\nimport CollaborationModal from './CollaborationModal';\nimport HelpModal from './HelpModal';\nimport OAuthDeviceFlow from './OAuthDeviceFlow';\nimport helpContentService from '../services/helpContentService';\nimport { PageLayout } from './framework';\nimport { handleNavigationClick } from '../utils/navigationUtils';\nimport useThemeImage from '../hooks/useThemeImage';\nimport './WelcomePage.css';\n\nconst WelcomePage = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showCollaborationModal, setShowCollaborationModal] = useState(false);\n  const [showPATHelp, setShowPATHelp] = useState(false);\n  const [warningMessage, setWarningMessage] = useState(null);\n  const [authUser, setAuthUser] = useState(null);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Theme-aware image paths\n  const mascotImage = useThemeImage('sgex-mascot.png');\n  const authoringImage = useThemeImage('authoring.png');\n  const collaborationImage = useThemeImage('collaboration.png');\n\n  // Initial authentication check - runs once on mount\n  useEffect(() => {\n    const initializeAuth = () => {\n      // Check if user is already authenticated from previous session\n      const token = sessionStorage.getItem('github_token') || localStorage.getItem('github_token');\n      if (token) {\n        const success = githubService.authenticate(token);\n        if (success) {\n          setIsAuthenticated(true);\n          // Try to get user info\n          githubService.getCurrentUser().then(user => {\n            setAuthUser(user);\n          }).catch(err => {\n            console.warn('Could not fetch user info:', err);\n          });\n        } else {\n          sessionStorage.removeItem('github_token');\n          localStorage.removeItem('github_token');\n        }\n      }\n    };\n\n    initializeAuth();\n  }, []);\n\n  // Listen for authentication state changes (for logout)\n  useEffect(() => {\n    const checkAuthState = () => {\n      setIsAuthenticated(githubService.isAuthenticated);\n    };\n\n    // Check periodically for auth state changes\n    const interval = setInterval(checkAuthState, 1000);\n    \n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle warning message from navigation state\n  useEffect(() => {\n    if (location.state?.warningMessage) {\n      setWarningMessage(location.state.warningMessage);\n      // Clear the warning message from navigation state to prevent it from persisting\n      navigate(location.pathname, { replace: true, state: {} });\n    }\n  }, [location.state, navigate, location.pathname]);\n\n  const handleOAuthSuccess = (token, user, scopes) => {\n    // Store token in session storage for this session\n    sessionStorage.setItem('github_token', token);\n    \n    // Store username for better UX\n    if (user && user.login) {\n      sessionStorage.setItem('github_username', user.login);\n    }\n    \n    // Authentication is already set by the OAuth flow\n    setIsAuthenticated(true);\n    setAuthUser(user);\n  };\n\n  const handleGuestBrowsing = () => {\n    // Enable guest mode for read-only browsing\n    githubService.enableGuestMode();\n    setIsAuthenticated(false);\n    setAuthUser(null);\n    \n    // Navigate to profile selection in guest mode\n    handleNavigationClick(null, '/select_profile', navigate, { guestMode: true });\n  };\n\n  const handleAuthoringClick = (event) => {\n    handleNavigationClick(event, '/select_profile', navigate);\n  };\n\n  const handleDemoMode = (event) => {\n    // Create a mock profile for demonstration purposes\n    const demoProfile = {\n      login: 'demo-user',\n      name: 'Demo User',\n      avatar_url: 'https://github.com/github.png',\n      type: 'User',\n      isDemo: true\n    };\n    \n    // Navigate directly to DAK selection with edit action to show enhanced scanning\n    const navigationState = {\n      profile: demoProfile,\n      action: 'edit'\n    };\n    \n    handleNavigationClick(event, `/dak-selection/${demoProfile.login}`, navigate, navigationState);\n  };\n\n  const handleDismissWarning = () => {\n    setWarningMessage(null);\n  };\n\n  const handleCollaborationOpen = () => {\n    setShowCollaborationModal(true);\n  };\n\n  const handleCollaborationClose = () => {\n    setShowCollaborationModal(false);\n  };\n\n  return (\n    <PageLayout pageName=\"welcome\" showBreadcrumbs={false}>\n      <div className=\"welcome-page-content\">\n        {warningMessage && (\n          <div className=\"warning-message\">\n            <div className=\"warning-content\">\n              <div className=\"warning-header\">\n                <span className=\"warning-icon\">‚ö†Ô∏è</span>\n                <span className=\"warning-text\">{warningMessage}</span>\n              </div>\n              <button \n                className=\"warning-dismiss\" \n                onClick={handleDismissWarning}\n                aria-label=\"Dismiss warning\"\n              >\n                √ó Dismiss\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"welcome-hero\">\n          <div className=\"welcome-intro\">\n            <div className=\"welcome-mascot\">\n              <img src={mascotImage} alt=\"SGEX Workbench Helper\" />\n            </div>\n            <div className=\"welcome-text\">\n              <h1>SGEX Workbench</h1>\n              <h2>WHO SMART Guidelines Exchange</h2>\n              <p className=\"mission-statement\">\n                SGEX is an experimental collaborative project developing a workbench of tools to make it easier and faster to develop high fidelity SMART Guidelines Digital Adaptation Kits (DAKs). Our mission is to empower healthcare organizations worldwide to create and maintain standards-compliant digital health implementations.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"welcome-cards\">\n          <div className=\"card-grid\">\n            {/* Authoring Card - Always show */}\n            <div className=\"action-card authoring-card\" onClick={handleAuthoringClick}>\n              <div className=\"card-icon\">\n                <img src={authoringImage} alt=\"Authoring\" />\n              </div>\n              <p>Create, edit, or fork WHO SMART Guidelines Digital Adaptation Kits.</p>\n            </div>\n\n            {/* OAuth + Demo Card (Middle) - Only show when not authenticated */}\n            {!isAuthenticated && (\n              <div className=\"action-card oauth-demo-card\">\n                {/* OAuth Login Section */}\n                <div className=\"oauth-section\">\n                  <OAuthDeviceFlow\n                    onAuthSuccess={handleOAuthSuccess}\n                    onError={(error) => {\n                      console.error('OAuth authentication failed:', error);\n                    }}\n                  />\n                </div>\n\n                {/* Demo Section */}\n                <div className=\"demo-section\">\n                  <h4>Want to try without signing in?</h4>\n                  <button onClick={handleDemoMode} className=\"demo-btn\">\n                    üé≠ Try Demo Mode\n                  </button>\n                  <p className=\"demo-note\">\n                    Demo mode showcases the enhanced DAK scanning display with mock data.\n                  </p>\n                </div>\n\n                {/* Guest Browsing Section */}\n                <div className=\"guest-section\">\n                  <h4>Browse Public Repositories</h4>\n                  <button onClick={handleGuestBrowsing} className=\"guest-btn\">\n                    üë§ Browse as Guest\n                  </button>\n                  <p className=\"guest-note\">\n                    Read-only access to public repositories without authentication.\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {/* Authenticated User Info */}\n            {isAuthenticated && authUser && (\n              <div className=\"action-card user-info-card\">\n                <div className=\"user-info\">\n                  <img \n                    src={authUser.avatar_url} \n                    alt={authUser.name || authUser.login}\n                    className=\"user-avatar\"\n                  />\n                  <div className=\"user-details\">\n                    <h4>Welcome back, {authUser.name || authUser.login}!</h4>\n                    <p>You're signed in and ready to collaborate.</p>\n                    <button \n                      onClick={() => {\n                        githubService.clearAllRepositoryTokens();\n                        sessionStorage.removeItem('github_token');\n                        localStorage.removeItem('github_token');\n                        sessionStorage.removeItem('github_username');\n                        setIsAuthenticated(false);\n                        setAuthUser(null);\n                      }}\n                      className=\"sign-out-btn\"\n                    >\n                      üö™ Sign Out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Collaboration Card */}\n            <div className=\"action-card collaboration-card\" onClick={handleCollaborationOpen}>\n              <div className=\"card-icon\">\n                <img src={collaborationImage} alt=\"Collaboration\" />\n              </div>\n              <p>Learn about our mission, how to contribute, and join our community-driven development process.</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Collaboration Modal */}\n        {showCollaborationModal && (\n          <CollaborationModal onClose={handleCollaborationClose} />\n        )}\n\n        {/* PAT Help Modal */}\n        {showPATHelp && (\n          <HelpModal\n            helpTopic={helpContentService.getHelpTopic('github-pat-setup')}\n            contextData={{ pageId: 'welcome' }}\n            onClose={() => setShowPATHelp(false)}\n          />\n        )}\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default WelcomePage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,MAAO,CAAAC,kBAAkB,KAAM,sBAAsB,CACrD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,kBAAkB,KAAM,gCAAgC,CAC/D,OAASC,UAAU,KAAQ,aAAa,CACxC,OAASC,qBAAqB,KAAQ,0BAA0B,CAChE,MAAO,CAAAC,aAAa,KAAM,wBAAwB,CAClD,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACmB,sBAAsB,CAAEC,yBAAyB,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC3E,KAAM,CAACqB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACuB,cAAc,CAAEC,iBAAiB,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACyB,QAAQ,CAAEC,WAAW,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAA2B,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAA0B,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAA0B,WAAW,CAAGlB,aAAa,CAAC,iBAAiB,CAAC,CACpD,KAAM,CAAAmB,cAAc,CAAGnB,aAAa,CAAC,eAAe,CAAC,CACrD,KAAM,CAAAoB,kBAAkB,CAAGpB,aAAa,CAAC,mBAAmB,CAAC,CAE7D;AACAV,SAAS,CAAC,IAAM,CACd,KAAM,CAAA+B,cAAc,CAAGA,CAAA,GAAM,CAC3B;AACA,KAAM,CAAAC,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIC,YAAY,CAACD,OAAO,CAAC,cAAc,CAAC,CAC5F,GAAIF,KAAK,CAAE,CACT,KAAM,CAAAI,OAAO,CAAGjC,aAAa,CAACkC,YAAY,CAACL,KAAK,CAAC,CACjD,GAAII,OAAO,CAAE,CACXnB,kBAAkB,CAAC,IAAI,CAAC,CACxB;AACAd,aAAa,CAACmC,cAAc,CAAC,CAAC,CAACC,IAAI,CAACC,IAAI,EAAI,CAC1Cf,WAAW,CAACe,IAAI,CAAC,CACnB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAI,CACdC,OAAO,CAACC,IAAI,CAAC,4BAA4B,CAAEF,GAAG,CAAC,CACjD,CAAC,CAAC,CACJ,CAAC,IAAM,CACLT,cAAc,CAACY,UAAU,CAAC,cAAc,CAAC,CACzCV,YAAY,CAACU,UAAU,CAAC,cAAc,CAAC,CACzC,CACF,CACF,CAAC,CAEDd,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA/B,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8C,cAAc,CAAGA,CAAA,GAAM,CAC3B7B,kBAAkB,CAACd,aAAa,CAACa,eAAe,CAAC,CACnD,CAAC,CAED;AACA,KAAM,CAAA+B,QAAQ,CAAGC,WAAW,CAACF,cAAc,CAAE,IAAI,CAAC,CAElD,MAAO,IAAMG,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA/C,SAAS,CAAC,IAAM,KAAAkD,eAAA,CACd,IAAAA,eAAA,CAAIvB,QAAQ,CAACwB,KAAK,UAAAD,eAAA,WAAdA,eAAA,CAAgB5B,cAAc,CAAE,CAClCC,iBAAiB,CAACI,QAAQ,CAACwB,KAAK,CAAC7B,cAAc,CAAC,CAChD;AACAI,QAAQ,CAACC,QAAQ,CAACyB,QAAQ,CAAE,CAAEC,OAAO,CAAE,IAAI,CAAEF,KAAK,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3D,CACF,CAAC,CAAE,CAACxB,QAAQ,CAACwB,KAAK,CAAEzB,QAAQ,CAAEC,QAAQ,CAACyB,QAAQ,CAAC,CAAC,CAEjD,KAAM,CAAAE,kBAAkB,CAAGA,CAACtB,KAAK,CAAEQ,IAAI,CAAEe,MAAM,GAAK,CAClD;AACAtB,cAAc,CAACuB,OAAO,CAAC,cAAc,CAAExB,KAAK,CAAC,CAE7C;AACA,GAAIQ,IAAI,EAAIA,IAAI,CAACiB,KAAK,CAAE,CACtBxB,cAAc,CAACuB,OAAO,CAAC,iBAAiB,CAAEhB,IAAI,CAACiB,KAAK,CAAC,CACvD,CAEA;AACAxC,kBAAkB,CAAC,IAAI,CAAC,CACxBQ,WAAW,CAACe,IAAI,CAAC,CACnB,CAAC,CAED,KAAM,CAAAkB,mBAAmB,CAAGA,CAAA,GAAM,CAChC;AACAvD,aAAa,CAACwD,eAAe,CAAC,CAAC,CAC/B1C,kBAAkB,CAAC,KAAK,CAAC,CACzBQ,WAAW,CAAC,IAAI,CAAC,CAEjB;AACAhB,qBAAqB,CAAC,IAAI,CAAE,iBAAiB,CAAEiB,QAAQ,CAAE,CAAEkC,SAAS,CAAE,IAAK,CAAC,CAAC,CAC/E,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIC,KAAK,EAAK,CACtCrD,qBAAqB,CAACqD,KAAK,CAAE,iBAAiB,CAAEpC,QAAQ,CAAC,CAC3D,CAAC,CAED,KAAM,CAAAqC,cAAc,CAAID,KAAK,EAAK,CAChC;AACA,KAAM,CAAAE,WAAW,CAAG,CAClBP,KAAK,CAAE,WAAW,CAClBQ,IAAI,CAAE,WAAW,CACjBC,UAAU,CAAE,+BAA+B,CAC3CC,IAAI,CAAE,MAAM,CACZC,MAAM,CAAE,IACV,CAAC,CAED;AACA,KAAM,CAAAC,eAAe,CAAG,CACtBC,OAAO,CAAEN,WAAW,CACpBO,MAAM,CAAE,MACV,CAAC,CAED9D,qBAAqB,CAACqD,KAAK,CAAE,kBAAkBE,WAAW,CAACP,KAAK,EAAE,CAAE/B,QAAQ,CAAE2C,eAAe,CAAC,CAChG,CAAC,CAED,KAAM,CAAAG,oBAAoB,CAAGA,CAAA,GAAM,CACjCjD,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAAkD,uBAAuB,CAAGA,CAAA,GAAM,CACpCtD,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAAC,CAED,KAAM,CAAAuD,wBAAwB,CAAGA,CAAA,GAAM,CACrCvD,yBAAyB,CAAC,KAAK,CAAC,CAClC,CAAC,CAED,mBACEP,IAAA,CAACJ,UAAU,EAACmE,QAAQ,CAAC,SAAS,CAACC,eAAe,CAAE,KAAM,CAAAC,QAAA,cACpD/D,KAAA,QAAKgE,SAAS,CAAC,sBAAsB,CAAAD,QAAA,EAClCvD,cAAc,eACbV,IAAA,QAAKkE,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC9B/D,KAAA,QAAKgE,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9B/D,KAAA,QAAKgE,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BjE,IAAA,SAAMkE,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,cACxCjE,IAAA,SAAMkE,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAEvD,cAAc,CAAO,CAAC,EACnD,CAAC,cACNV,IAAA,WACEkE,SAAS,CAAC,iBAAiB,CAC3BC,OAAO,CAAEP,oBAAqB,CAC9B,aAAW,iBAAiB,CAAAK,QAAA,CAC7B,cAED,CAAQ,CAAC,EACN,CAAC,CACH,CACN,cAEDjE,IAAA,QAAKkE,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3B/D,KAAA,QAAKgE,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BjE,IAAA,QAAKkE,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC7BjE,IAAA,QAAKoE,GAAG,CAAEpD,WAAY,CAACqD,GAAG,CAAC,uBAAuB,CAAE,CAAC,CAClD,CAAC,cACNnE,KAAA,QAAKgE,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BjE,IAAA,OAAAiE,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBjE,IAAA,OAAAiE,QAAA,CAAI,+BAA6B,CAAI,CAAC,cACtCjE,IAAA,MAAGkE,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,8TAEjC,CAAG,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,cAENjE,IAAA,QAAKkE,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC5B/D,KAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAD,QAAA,eAExB/D,KAAA,QAAKgE,SAAS,CAAC,4BAA4B,CAACC,OAAO,CAAElB,oBAAqB,CAAAgB,QAAA,eACxEjE,IAAA,QAAKkE,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxBjE,IAAA,QAAKoE,GAAG,CAAEnD,cAAe,CAACoD,GAAG,CAAC,WAAW,CAAE,CAAC,CACzC,CAAC,cACNrE,IAAA,MAAAiE,QAAA,CAAG,qEAAmE,CAAG,CAAC,EACvE,CAAC,CAGL,CAAC7D,eAAe,eACfF,KAAA,QAAKgE,SAAS,CAAC,6BAA6B,CAAAD,QAAA,eAE1CjE,IAAA,QAAKkE,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC5BjE,IAAA,CAACN,eAAe,EACd4E,aAAa,CAAE5B,kBAAmB,CAClC6B,OAAO,CAAGC,KAAK,EAAK,CAClBzC,OAAO,CAACyC,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CAAE,CACH,CAAC,CACC,CAAC,cAGNtE,KAAA,QAAKgE,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BjE,IAAA,OAAAiE,QAAA,CAAI,iCAA+B,CAAI,CAAC,cACxCjE,IAAA,WAAQmE,OAAO,CAAEhB,cAAe,CAACe,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,4BAEtD,CAAQ,CAAC,cACTjE,IAAA,MAAGkE,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,uEAEzB,CAAG,CAAC,EACD,CAAC,cAGN/D,KAAA,QAAKgE,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BjE,IAAA,OAAAiE,QAAA,CAAI,4BAA0B,CAAI,CAAC,cACnCjE,IAAA,WAAQmE,OAAO,CAAErB,mBAAoB,CAACoB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,8BAE5D,CAAQ,CAAC,cACTjE,IAAA,MAAGkE,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,iEAE1B,CAAG,CAAC,EACD,CAAC,EACH,CACN,CAGA7D,eAAe,EAAIQ,QAAQ,eAC1BZ,IAAA,QAAKkE,SAAS,CAAC,4BAA4B,CAAAD,QAAA,cACzC/D,KAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjE,IAAA,QACEoE,GAAG,CAAExD,QAAQ,CAAC0C,UAAW,CACzBe,GAAG,CAAEzD,QAAQ,CAACyC,IAAI,EAAIzC,QAAQ,CAACiC,KAAM,CACrCqB,SAAS,CAAC,aAAa,CACxB,CAAC,cACFhE,KAAA,QAAKgE,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B/D,KAAA,OAAA+D,QAAA,EAAI,gBAAc,CAACrD,QAAQ,CAACyC,IAAI,EAAIzC,QAAQ,CAACiC,KAAK,CAAC,GAAC,EAAI,CAAC,cACzD7C,IAAA,MAAAiE,QAAA,CAAG,4CAA0C,CAAG,CAAC,cACjDjE,IAAA,WACEmE,OAAO,CAAEA,CAAA,GAAM,CACb5E,aAAa,CAACkF,wBAAwB,CAAC,CAAC,CACxCpD,cAAc,CAACY,UAAU,CAAC,cAAc,CAAC,CACzCV,YAAY,CAACU,UAAU,CAAC,cAAc,CAAC,CACvCZ,cAAc,CAACY,UAAU,CAAC,iBAAiB,CAAC,CAC5C5B,kBAAkB,CAAC,KAAK,CAAC,CACzBQ,WAAW,CAAC,IAAI,CAAC,CACnB,CAAE,CACFqD,SAAS,CAAC,cAAc,CAAAD,QAAA,CACzB,uBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,cAGD/D,KAAA,QAAKgE,SAAS,CAAC,gCAAgC,CAACC,OAAO,CAAEN,uBAAwB,CAAAI,QAAA,eAC/EjE,IAAA,QAAKkE,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxBjE,IAAA,QAAKoE,GAAG,CAAElD,kBAAmB,CAACmD,GAAG,CAAC,eAAe,CAAE,CAAC,CACjD,CAAC,cACNrE,IAAA,MAAAiE,QAAA,CAAG,gGAA8F,CAAG,CAAC,EAClG,CAAC,EACH,CAAC,CACH,CAAC,CAGL3D,sBAAsB,eACrBN,IAAA,CAACR,kBAAkB,EAACkF,OAAO,CAAEZ,wBAAyB,CAAE,CACzD,CAGAtD,WAAW,eACVR,IAAA,CAACP,SAAS,EACRkF,SAAS,CAAEhF,kBAAkB,CAACiF,YAAY,CAAC,kBAAkB,CAAE,CAC/DC,WAAW,CAAE,CAAEC,MAAM,CAAE,SAAU,CAAE,CACnCJ,OAAO,CAAEA,CAAA,GAAMjE,cAAc,CAAC,KAAK,CAAE,CACtC,CACF,EACE,CAAC,CACI,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAN,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}