{"ast":null,"code":"import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport inherits from 'inherits-browser';\nimport { canBeNonInterrupting, getInterruptingProperty } from './util/NonInterruptingUtil';\nimport { getBusinessObject } from '../../../util/ModelUtil';\nexport default function NonInterruptingBehavior(injector, modeling) {\n  injector.invoke(CommandInterceptor, this);\n  this.postExecuted('shape.replace', function (event) {\n    const oldShape = event.context.oldShape;\n    const newShape = event.context.newShape;\n    const hints = event.context.hints;\n    if (!canBeNonInterrupting(newShape)) {\n      return;\n    }\n    const property = getInterruptingProperty(newShape);\n    const isExplicitChange = hints.targetElement && hints.targetElement[property] !== undefined;\n    if (isExplicitChange) {\n      return;\n    }\n    const isOldInterrupting = getBusinessObject(oldShape).get(property);\n    const isNewInterruptingDefault = getBusinessObject(newShape).get(property);\n    if (isOldInterrupting === isNewInterruptingDefault) {\n      return;\n    }\n    modeling.updateProperties(newShape, {\n      [property]: isOldInterrupting\n    });\n  });\n}\nNonInterruptingBehavior.$inject = ['injector', 'modeling'];\ninherits(NonInterruptingBehavior, CommandInterceptor);","map":{"version":3,"names":["CommandInterceptor","inherits","canBeNonInterrupting","getInterruptingProperty","getBusinessObject","NonInterruptingBehavior","injector","modeling","invoke","postExecuted","event","oldShape","context","newShape","hints","property","isExplicitChange","targetElement","undefined","isOldInterrupting","get","isNewInterruptingDefault","updateProperties","$inject"],"sources":["/home/runner/work/sgex/sgex/node_modules/bpmn-js/lib/features/modeling/behavior/NonInterruptingBehavior.js"],"sourcesContent":["import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport inherits from 'inherits-browser';\n\nimport { canBeNonInterrupting, getInterruptingProperty } from './util/NonInterruptingUtil';\nimport { getBusinessObject } from '../../../util/ModelUtil';\n\nexport default function NonInterruptingBehavior(injector, modeling) {\n  injector.invoke(CommandInterceptor, this);\n\n  this.postExecuted('shape.replace', function(event) {\n    const oldShape = event.context.oldShape;\n    const newShape = event.context.newShape;\n    const hints = event.context.hints;\n\n    if (!canBeNonInterrupting(newShape)) {\n      return;\n    }\n\n    const property = getInterruptingProperty(newShape);\n    const isExplicitChange = hints.targetElement && hints.targetElement[property] !== undefined;\n\n    if (isExplicitChange) {\n      return;\n    }\n\n    const isOldInterrupting = getBusinessObject(oldShape).get(property);\n    const isNewInterruptingDefault = getBusinessObject(newShape).get(property);\n\n    if (isOldInterrupting === isNewInterruptingDefault) {\n      return;\n    }\n\n    modeling.updateProperties(newShape, {\n      [property]: isOldInterrupting\n    });\n  });\n}\n\nNonInterruptingBehavior.$inject = [ 'injector', 'modeling' ];\n\ninherits(NonInterruptingBehavior, CommandInterceptor);\n"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,2CAA2C;AAC1E,OAAOC,QAAQ,MAAM,kBAAkB;AAEvC,SAASC,oBAAoB,EAAEC,uBAAuB,QAAQ,4BAA4B;AAC1F,SAASC,iBAAiB,QAAQ,yBAAyB;AAE3D,eAAe,SAASC,uBAAuBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAClED,QAAQ,CAACE,MAAM,CAACR,kBAAkB,EAAE,IAAI,CAAC;EAEzC,IAAI,CAACS,YAAY,CAAC,eAAe,EAAE,UAASC,KAAK,EAAE;IACjD,MAAMC,QAAQ,GAAGD,KAAK,CAACE,OAAO,CAACD,QAAQ;IACvC,MAAME,QAAQ,GAAGH,KAAK,CAACE,OAAO,CAACC,QAAQ;IACvC,MAAMC,KAAK,GAAGJ,KAAK,CAACE,OAAO,CAACE,KAAK;IAEjC,IAAI,CAACZ,oBAAoB,CAACW,QAAQ,CAAC,EAAE;MACnC;IACF;IAEA,MAAME,QAAQ,GAAGZ,uBAAuB,CAACU,QAAQ,CAAC;IAClD,MAAMG,gBAAgB,GAAGF,KAAK,CAACG,aAAa,IAAIH,KAAK,CAACG,aAAa,CAACF,QAAQ,CAAC,KAAKG,SAAS;IAE3F,IAAIF,gBAAgB,EAAE;MACpB;IACF;IAEA,MAAMG,iBAAiB,GAAGf,iBAAiB,CAACO,QAAQ,CAAC,CAACS,GAAG,CAACL,QAAQ,CAAC;IACnE,MAAMM,wBAAwB,GAAGjB,iBAAiB,CAACS,QAAQ,CAAC,CAACO,GAAG,CAACL,QAAQ,CAAC;IAE1E,IAAII,iBAAiB,KAAKE,wBAAwB,EAAE;MAClD;IACF;IAEAd,QAAQ,CAACe,gBAAgB,CAACT,QAAQ,EAAE;MAClC,CAACE,QAAQ,GAAGI;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEAd,uBAAuB,CAACkB,OAAO,GAAG,CAAE,UAAU,EAAE,UAAU,CAAE;AAE5DtB,QAAQ,CAACI,uBAAuB,EAAEL,kBAAkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}