{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import{useLocation,useNavigate}from'react-router-dom';import BpmnViewer from'bpmn-js/lib/NavigatedViewer';import githubService from'../services/githubService';import{PageLayout}from'./framework';import'./BPMNViewer.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BPMNViewerComponent=()=>{const location=useLocation();const navigate=useNavigate();const viewerRef=useRef(null);const containerRef=useRef(null);const{profile,repository,component,selectedFile,selectedBranch}=location.state||{};const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[hasWriteAccess,setHasWriteAccess]=useState(false);const[enhancedFullwidth,setEnhancedFullwidth]=useState(false);const[autoHide,setAutoHide]=useState(false);// Check write permissions\nuseEffect(()=>{const checkPermissions=async()=>{if(repository&&profile){try{var _repository$permissio;// Simple permission check - in real app, this would use githubService\nconst writeAccess=profile.token&&((_repository$permissio=repository.permissions)===null||_repository$permissio===void 0?void 0:_repository$permissio.push);setHasWriteAccess(writeAccess||false);}catch(error){console.warn('Could not check write permissions:',error);setHasWriteAccess(false);}}};checkPermissions();},[repository,profile]);// Load BPMN file content\nconst loadBpmnContent=useCallback(async()=>{var _repository$owner;console.log('🚀 BPMNViewer: loadBpmnContent called with:',{hasViewer:!!viewerRef.current,selectedFile:selectedFile,repository:repository?{name:repository.name,owner:repository.owner}:null});if(!viewerRef.current||!selectedFile||!repository){console.warn('❌ BPMNViewer: Missing required parameters for loadBpmnContent:',{hasViewer:!!viewerRef.current,hasSelectedFile:!!selectedFile,hasRepository:!!repository});return;}// Declare variables outside try block so they're accessible in catch block\nconst owner=((_repository$owner=repository.owner)===null||_repository$owner===void 0?void 0:_repository$owner.login)||repository.full_name.split('/')[0];const repoName=repository.name;const ref=selectedBranch||'main';try{console.log('📡 BPMNViewer: Setting loading state to true');setLoading(true);setError(null);console.log('🔍 BPMNViewer: Repository and file analysis:',{repository:{name:repository.name,full_name:repository.full_name,owner:repository.owner,isDemo:repository.isDemo,default_branch:repository.default_branch},selectedFile:{name:selectedFile.name,path:selectedFile.path,size:selectedFile.size},derivedOwner:owner,repoName:repoName,ref:ref,githubServiceAuthenticated:githubService.isAuth()});console.log(`📂 BPMNViewer: Preparing to load BPMN content from ${owner}/${repoName}:${selectedFile.path} (ref: ${ref})`);console.log('📋 BPMNViewer: Full selected file object:',JSON.stringify(selectedFile,null,2));// Add a timeout for the entire loading process\nconsole.log('⏰ BPMNViewer: Setting up 30-second timeout for loading process');const loadingTimeout=setTimeout(()=>{console.error('⏰ BPMNViewer: Loading process timed out after 30 seconds');setError('Loading timed out. Please try again or check your internet connection.');setLoading(false);},30000);// 30 second timeout\ntry{// Use githubService to fetch file content (works for both public and private repos)\nconsole.log(`🌐 BPMNViewer: About to call githubService.getFileContent with params:`,{owner,repoName,path:selectedFile.path,ref});console.log('🌐 BPMNViewer: Making GitHub API call...');const startTime=Date.now();const bpmnXml=await githubService.getFileContent(owner,repoName,selectedFile.path,ref);const endTime=Date.now();console.log(`✅ BPMNViewer: Successfully loaded BPMN content from repository in ${endTime-startTime}ms`);console.log('📏 BPMNViewer: Content length:',bpmnXml.length);console.log('👀 BPMNViewer: Content preview (first 200 chars):',bpmnXml.substring(0,200));console.log('🔍 BPMNViewer: Content type check - contains bpmn:definitions:',bpmnXml.includes('bpmn:definitions'));console.log('🔍 BPMNViewer: Content type check - contains <definitions:',bpmnXml.includes('<definitions'));// Validate that we got valid BPMN XML content\nif(!bpmnXml||!bpmnXml.trim()){console.error('❌ BPMNViewer: Empty or invalid BPMN file content received');throw new Error('Empty or invalid BPMN file content');}if(!bpmnXml.includes('bpmn:definitions')&&!bpmnXml.includes('<definitions')){console.error('❌ BPMNViewer: File does not contain valid BPMN XML content');console.error('🔍 BPMNViewer: Content preview for debugging:',bpmnXml.substring(0,500));throw new Error('File does not appear to contain valid BPMN XML content');}// Load the BPMN diagram\nconsole.log('🎨 BPMNViewer: Attempting to import XML into BPMN viewer...');await viewerRef.current.importXML(bpmnXml);console.log('✅ BPMNViewer: Successfully imported BPMN XML into viewer');// Center the diagram in the viewer\ntry{console.log('🎯 BPMNViewer: Attempting to center diagram in viewport...');const canvas=viewerRef.current.get('canvas');canvas.zoom('fit-viewport');console.log('✅ BPMNViewer: Successfully centered BPMN diagram in viewport');}catch(centerError){console.warn('⚠️ BPMNViewer: Could not center diagram:',centerError);// This is not a critical error, continue\n}clearTimeout(loadingTimeout);console.log('🎉 BPMNViewer: BPMN loading completed successfully, setting loading to false');setLoading(false);}catch(contentError){clearTimeout(loadingTimeout);console.error('❌ BPMNViewer: Error during file content processing:',contentError);throw contentError;}}catch(err){console.error('💥 BPMNViewer: Error loading BPMN file:',err);console.error('🔍 BPMNViewer: Full error details:',{message:err.message,status:err.status,stack:err.stack,repository:{owner:owner,name:repoName,ref:ref},file:{name:selectedFile.name,path:selectedFile.path}});// Provide specific error messages based on the error type\nif(err.message.includes('timeout')||err.message.includes('timed out')){console.error('⏰ BPMNViewer: Timeout error detected');setError('Loading timed out. Please check your internet connection and try again.');}else if(err.status===404){console.error('🔍 BPMNViewer: 404 error detected - file not found');setError('BPMN file not found in the repository. The file may have been moved or deleted.');}else if(err.status===403){console.error('🔒 BPMNViewer: 403 error detected - access denied');setError('Access denied. This repository may be private and require authentication.');}else if(err.message.includes('rate limit')){console.error('🚦 BPMNViewer: Rate limit error detected');setError('GitHub API rate limit exceeded. Please try again later or authenticate for higher limits.');}else if(err.message.includes('Network')||err.message.includes('Failed to fetch')){console.error('🌐 BPMNViewer: Network error detected');setError('Network error occurred. Please check your internet connection and try again.');}else if(err.message.includes('Empty or invalid BPMN')){console.error('📄 BPMNViewer: Empty file error detected');setError('The selected file appears to be empty or corrupted.');}else if(err.message.includes('does not appear to contain valid BPMN')){console.error('📋 BPMNViewer: Invalid BPMN content error detected');setError('The selected file does not appear to contain valid BPMN XML content.');}else if(err.message.includes('failed to parse XML')||err.message.includes('XML')){console.error('🔧 BPMNViewer: XML parsing error detected');setError('The BPMN file contains invalid XML and cannot be displayed.');}else{console.error('❓ BPMNViewer: Unknown error type');setError(`Failed to load BPMN diagram: ${err.message}`);}console.log('🔄 BPMNViewer: Setting loading state to false due to error');setLoading(false);}},[selectedFile,repository,selectedBranch]);// Initialize BPMN viewer with improved container readiness check\nuseEffect(()=>{const cleanupContainer=()=>{if(containerRef.current){// Clear any existing BPMN.js content from the container\ncontainerRef.current.innerHTML='';console.log('🧹 BPMNViewer: Container cleaned up');}};const initializeViewer=()=>{console.log('🛠️ BPMNViewer: initializeViewer called with:',{hasContainer:!!containerRef.current,hasViewer:!!viewerRef.current,selectedFile:selectedFile?selectedFile.name:'none',containerRefCurrent:containerRef.current,viewerRefCurrent:viewerRef.current});if(containerRef.current&&!viewerRef.current&&selectedFile){try{// Clean the container before creating a new viewer\ncleanupContainer();console.log('🔧 BPMNViewer: Creating new BPMN viewer...');console.log('🔧 BPMNViewer: Container element details:',{tagName:containerRef.current.tagName,className:containerRef.current.className,clientWidth:containerRef.current.clientWidth,clientHeight:containerRef.current.clientHeight,innerHTML:containerRef.current.innerHTML.length});viewerRef.current=new BpmnViewer({container:containerRef.current});console.log('✅ BPMNViewer: BPMN viewer initialized successfully');console.log('📞 BPMNViewer: About to call loadBpmnContent()...');loadBpmnContent();}catch(error){console.error('❌ BPMNViewer: Failed to initialize BPMN viewer:',error);console.error('🔍 BPMNViewer: Initialization error details:',{message:error.message,stack:error.stack,containerExists:!!containerRef.current,containerContent:containerRef.current?containerRef.current.innerHTML:'N/A'});// If it's an \"element already exists\" error, try to clean up and retry once\nif(error.message.includes('already exists')){console.log('🔄 BPMNViewer: Detected \"element already exists\" error, attempting cleanup and retry...');cleanupContainer();// Wait a bit and try again\nsetTimeout(()=>{if(containerRef.current&&!viewerRef.current){try{console.log('🔄 BPMNViewer: Retrying viewer creation after cleanup...');viewerRef.current=new BpmnViewer({container:containerRef.current});console.log('✅ BPMNViewer: BPMN viewer initialized successfully on retry');loadBpmnContent();}catch(retryError){console.error('❌ BPMNViewer: Failed to initialize BPMN viewer on retry:',retryError);setError(`Failed to initialize BPMN viewer: ${retryError.message}`);setLoading(false);}}},100);}else{setError(`Failed to initialize BPMN viewer: ${error.message}`);setLoading(false);}}}else{console.log('⚠️ BPMNViewer: Skipping viewer initialization:',{hasContainer:!!containerRef.current,hasViewer:!!viewerRef.current,hasSelectedFile:!!selectedFile,reason:!containerRef.current?'No container':viewerRef.current?'Viewer already exists':!selectedFile?'No selected file':'Unknown'});}};const waitForContainer=function(){let attempt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;const maxAttempts=50;// Try for up to 5 seconds (50 * 100ms)\nif(containerRef.current){console.log(`✅ BPMNViewer: Container found on attempt ${attempt+1}`);initializeViewer();}else if(attempt<maxAttempts){console.log(`⏳ BPMNViewer: Container not ready, attempt ${attempt+1}/${maxAttempts}, retrying in 100ms...`);setTimeout(()=>waitForContainer(attempt+1),100);}else{console.error('❌ BPMNViewer: Container never became available after maximum attempts');setError('Failed to initialize BPMN viewer: container not available');setLoading(false);}};if(selectedFile){console.log('⏰ BPMNViewer: Starting container readiness check for selectedFile:',selectedFile.name);waitForContainer();}else{console.log('❌ BPMNViewer: No selectedFile, skipping viewer initialization');}return()=>{if(viewerRef.current){try{console.log('🧹 BPMNViewer: Destroying BPMN viewer...');viewerRef.current.destroy();console.log('✅ BPMNViewer: BPMN viewer destroyed successfully');}catch(error){console.error('❌ BPMNViewer: Error destroying BPMN viewer:',error);}viewerRef.current=null;}// Also clean up the container on unmount\ncleanupContainer();};},[selectedFile,loadBpmnContent]);const handleEditMode=()=>{var _repository$owner2;if(!hasWriteAccess){alert('You need write permissions to edit BPMN files. Please check your GitHub token permissions.');return;}const owner=((_repository$owner2=repository.owner)===null||_repository$owner2===void 0?void 0:_repository$owner2.login)||repository.full_name.split('/')[0];const repoName=repository.name;const path=selectedBranch?`/bpmn-editor/${owner}/${repoName}/${selectedBranch}`:`/bpmn-editor/${owner}/${repoName}`;navigate(path,{state:{profile,repository,component,selectedFile,selectedBranch,mode:'edit'}});};const handleBackToSelection=()=>{navigate('/business-process-selection',{state:{profile,repository,component,selectedBranch}});};const handleToggleEnhancedFullwidth=()=>{const newState=!enhancedFullwidth;setEnhancedFullwidth(newState);// Add/remove class on body for enhanced fullwidth mode\nif(newState){document.body.classList.add('enhanced-fullwidth-active');}else{document.body.classList.remove('enhanced-fullwidth-active');}};const handleToggleAutoHide=()=>{setAutoHide(!autoHide);};// Cleanup effect for enhanced fullwidth\nuseEffect(()=>{return()=>{// Clean up body class on unmount\ndocument.body.classList.remove('enhanced-fullwidth-active');};},[]);// Update body class when enhanced fullwidth changes\nuseEffect(()=>{if(enhancedFullwidth){document.body.classList.add('enhanced-fullwidth-active');}else{document.body.classList.remove('enhanced-fullwidth-active');}return()=>{document.body.classList.remove('enhanced-fullwidth-active');};},[enhancedFullwidth]);if(!profile||!repository||!selectedFile){navigate('/');return/*#__PURE__*/_jsx(\"div\",{children:\"Redirecting...\"});}return/*#__PURE__*/_jsx(PageLayout,{pageName:\"bpmn-viewer\",children:/*#__PURE__*/_jsx(\"div\",{className:`bpmn-viewer ${enhancedFullwidth?'enhanced-fullwidth':''} ${autoHide?'auto-hide':''}`,children:/*#__PURE__*/_jsx(\"div\",{className:\"viewer-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"viewer-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"viewer-toolbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-left\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedFile.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"artifact-badges\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"artifact-badge bpmn\",children:\"\\uD83D\\uDCCA BPMN\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dak-component-badge\",children:\"\\uD83D\\uDD04 Business Process\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"view-mode-badge\",children:\"\\uD83D\\uDC41\\uFE0F Read-Only View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-right\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn secondary\",onClick:handleToggleAutoHide,title:\"Toggle auto-hide headers/footers\",children:[autoHide?'📌':'👁️',\" Auto-Hide\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn secondary\",onClick:handleToggleEnhancedFullwidth,title:\"Toggle enhanced fullwidth mode\",children:[enhancedFullwidth?'🔳':'⛶',\" Full Container\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:handleBackToSelection,children:\"\\u2190 Back to List\"}),hasWriteAccess&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn primary\",onClick:handleEditMode,children:\"\\u270F\\uFE0F Edit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"diagram-container\",children:[loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Loading BPMN diagram...\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"loading-details\",children:[\"Fetching \",selectedFile.name,\" from \",repository.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-hint\",children:\"This may take a few moments for large files or slow connections.\"})]})]}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-overlay\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u274C \",error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"error-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:()=>loadBpmnContent(),children:\"\\uD83D\\uDD04 Retry\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:()=>navigate('/business-process-selection',{state:{profile,repository,component,selectedBranch}}),children:\"\\u2190 Back to List\"})]})]}):null,/*#__PURE__*/_jsx(\"div\",{className:\"bpmn-container\",ref:containerRef,style:{display:loading||error?'none':'block',width:'100%',height:'100%'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"diagram-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"condensed-file-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"condensed-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:(selectedFile===null||selectedFile===void 0?void 0:selectedFile.name)||'No file'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"condensed-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uD83D\\uDCCF\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:selectedFile!==null&&selectedFile!==void 0&&selectedFile.size?`${(selectedFile.size/1024).toFixed(1)} KB`:'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"condensed-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uD83C\\uDF3F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:selectedBranch||'main'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"condensed-view-mode\",children:[/*#__PURE__*/_jsx(\"span\",{className:`condensed-access-badge ${hasWriteAccess?'write':'read'}`,children:hasWriteAccess?'✏️ Edit':'👁️ Read'}),/*#__PURE__*/_jsx(\"span\",{className:\"condensed-info-item\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:enhancedFullwidth?'⛶ Full Container':autoHide?'👁️ Auto-Hide':'📺 Fullwidth'})})]})]})]})})})});};export default BPMNViewerComponent;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useLocation","useNavigate","BpmnViewer","githubService","PageLayout","jsx","_jsx","jsxs","_jsxs","BPMNViewerComponent","location","navigate","viewerRef","containerRef","profile","repository","component","selectedFile","selectedBranch","state","loading","setLoading","error","setError","hasWriteAccess","setHasWriteAccess","enhancedFullwidth","setEnhancedFullwidth","autoHide","setAutoHide","checkPermissions","_repository$permissio","writeAccess","token","permissions","push","console","warn","loadBpmnContent","_repository$owner","log","hasViewer","current","name","owner","hasSelectedFile","hasRepository","login","full_name","split","repoName","ref","isDemo","default_branch","path","size","derivedOwner","githubServiceAuthenticated","isAuth","JSON","stringify","loadingTimeout","setTimeout","startTime","Date","now","bpmnXml","getFileContent","endTime","length","substring","includes","trim","Error","importXML","canvas","get","zoom","centerError","clearTimeout","contentError","err","message","status","stack","file","cleanupContainer","innerHTML","initializeViewer","hasContainer","containerRefCurrent","viewerRefCurrent","tagName","className","clientWidth","clientHeight","container","containerExists","containerContent","retryError","reason","waitForContainer","attempt","arguments","undefined","maxAttempts","destroy","handleEditMode","_repository$owner2","alert","mode","handleBackToSelection","handleToggleEnhancedFullwidth","newState","document","body","classList","add","remove","handleToggleAutoHide","children","pageName","onClick","title","style","display","width","height","toFixed"],"sources":["/home/runner/work/sgex/sgex/src/components/BPMNViewer.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport BpmnViewer from 'bpmn-js/lib/NavigatedViewer';\nimport githubService from '../services/githubService';\nimport { PageLayout } from './framework';\nimport './BPMNViewer.css';\n\nconst BPMNViewerComponent = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const viewerRef = useRef(null);\n  const containerRef = useRef(null);\n  \n  const { profile, repository, component, selectedFile, selectedBranch } = location.state || {};\n  \n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [hasWriteAccess, setHasWriteAccess] = useState(false);\n  const [enhancedFullwidth, setEnhancedFullwidth] = useState(false);\n  const [autoHide, setAutoHide] = useState(false);\n\n  // Check write permissions\n  useEffect(() => {\n    const checkPermissions = async () => {\n      if (repository && profile) {\n        try {\n          // Simple permission check - in real app, this would use githubService\n          const writeAccess = profile.token && repository.permissions?.push;\n          setHasWriteAccess(writeAccess || false);\n        } catch (error) {\n          console.warn('Could not check write permissions:', error);\n          setHasWriteAccess(false);\n        }\n      }\n    };\n\n    checkPermissions();\n  }, [repository, profile]);\n\n  // Load BPMN file content\n  const loadBpmnContent = useCallback(async () => {\n    console.log('🚀 BPMNViewer: loadBpmnContent called with:', {\n      hasViewer: !!viewerRef.current,\n      selectedFile: selectedFile,\n      repository: repository ? {\n        name: repository.name,\n        owner: repository.owner\n      } : null\n    });\n\n    if (!viewerRef.current || !selectedFile || !repository) {\n      console.warn('❌ BPMNViewer: Missing required parameters for loadBpmnContent:', {\n        hasViewer: !!viewerRef.current,\n        hasSelectedFile: !!selectedFile,\n        hasRepository: !!repository\n      });\n      return;\n    }\n\n    // Declare variables outside try block so they're accessible in catch block\n    const owner = repository.owner?.login || repository.full_name.split('/')[0];\n    const repoName = repository.name;\n    const ref = selectedBranch || 'main';\n\n    try {\n      console.log('📡 BPMNViewer: Setting loading state to true');\n      setLoading(true);\n      setError(null);\n\n      console.log('🔍 BPMNViewer: Repository and file analysis:', {\n        repository: {\n          name: repository.name,\n          full_name: repository.full_name,\n          owner: repository.owner,\n          isDemo: repository.isDemo,\n          default_branch: repository.default_branch\n        },\n        selectedFile: {\n          name: selectedFile.name,\n          path: selectedFile.path,\n          size: selectedFile.size\n        },\n        derivedOwner: owner,\n        repoName: repoName,\n        ref: ref,\n        githubServiceAuthenticated: githubService.isAuth()\n      });\n\n      console.log(`📂 BPMNViewer: Preparing to load BPMN content from ${owner}/${repoName}:${selectedFile.path} (ref: ${ref})`);\n      console.log('📋 BPMNViewer: Full selected file object:', JSON.stringify(selectedFile, null, 2));\n      \n      // Add a timeout for the entire loading process\n      console.log('⏰ BPMNViewer: Setting up 30-second timeout for loading process');\n      const loadingTimeout = setTimeout(() => {\n        console.error('⏰ BPMNViewer: Loading process timed out after 30 seconds');\n        setError('Loading timed out. Please try again or check your internet connection.');\n        setLoading(false);\n      }, 30000); // 30 second timeout\n      \n      try {\n        // Use githubService to fetch file content (works for both public and private repos)\n        console.log(`🌐 BPMNViewer: About to call githubService.getFileContent with params:`, {\n          owner,\n          repoName,\n          path: selectedFile.path,\n          ref\n        });\n        \n        console.log('🌐 BPMNViewer: Making GitHub API call...');\n        const startTime = Date.now();\n        const bpmnXml = await githubService.getFileContent(owner, repoName, selectedFile.path, ref);\n        const endTime = Date.now();\n        \n        console.log(`✅ BPMNViewer: Successfully loaded BPMN content from repository in ${endTime - startTime}ms`);\n        console.log('📏 BPMNViewer: Content length:', bpmnXml.length);\n        console.log('👀 BPMNViewer: Content preview (first 200 chars):', bpmnXml.substring(0, 200));\n        console.log('🔍 BPMNViewer: Content type check - contains bpmn:definitions:', bpmnXml.includes('bpmn:definitions'));\n        console.log('🔍 BPMNViewer: Content type check - contains <definitions:', bpmnXml.includes('<definitions'));\n\n        // Validate that we got valid BPMN XML content\n        if (!bpmnXml || !bpmnXml.trim()) {\n          console.error('❌ BPMNViewer: Empty or invalid BPMN file content received');\n          throw new Error('Empty or invalid BPMN file content');\n        }\n        \n        if (!bpmnXml.includes('bpmn:definitions') && !bpmnXml.includes('<definitions')) {\n          console.error('❌ BPMNViewer: File does not contain valid BPMN XML content');\n          console.error('🔍 BPMNViewer: Content preview for debugging:', bpmnXml.substring(0, 500));\n          throw new Error('File does not appear to contain valid BPMN XML content');\n        }\n\n        // Load the BPMN diagram\n        console.log('🎨 BPMNViewer: Attempting to import XML into BPMN viewer...');\n        await viewerRef.current.importXML(bpmnXml);\n        console.log('✅ BPMNViewer: Successfully imported BPMN XML into viewer');\n        \n        // Center the diagram in the viewer\n        try {\n          console.log('🎯 BPMNViewer: Attempting to center diagram in viewport...');\n          const canvas = viewerRef.current.get('canvas');\n          canvas.zoom('fit-viewport');\n          console.log('✅ BPMNViewer: Successfully centered BPMN diagram in viewport');\n        } catch (centerError) {\n          console.warn('⚠️ BPMNViewer: Could not center diagram:', centerError);\n          // This is not a critical error, continue\n        }\n        \n        clearTimeout(loadingTimeout);\n        console.log('🎉 BPMNViewer: BPMN loading completed successfully, setting loading to false');\n        setLoading(false);\n      } catch (contentError) {\n        clearTimeout(loadingTimeout);\n        console.error('❌ BPMNViewer: Error during file content processing:', contentError);\n        throw contentError;      }\n    } catch (err) {\n      console.error('💥 BPMNViewer: Error loading BPMN file:', err);\n      console.error('🔍 BPMNViewer: Full error details:', {\n        message: err.message,\n        status: err.status,\n        stack: err.stack,\n        repository: {\n          owner: owner,\n          name: repoName,\n          ref: ref\n        },\n        file: {\n          name: selectedFile.name,\n          path: selectedFile.path\n        }\n      });\n      \n      // Provide specific error messages based on the error type\n      if (err.message.includes('timeout') || err.message.includes('timed out')) {\n        console.error('⏰ BPMNViewer: Timeout error detected');\n        setError('Loading timed out. Please check your internet connection and try again.');\n      } else if (err.status === 404) {\n        console.error('🔍 BPMNViewer: 404 error detected - file not found');\n        setError('BPMN file not found in the repository. The file may have been moved or deleted.');\n      } else if (err.status === 403) {\n        console.error('🔒 BPMNViewer: 403 error detected - access denied');\n        setError('Access denied. This repository may be private and require authentication.');\n      } else if (err.message.includes('rate limit')) {\n        console.error('🚦 BPMNViewer: Rate limit error detected');\n        setError('GitHub API rate limit exceeded. Please try again later or authenticate for higher limits.');\n      } else if (err.message.includes('Network') || err.message.includes('Failed to fetch')) {\n        console.error('🌐 BPMNViewer: Network error detected');\n        setError('Network error occurred. Please check your internet connection and try again.');\n      } else if (err.message.includes('Empty or invalid BPMN')) {\n        console.error('📄 BPMNViewer: Empty file error detected');\n        setError('The selected file appears to be empty or corrupted.');\n      } else if (err.message.includes('does not appear to contain valid BPMN')) {\n        console.error('📋 BPMNViewer: Invalid BPMN content error detected');\n        setError('The selected file does not appear to contain valid BPMN XML content.');\n      } else if (err.message.includes('failed to parse XML') || err.message.includes('XML')) {\n        console.error('🔧 BPMNViewer: XML parsing error detected');\n        setError('The BPMN file contains invalid XML and cannot be displayed.');\n      } else {\n        console.error('❓ BPMNViewer: Unknown error type');\n        setError(`Failed to load BPMN diagram: ${err.message}`);\n      }\n      \n      console.log('🔄 BPMNViewer: Setting loading state to false due to error');\n      setLoading(false);\n    }\n  }, [selectedFile, repository, selectedBranch]);\n\n  // Initialize BPMN viewer with improved container readiness check\n  useEffect(() => {\n    const cleanupContainer = () => {\n      if (containerRef.current) {\n        // Clear any existing BPMN.js content from the container\n        containerRef.current.innerHTML = '';\n        console.log('🧹 BPMNViewer: Container cleaned up');\n      }\n    };\n\n    const initializeViewer = () => {\n      console.log('🛠️ BPMNViewer: initializeViewer called with:', {\n        hasContainer: !!containerRef.current,\n        hasViewer: !!viewerRef.current,\n        selectedFile: selectedFile ? selectedFile.name : 'none',\n        containerRefCurrent: containerRef.current,\n        viewerRefCurrent: viewerRef.current\n      });\n\n      if (containerRef.current && !viewerRef.current && selectedFile) {\n        try {\n          // Clean the container before creating a new viewer\n          cleanupContainer();\n          \n          console.log('🔧 BPMNViewer: Creating new BPMN viewer...');\n          console.log('🔧 BPMNViewer: Container element details:', {\n            tagName: containerRef.current.tagName,\n            className: containerRef.current.className,\n            clientWidth: containerRef.current.clientWidth,\n            clientHeight: containerRef.current.clientHeight,\n            innerHTML: containerRef.current.innerHTML.length\n          });\n          \n          viewerRef.current = new BpmnViewer({\n            container: containerRef.current\n          });\n          console.log('✅ BPMNViewer: BPMN viewer initialized successfully');\n          console.log('📞 BPMNViewer: About to call loadBpmnContent()...');\n          \n          loadBpmnContent();\n        } catch (error) {\n          console.error('❌ BPMNViewer: Failed to initialize BPMN viewer:', error);\n          console.error('🔍 BPMNViewer: Initialization error details:', {\n            message: error.message,\n            stack: error.stack,\n            containerExists: !!containerRef.current,\n            containerContent: containerRef.current ? containerRef.current.innerHTML : 'N/A'\n          });\n          \n          // If it's an \"element already exists\" error, try to clean up and retry once\n          if (error.message.includes('already exists')) {\n            console.log('🔄 BPMNViewer: Detected \"element already exists\" error, attempting cleanup and retry...');\n            cleanupContainer();\n            \n            // Wait a bit and try again\n            setTimeout(() => {\n              if (containerRef.current && !viewerRef.current) {\n                try {\n                  console.log('🔄 BPMNViewer: Retrying viewer creation after cleanup...');\n                  viewerRef.current = new BpmnViewer({\n                    container: containerRef.current\n                  });\n                  console.log('✅ BPMNViewer: BPMN viewer initialized successfully on retry');\n                  loadBpmnContent();\n                } catch (retryError) {\n                  console.error('❌ BPMNViewer: Failed to initialize BPMN viewer on retry:', retryError);\n                  setError(`Failed to initialize BPMN viewer: ${retryError.message}`);\n                  setLoading(false);\n                }\n              }\n            }, 100);\n          } else {\n            setError(`Failed to initialize BPMN viewer: ${error.message}`);\n            setLoading(false);\n          }\n        }\n      } else {\n        console.log('⚠️ BPMNViewer: Skipping viewer initialization:', {\n          hasContainer: !!containerRef.current,\n          hasViewer: !!viewerRef.current,\n          hasSelectedFile: !!selectedFile,\n          reason: !containerRef.current ? 'No container' : \n                  viewerRef.current ? 'Viewer already exists' : \n                  !selectedFile ? 'No selected file' : 'Unknown'\n        });\n      }\n    };\n\n    const waitForContainer = (attempt = 0) => {\n      const maxAttempts = 50; // Try for up to 5 seconds (50 * 100ms)\n      \n      if (containerRef.current) {\n        console.log(`✅ BPMNViewer: Container found on attempt ${attempt + 1}`);\n        initializeViewer();\n      } else if (attempt < maxAttempts) {\n        console.log(`⏳ BPMNViewer: Container not ready, attempt ${attempt + 1}/${maxAttempts}, retrying in 100ms...`);\n        setTimeout(() => waitForContainer(attempt + 1), 100);\n      } else {\n        console.error('❌ BPMNViewer: Container never became available after maximum attempts');\n        setError('Failed to initialize BPMN viewer: container not available');\n        setLoading(false);\n      }\n    };\n\n    if (selectedFile) {\n      console.log('⏰ BPMNViewer: Starting container readiness check for selectedFile:', selectedFile.name);\n      waitForContainer();\n    } else {\n      console.log('❌ BPMNViewer: No selectedFile, skipping viewer initialization');\n    }\n\n    return () => {\n      if (viewerRef.current) {\n        try {\n          console.log('🧹 BPMNViewer: Destroying BPMN viewer...');\n          viewerRef.current.destroy();\n          console.log('✅ BPMNViewer: BPMN viewer destroyed successfully');\n        } catch (error) {\n          console.error('❌ BPMNViewer: Error destroying BPMN viewer:', error);\n        }\n        viewerRef.current = null;\n      }\n      // Also clean up the container on unmount\n      cleanupContainer();\n    };\n  }, [selectedFile, loadBpmnContent]);\n\n  const handleEditMode = () => {\n    if (!hasWriteAccess) {\n      alert('You need write permissions to edit BPMN files. Please check your GitHub token permissions.');\n      return;\n    }\n\n    const owner = repository.owner?.login || repository.full_name.split('/')[0];\n    const repoName = repository.name;\n    const path = selectedBranch \n      ? `/bpmn-editor/${owner}/${repoName}/${selectedBranch}`\n      : `/bpmn-editor/${owner}/${repoName}`;\n\n    navigate(path, {\n      state: {\n        profile,\n        repository,\n        component,\n        selectedFile,\n        selectedBranch,\n        mode: 'edit'\n      }\n    });\n  };\n\n  const handleBackToSelection = () => {\n    navigate('/business-process-selection', {\n      state: {\n        profile,\n        repository,\n        component,\n        selectedBranch\n      }\n    });\n  };\n\n  const handleToggleEnhancedFullwidth = () => {\n    const newState = !enhancedFullwidth;\n    setEnhancedFullwidth(newState);\n    \n    // Add/remove class on body for enhanced fullwidth mode\n    if (newState) {\n      document.body.classList.add('enhanced-fullwidth-active');\n    } else {\n      document.body.classList.remove('enhanced-fullwidth-active');\n    }\n  };\n\n  const handleToggleAutoHide = () => {\n    setAutoHide(!autoHide);\n  };\n\n  // Cleanup effect for enhanced fullwidth\n  useEffect(() => {\n    return () => {\n      // Clean up body class on unmount\n      document.body.classList.remove('enhanced-fullwidth-active');\n    };\n  }, []);\n\n  // Update body class when enhanced fullwidth changes\n  useEffect(() => {\n    if (enhancedFullwidth) {\n      document.body.classList.add('enhanced-fullwidth-active');\n    } else {\n      document.body.classList.remove('enhanced-fullwidth-active');\n    }\n    \n    return () => {\n      document.body.classList.remove('enhanced-fullwidth-active');\n    };\n  }, [enhancedFullwidth]);\n\n  if (!profile || !repository || !selectedFile) {\n    navigate('/');\n    return <div>Redirecting...</div>;\n  }\n\n  return (\n    <PageLayout pageName=\"bpmn-viewer\">\n      <div className={`bpmn-viewer ${enhancedFullwidth ? 'enhanced-fullwidth' : ''} ${autoHide ? 'auto-hide' : ''}`}>\n      <div className=\"viewer-content\">\n\n        <div className=\"viewer-main\">\n          <div className=\"viewer-toolbar\">\n            <div className=\"toolbar-left\">\n              <h3>{selectedFile.name}</h3>\n              <div className=\"artifact-badges\">\n                <span className=\"artifact-badge bpmn\">📊 BPMN</span>\n                <span className=\"dak-component-badge\">🔄 Business Process</span>\n              </div>\n              <span className=\"view-mode-badge\">👁️ Read-Only View</span>\n            </div>\n            <div className=\"toolbar-right\">\n              <button \n                className=\"action-btn secondary\"\n                onClick={handleToggleAutoHide}\n                title=\"Toggle auto-hide headers/footers\"\n              >\n                {autoHide ? '📌' : '👁️'} Auto-Hide\n              </button>\n              <button \n                className=\"action-btn secondary\"\n                onClick={handleToggleEnhancedFullwidth}\n                title=\"Toggle enhanced fullwidth mode\"\n              >\n                {enhancedFullwidth ? '🔳' : '⛶'} Full Container\n              </button>\n              <button \n                className=\"action-btn secondary\"\n                onClick={handleBackToSelection}\n              >\n                ← Back to List\n              </button>\n              {hasWriteAccess && (\n                <button \n                  className=\"action-btn primary\"\n                  onClick={handleEditMode}\n                >\n                  ✏️ Edit\n                </button>\n              )}\n            </div>\n          </div>\n\n          <div className=\"diagram-container\">\n            {loading ? (\n              <div className=\"loading-overlay\">\n                <div className=\"spinner\"></div>\n                <div className=\"loading-info\">\n                  <p>Loading BPMN diagram...</p>\n                  <p className=\"loading-details\">\n                    Fetching {selectedFile.name} from {repository.name}\n                  </p>\n                  <p className=\"loading-hint\">\n                    This may take a few moments for large files or slow connections.\n                  </p>\n                </div>\n              </div>\n            ) : error ? (\n              <div className=\"error-overlay\">\n                <p>❌ {error}</p>\n                <div className=\"error-actions\">\n                  <button \n                    className=\"action-btn secondary\"\n                    onClick={() => loadBpmnContent()}\n                  >\n                    🔄 Retry\n                  </button>\n                  <button \n                    className=\"action-btn secondary\"\n                    onClick={() => navigate('/business-process-selection', {\n                      state: { profile, repository, component, selectedBranch }\n                    })}\n                  >\n                    ← Back to List\n                  </button>\n                </div>\n              </div>\n            ) : null}\n            \n            {/* Always render the BPMN container so the ref can be set */}\n            <div \n              className=\"bpmn-container\" \n              ref={containerRef}\n              style={{ \n                display: loading || error ? 'none' : 'block',\n                width: '100%',\n                height: '100%'\n              }}\n            ></div>\n          </div>\n\n          <div className=\"diagram-info\">\n            <div className=\"condensed-file-info\">\n              <div className=\"condensed-info-item\">\n                <span className=\"label\">📁</span>\n                <span className=\"value\">{selectedFile?.name || 'No file'}</span>\n              </div>\n              <div className=\"condensed-info-item\">\n                <span className=\"label\">📏</span>\n                <span className=\"value\">{selectedFile?.size ? `${(selectedFile.size / 1024).toFixed(1)} KB` : 'N/A'}</span>\n              </div>\n              <div className=\"condensed-info-item\">\n                <span className=\"label\">🌿</span>\n                <span className=\"value\">{selectedBranch || 'main'}</span>\n              </div>\n            </div>\n            <div className=\"condensed-view-mode\">\n              <span className={`condensed-access-badge ${hasWriteAccess ? 'write' : 'read'}`}>\n                {hasWriteAccess ? '✏️ Edit' : '👁️ Read'}\n              </span>\n              <span className=\"condensed-info-item\">\n                <span className=\"value\">\n                  {enhancedFullwidth ? '⛶ Full Container' : autoHide ? '👁️ Auto-Hide' : '📺 Fullwidth'}\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default BPMNViewerComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}