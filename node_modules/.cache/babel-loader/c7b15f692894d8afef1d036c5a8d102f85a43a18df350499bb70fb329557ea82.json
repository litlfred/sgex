{"ast":null,"code":"import { assign, bind, pick } from 'min-dash';\nimport { domify, query as domQuery, event as domEvent, remove as domRemove } from 'min-dom';\nvar min = Math.min,\n  max = Math.max;\nfunction preventDefault(e) {\n  e.preventDefault();\n}\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\nfunction toArray(nodeList) {\n  return [].slice.call(nodeList);\n}\n\n/**\n * Initializes a container for a content editable div.\n *\n * Structure:\n *\n * container\n *   parent\n *     content\n *     resize-handle\n *\n * @param {object} options\n * @param {DOMElement} options.container The DOM element to append the contentContainer to\n * @param {Function} options.keyHandler Handler for key events\n * @param {Function} options.resizeHandler Handler for resize events\n */\nexport default function TextBox(options) {\n  this.container = options.container;\n  this.parent = domify('<div class=\"djs-direct-editing-parent\">' + '<div class=\"djs-direct-editing-content\" contenteditable=\"true\"></div>' + '</div>');\n  this.content = domQuery('[contenteditable]', this.parent);\n  this.keyHandler = options.keyHandler || function () {};\n  this.resizeHandler = options.resizeHandler || function () {};\n  this.autoResize = bind(this.autoResize, this);\n  this.handlePaste = bind(this.handlePaste, this);\n}\n\n/**\n * Create a text box with the given position, size, style and text content\n *\n * @param {Object} bounds\n * @param {Number} bounds.x absolute x position\n * @param {Number} bounds.y absolute y position\n * @param {Number} [bounds.width] fixed width value\n * @param {Number} [bounds.height] fixed height value\n * @param {Number} [bounds.maxWidth] maximum width value\n * @param {Number} [bounds.maxHeight] maximum height value\n * @param {Number} [bounds.minWidth] minimum width value\n * @param {Number} [bounds.minHeight] minimum height value\n * @param {Object} [style]\n * @param {String} value text content\n *\n * @return {DOMElement} The created content DOM element\n */\nTextBox.prototype.create = function (bounds, style, value, options) {\n  var self = this;\n  var parent = this.parent,\n    content = this.content,\n    container = this.container;\n  options = this.options = options || {};\n  style = this.style = style || {};\n  var parentStyle = pick(style, ['width', 'height', 'maxWidth', 'maxHeight', 'minWidth', 'minHeight', 'left', 'top', 'backgroundColor', 'position', 'overflow', 'border', 'wordWrap', 'textAlign', 'outline', 'transform']);\n  assign(parent.style, {\n    width: bounds.width + 'px',\n    height: bounds.height + 'px',\n    maxWidth: bounds.maxWidth + 'px',\n    maxHeight: bounds.maxHeight + 'px',\n    minWidth: bounds.minWidth + 'px',\n    minHeight: bounds.minHeight + 'px',\n    left: bounds.x + 'px',\n    top: bounds.y + 'px',\n    backgroundColor: '#ffffff',\n    position: 'absolute',\n    overflow: 'visible',\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    wordWrap: 'normal',\n    textAlign: 'center',\n    outline: 'none'\n  }, parentStyle);\n  var contentStyle = pick(style, ['fontFamily', 'fontSize', 'fontWeight', 'lineHeight', 'padding', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft']);\n  assign(content.style, {\n    boxSizing: 'border-box',\n    width: '100%',\n    outline: 'none',\n    wordWrap: 'break-word'\n  }, contentStyle);\n  if (options.centerVertically) {\n    assign(content.style, {\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    }, contentStyle);\n  }\n  content.innerText = value;\n  domEvent.bind(content, 'keydown', this.keyHandler);\n  domEvent.bind(content, 'mousedown', stopPropagation);\n  domEvent.bind(content, 'paste', self.handlePaste);\n  if (options.autoResize) {\n    domEvent.bind(content, 'input', this.autoResize);\n  }\n  if (options.resizable) {\n    this.resizable(style);\n  }\n  container.appendChild(parent);\n\n  // set selection to end of text\n  this.setSelection(content.lastChild, content.lastChild && content.lastChild.length);\n  return parent;\n};\n\n/**\n * Intercept paste events to remove formatting from pasted text.\n */\nTextBox.prototype.handlePaste = function (e) {\n  var options = this.options,\n    style = this.style;\n  e.preventDefault();\n  var text;\n  if (e.clipboardData) {\n    // Chrome, Firefox, Safari\n    text = e.clipboardData.getData('text/plain');\n  } else {\n    // Internet Explorer\n    text = window.clipboardData.getData('Text');\n  }\n  this.insertText(text);\n  if (options.autoResize) {\n    var hasResized = this.autoResize(style);\n    if (hasResized) {\n      this.resizeHandler(hasResized);\n    }\n  }\n};\nTextBox.prototype.insertText = function (text) {\n  text = normalizeEndOfLineSequences(text);\n\n  // insertText command not supported by Internet Explorer\n  var success = document.execCommand('insertText', false, text);\n  if (success) {\n    return;\n  }\n  this._insertTextIE(text);\n};\nTextBox.prototype._insertTextIE = function (text) {\n  // Internet Explorer\n  var range = this.getSelection(),\n    startContainer = range.startContainer,\n    endContainer = range.endContainer,\n    startOffset = range.startOffset,\n    endOffset = range.endOffset,\n    commonAncestorContainer = range.commonAncestorContainer;\n  var childNodesArray = toArray(commonAncestorContainer.childNodes);\n  var container, offset;\n  if (isTextNode(commonAncestorContainer)) {\n    var containerTextContent = startContainer.textContent;\n    startContainer.textContent = containerTextContent.substring(0, startOffset) + text + containerTextContent.substring(endOffset);\n    container = startContainer;\n    offset = startOffset + text.length;\n  } else if (startContainer === this.content && endContainer === this.content) {\n    var textNode = document.createTextNode(text);\n    this.content.insertBefore(textNode, childNodesArray[startOffset]);\n    container = textNode;\n    offset = textNode.textContent.length;\n  } else {\n    var startContainerChildIndex = childNodesArray.indexOf(startContainer),\n      endContainerChildIndex = childNodesArray.indexOf(endContainer);\n    childNodesArray.forEach(function (childNode, index) {\n      if (index === startContainerChildIndex) {\n        childNode.textContent = startContainer.textContent.substring(0, startOffset) + text + endContainer.textContent.substring(endOffset);\n      } else if (index > startContainerChildIndex && index <= endContainerChildIndex) {\n        domRemove(childNode);\n      }\n    });\n    container = startContainer;\n    offset = startOffset + text.length;\n  }\n  if (container && offset !== undefined) {\n    // is necessary in Internet Explorer\n    setTimeout(function () {\n      self.setSelection(container, offset);\n    });\n  }\n};\n\n/**\n * Automatically resize element vertically to fit its content.\n */\nTextBox.prototype.autoResize = function () {\n  var parent = this.parent,\n    content = this.content;\n  var fontSize = parseInt(this.style.fontSize) || 12;\n  if (content.scrollHeight > parent.offsetHeight || content.scrollHeight < parent.offsetHeight - fontSize) {\n    var bounds = parent.getBoundingClientRect();\n    var height = content.scrollHeight;\n    parent.style.height = height + 'px';\n    this.resizeHandler({\n      width: bounds.width,\n      height: bounds.height,\n      dx: 0,\n      dy: height - bounds.height\n    });\n  }\n};\n\n/**\n * Make an element resizable by adding a resize handle.\n */\nTextBox.prototype.resizable = function () {\n  var self = this;\n  var parent = this.parent,\n    resizeHandle = this.resizeHandle;\n  var minWidth = parseInt(this.style.minWidth) || 0,\n    minHeight = parseInt(this.style.minHeight) || 0,\n    maxWidth = parseInt(this.style.maxWidth) || Infinity,\n    maxHeight = parseInt(this.style.maxHeight) || Infinity;\n  if (!resizeHandle) {\n    resizeHandle = this.resizeHandle = domify('<div class=\"djs-direct-editing-resize-handle\"></div>');\n    var startX, startY, startWidth, startHeight;\n    var onMouseDown = function (e) {\n      preventDefault(e);\n      stopPropagation(e);\n      startX = e.clientX;\n      startY = e.clientY;\n      var bounds = parent.getBoundingClientRect();\n      startWidth = bounds.width;\n      startHeight = bounds.height;\n      domEvent.bind(document, 'mousemove', onMouseMove);\n      domEvent.bind(document, 'mouseup', onMouseUp);\n    };\n    var onMouseMove = function (e) {\n      preventDefault(e);\n      stopPropagation(e);\n      var newWidth = min(max(startWidth + e.clientX - startX, minWidth), maxWidth);\n      var newHeight = min(max(startHeight + e.clientY - startY, minHeight), maxHeight);\n      parent.style.width = newWidth + 'px';\n      parent.style.height = newHeight + 'px';\n      self.resizeHandler({\n        width: startWidth,\n        height: startHeight,\n        dx: e.clientX - startX,\n        dy: e.clientY - startY\n      });\n    };\n    var onMouseUp = function (e) {\n      preventDefault(e);\n      stopPropagation(e);\n      domEvent.unbind(document, 'mousemove', onMouseMove, false);\n      domEvent.unbind(document, 'mouseup', onMouseUp, false);\n    };\n    domEvent.bind(resizeHandle, 'mousedown', onMouseDown);\n  }\n  assign(resizeHandle.style, {\n    position: 'absolute',\n    bottom: '0px',\n    right: '0px',\n    cursor: 'nwse-resize',\n    width: '0',\n    height: '0',\n    borderTop: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent',\n    borderRight: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent'\n  });\n  parent.appendChild(resizeHandle);\n};\n\n/**\n * Clear content and style of the textbox, unbind listeners and\n * reset CSS style.\n */\nTextBox.prototype.destroy = function () {\n  var parent = this.parent,\n    content = this.content,\n    resizeHandle = this.resizeHandle;\n\n  // clear content\n  content.innerText = '';\n\n  // clear styles\n  parent.removeAttribute('style');\n  content.removeAttribute('style');\n  domEvent.unbind(content, 'keydown', this.keyHandler);\n  domEvent.unbind(content, 'mousedown', stopPropagation);\n  domEvent.unbind(content, 'input', this.autoResize);\n  domEvent.unbind(content, 'paste', this.handlePaste);\n  if (resizeHandle) {\n    resizeHandle.removeAttribute('style');\n    domRemove(resizeHandle);\n  }\n  domRemove(parent);\n};\nTextBox.prototype.getValue = function () {\n  return this.content.innerText.trim();\n};\nTextBox.prototype.getSelection = function () {\n  var selection = window.getSelection(),\n    range = selection.getRangeAt(0);\n  return range;\n};\nTextBox.prototype.setSelection = function (container, offset) {\n  var range = document.createRange();\n  if (container === null) {\n    range.selectNodeContents(this.content);\n  } else {\n    range.setStart(container, offset);\n    range.setEnd(container, offset);\n  }\n  var selection = window.getSelection();\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n\n// helpers //////////\n\nfunction normalizeEndOfLineSequences(string) {\n  return string.replace(/\\r\\n|\\r|\\n/g, '\\n');\n}","map":{"version":3,"names":["assign","bind","pick","domify","query","domQuery","event","domEvent","remove","domRemove","min","Math","max","preventDefault","e","stopPropagation","isTextNode","node","nodeType","Node","TEXT_NODE","toArray","nodeList","slice","call","TextBox","options","container","parent","content","keyHandler","resizeHandler","autoResize","handlePaste","prototype","create","bounds","style","value","self","parentStyle","width","height","maxWidth","maxHeight","minWidth","minHeight","left","x","top","y","backgroundColor","position","overflow","border","boxSizing","wordWrap","textAlign","outline","contentStyle","centerVertically","transform","innerText","resizable","appendChild","setSelection","lastChild","length","text","clipboardData","getData","window","insertText","hasResized","normalizeEndOfLineSequences","success","document","execCommand","_insertTextIE","range","getSelection","startContainer","endContainer","startOffset","endOffset","commonAncestorContainer","childNodesArray","childNodes","offset","containerTextContent","textContent","substring","textNode","createTextNode","insertBefore","startContainerChildIndex","indexOf","endContainerChildIndex","forEach","childNode","index","undefined","setTimeout","fontSize","parseInt","scrollHeight","offsetHeight","getBoundingClientRect","dx","dy","resizeHandle","Infinity","startX","startY","startWidth","startHeight","onMouseDown","clientX","clientY","onMouseMove","onMouseUp","newWidth","newHeight","unbind","bottom","right","cursor","borderTop","borderRight","borderBottom","borderLeft","destroy","removeAttribute","getValue","trim","selection","getRangeAt","createRange","selectNodeContents","setStart","setEnd","removeAllRanges","addRange","string","replace"],"sources":["/home/runner/work/sgex/sgex/node_modules/diagram-js-direct-editing/lib/TextBox.js"],"sourcesContent":["import {\n  assign,\n  bind,\n  pick\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  event as domEvent,\n  remove as domRemove\n} from 'min-dom';\n\nvar min = Math.min,\n    max = Math.max;\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\nfunction toArray(nodeList) {\n  return [].slice.call(nodeList);\n}\n\n/**\n * Initializes a container for a content editable div.\n *\n * Structure:\n *\n * container\n *   parent\n *     content\n *     resize-handle\n *\n * @param {object} options\n * @param {DOMElement} options.container The DOM element to append the contentContainer to\n * @param {Function} options.keyHandler Handler for key events\n * @param {Function} options.resizeHandler Handler for resize events\n */\nexport default function TextBox(options) {\n  this.container = options.container;\n\n  this.parent = domify(\n    '<div class=\"djs-direct-editing-parent\">' +\n      '<div class=\"djs-direct-editing-content\" contenteditable=\"true\"></div>' +\n    '</div>'\n  );\n\n  this.content = domQuery('[contenteditable]', this.parent);\n\n  this.keyHandler = options.keyHandler || function() {};\n  this.resizeHandler = options.resizeHandler || function() {};\n\n  this.autoResize = bind(this.autoResize, this);\n  this.handlePaste = bind(this.handlePaste, this);\n}\n\n\n/**\n * Create a text box with the given position, size, style and text content\n *\n * @param {Object} bounds\n * @param {Number} bounds.x absolute x position\n * @param {Number} bounds.y absolute y position\n * @param {Number} [bounds.width] fixed width value\n * @param {Number} [bounds.height] fixed height value\n * @param {Number} [bounds.maxWidth] maximum width value\n * @param {Number} [bounds.maxHeight] maximum height value\n * @param {Number} [bounds.minWidth] minimum width value\n * @param {Number} [bounds.minHeight] minimum height value\n * @param {Object} [style]\n * @param {String} value text content\n *\n * @return {DOMElement} The created content DOM element\n */\nTextBox.prototype.create = function(bounds, style, value, options) {\n  var self = this;\n\n  var parent = this.parent,\n      content = this.content,\n      container = this.container;\n\n  options = this.options = options || {};\n\n  style = this.style = style || {};\n\n  var parentStyle = pick(style, [\n    'width',\n    'height',\n    'maxWidth',\n    'maxHeight',\n    'minWidth',\n    'minHeight',\n    'left',\n    'top',\n    'backgroundColor',\n    'position',\n    'overflow',\n    'border',\n    'wordWrap',\n    'textAlign',\n    'outline',\n    'transform'\n  ]);\n\n  assign(parent.style, {\n    width: bounds.width + 'px',\n    height: bounds.height + 'px',\n    maxWidth: bounds.maxWidth + 'px',\n    maxHeight: bounds.maxHeight + 'px',\n    minWidth: bounds.minWidth + 'px',\n    minHeight: bounds.minHeight + 'px',\n    left: bounds.x + 'px',\n    top: bounds.y + 'px',\n    backgroundColor: '#ffffff',\n    position: 'absolute',\n    overflow: 'visible',\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    wordWrap: 'normal',\n    textAlign: 'center',\n    outline: 'none'\n  }, parentStyle);\n\n  var contentStyle = pick(style, [\n    'fontFamily',\n    'fontSize',\n    'fontWeight',\n    'lineHeight',\n    'padding',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft'\n  ]);\n\n  assign(content.style, {\n    boxSizing: 'border-box',\n    width: '100%',\n    outline: 'none',\n    wordWrap: 'break-word'\n  }, contentStyle);\n\n  if (options.centerVertically) {\n    assign(content.style, {\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    }, contentStyle);\n  }\n\n  content.innerText = value;\n\n  domEvent.bind(content, 'keydown', this.keyHandler);\n  domEvent.bind(content, 'mousedown', stopPropagation);\n  domEvent.bind(content, 'paste', self.handlePaste);\n\n  if (options.autoResize) {\n    domEvent.bind(content, 'input', this.autoResize);\n  }\n\n  if (options.resizable) {\n    this.resizable(style);\n  }\n\n  container.appendChild(parent);\n\n  // set selection to end of text\n  this.setSelection(content.lastChild, content.lastChild && content.lastChild.length);\n\n  return parent;\n};\n\n/**\n * Intercept paste events to remove formatting from pasted text.\n */\nTextBox.prototype.handlePaste = function(e) {\n  var options = this.options,\n      style = this.style;\n\n  e.preventDefault();\n\n  var text;\n\n  if (e.clipboardData) {\n\n    // Chrome, Firefox, Safari\n    text = e.clipboardData.getData('text/plain');\n  } else {\n\n    // Internet Explorer\n    text = window.clipboardData.getData('Text');\n  }\n\n  this.insertText(text);\n\n  if (options.autoResize) {\n    var hasResized = this.autoResize(style);\n\n    if (hasResized) {\n      this.resizeHandler(hasResized);\n    }\n  }\n};\n\nTextBox.prototype.insertText = function(text) {\n  text = normalizeEndOfLineSequences(text);\n\n  // insertText command not supported by Internet Explorer\n  var success = document.execCommand('insertText', false, text);\n\n  if (success) {\n    return;\n  }\n\n  this._insertTextIE(text);\n};\n\nTextBox.prototype._insertTextIE = function(text) {\n\n  // Internet Explorer\n  var range = this.getSelection(),\n      startContainer = range.startContainer,\n      endContainer = range.endContainer,\n      startOffset = range.startOffset,\n      endOffset = range.endOffset,\n      commonAncestorContainer = range.commonAncestorContainer;\n\n  var childNodesArray = toArray(commonAncestorContainer.childNodes);\n\n  var container,\n      offset;\n\n  if (isTextNode(commonAncestorContainer)) {\n    var containerTextContent = startContainer.textContent;\n\n    startContainer.textContent =\n      containerTextContent.substring(0, startOffset)\n      + text\n      + containerTextContent.substring(endOffset);\n\n    container = startContainer;\n    offset = startOffset + text.length;\n\n  } else if (startContainer === this.content && endContainer === this.content) {\n    var textNode = document.createTextNode(text);\n\n    this.content.insertBefore(textNode, childNodesArray[startOffset]);\n\n    container = textNode;\n    offset = textNode.textContent.length;\n  } else {\n    var startContainerChildIndex = childNodesArray.indexOf(startContainer),\n        endContainerChildIndex = childNodesArray.indexOf(endContainer);\n\n    childNodesArray.forEach(function(childNode, index) {\n\n      if (index === startContainerChildIndex) {\n        childNode.textContent =\n          startContainer.textContent.substring(0, startOffset) +\n          text +\n          endContainer.textContent.substring(endOffset);\n      } else if (index > startContainerChildIndex && index <= endContainerChildIndex) {\n        domRemove(childNode);\n      }\n    });\n\n    container = startContainer;\n    offset = startOffset + text.length;\n  }\n\n  if (container && offset !== undefined) {\n\n    // is necessary in Internet Explorer\n    setTimeout(function() {\n      self.setSelection(container, offset);\n    });\n  }\n};\n\n/**\n * Automatically resize element vertically to fit its content.\n */\nTextBox.prototype.autoResize = function() {\n  var parent = this.parent,\n      content = this.content;\n\n  var fontSize = parseInt(this.style.fontSize) || 12;\n\n  if (content.scrollHeight > parent.offsetHeight ||\n      content.scrollHeight < parent.offsetHeight - fontSize) {\n    var bounds = parent.getBoundingClientRect();\n\n    var height = content.scrollHeight;\n    parent.style.height = height + 'px';\n\n    this.resizeHandler({\n      width: bounds.width,\n      height: bounds.height,\n      dx: 0,\n      dy: height - bounds.height\n    });\n  }\n};\n\n/**\n * Make an element resizable by adding a resize handle.\n */\nTextBox.prototype.resizable = function() {\n  var self = this;\n\n  var parent = this.parent,\n      resizeHandle = this.resizeHandle;\n\n  var minWidth = parseInt(this.style.minWidth) || 0,\n      minHeight = parseInt(this.style.minHeight) || 0,\n      maxWidth = parseInt(this.style.maxWidth) || Infinity,\n      maxHeight = parseInt(this.style.maxHeight) || Infinity;\n\n  if (!resizeHandle) {\n    resizeHandle = this.resizeHandle = domify(\n      '<div class=\"djs-direct-editing-resize-handle\"></div>'\n    );\n\n    var startX, startY, startWidth, startHeight;\n\n    var onMouseDown = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      startX = e.clientX;\n      startY = e.clientY;\n\n      var bounds = parent.getBoundingClientRect();\n\n      startWidth = bounds.width;\n      startHeight = bounds.height;\n\n      domEvent.bind(document, 'mousemove', onMouseMove);\n      domEvent.bind(document, 'mouseup', onMouseUp);\n    };\n\n    var onMouseMove = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      var newWidth = min(max(startWidth + e.clientX - startX, minWidth), maxWidth);\n      var newHeight = min(max(startHeight + e.clientY - startY, minHeight), maxHeight);\n\n      parent.style.width = newWidth + 'px';\n      parent.style.height = newHeight + 'px';\n\n      self.resizeHandler({\n        width: startWidth,\n        height: startHeight,\n        dx: e.clientX - startX,\n        dy: e.clientY - startY\n      });\n    };\n\n    var onMouseUp = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      domEvent.unbind(document,'mousemove', onMouseMove, false);\n      domEvent.unbind(document, 'mouseup', onMouseUp, false);\n    };\n\n    domEvent.bind(resizeHandle, 'mousedown', onMouseDown);\n  }\n\n  assign(resizeHandle.style, {\n    position: 'absolute',\n    bottom: '0px',\n    right: '0px',\n    cursor: 'nwse-resize',\n    width: '0',\n    height: '0',\n    borderTop: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent',\n    borderRight: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent'\n  });\n\n  parent.appendChild(resizeHandle);\n};\n\n\n/**\n * Clear content and style of the textbox, unbind listeners and\n * reset CSS style.\n */\nTextBox.prototype.destroy = function() {\n  var parent = this.parent,\n      content = this.content,\n      resizeHandle = this.resizeHandle;\n\n  // clear content\n  content.innerText = '';\n\n  // clear styles\n  parent.removeAttribute('style');\n  content.removeAttribute('style');\n\n  domEvent.unbind(content, 'keydown', this.keyHandler);\n  domEvent.unbind(content, 'mousedown', stopPropagation);\n  domEvent.unbind(content, 'input', this.autoResize);\n  domEvent.unbind(content, 'paste', this.handlePaste);\n\n  if (resizeHandle) {\n    resizeHandle.removeAttribute('style');\n\n    domRemove(resizeHandle);\n  }\n\n  domRemove(parent);\n};\n\n\nTextBox.prototype.getValue = function() {\n  return this.content.innerText.trim();\n};\n\n\nTextBox.prototype.getSelection = function() {\n  var selection = window.getSelection(),\n      range = selection.getRangeAt(0);\n\n  return range;\n};\n\n\nTextBox.prototype.setSelection = function(container, offset) {\n  var range = document.createRange();\n\n  if (container === null) {\n    range.selectNodeContents(this.content);\n  } else {\n    range.setStart(container, offset);\n    range.setEnd(container, offset);\n  }\n\n  var selection = window.getSelection();\n\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n\n// helpers //////////\n\nfunction normalizeEndOfLineSequences(string) {\n  return string.replace(/\\r\\n|\\r|\\n/g, '\\n');\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}