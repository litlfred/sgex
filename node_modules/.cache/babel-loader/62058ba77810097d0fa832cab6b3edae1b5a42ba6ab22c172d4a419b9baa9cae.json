{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,useNavigate,useParams}from'react-router-dom';import{useTranslation}from'react-i18next';import githubService from'../services/githubService';import dakValidationService from'../services/dakValidationService';import branchContextService from'../services/branchContextService';import cacheManagementService from'../services/cacheManagementService';import BranchSelector from'./BranchSelector';import HelpButton from'./HelpButton';import ContextualHelpMascot from'./ContextualHelpMascot';import DAKStatusBox from'./DAKStatusBox';import Publications from'./Publications';import{handleNavigationClick}from'../utils/navigationUtils';import'./DAKDashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DAKDashboard=()=>{var _location$state,_location$state2,_location$state3,_repository$owner8;const{t}=useTranslation();const location=useLocation();const navigate=useNavigate();const{user,repo,branch}=useParams();// Try to get data from location.state first, then from URL params\nconst[profile,setProfile]=useState(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.profile)||null);const[repository,setRepository]=useState(((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.repository)||null);const[loading,setLoading]=useState(!profile||!repository);const[error,setError]=useState(null);const[hasWriteAccess,setHasWriteAccess]=useState(false);const[checkingPermissions,setCheckingPermissions]=useState(true);const[showPermissionDialog,setShowPermissionDialog]=useState(false);const[activeTab,setActiveTab]=useState('core');// 'core', 'additional', or 'publications'\nconst[selectedBranch,setSelectedBranch]=useState(((_location$state3=location.state)===null||_location$state3===void 0?void 0:_location$state3.selectedBranch)||branch||null);const[issueCounts,setIssueCounts]=useState({});const[showUserMenu,setShowUserMenu]=useState(false);const[showClearCacheConfirm,setShowClearCacheConfirm]=useState(false);// Fetch data from URL parameters if not available in location.state\nuseEffect(()=>{const fetchDataFromUrlParams=async()=>{if((!profile||!repository)&&user&&repo){try{setLoading(true);setError(null);// Check if githubService is authenticated (allow demo mode to proceed without auth)\nif(!githubService.isAuth()){// In demo mode, use the DAK validation service for demo repositories\nif(window.location.pathname.includes('/dashboard/')){const isValidDAK=dakValidationService.validateDemoDAKRepository(user,repo);if(!isValidDAK){navigate('/',{state:{warningMessage:`Could not access the requested DAK. Repository '${user}/${repo}' not found or not accessible.`}});return;}const demoProfile={login:user,name:user.charAt(0).toUpperCase()+user.slice(1),avatar_url:`https://github.com/${user}.png`,type:'User',isDemo:true};const demoRepository={name:repo,full_name:`${user}/${repo}`,owner:{login:user},default_branch:branch||'main',html_url:`https://github.com/${user}/${repo}`,isDemo:true};setProfile(demoProfile);setRepository(demoRepository);setSelectedBranch(branch||'main');setLoading(false);return;}else{setError(t('errors.github_auth_required'));setLoading(false);return;}}// Fetch user profile\nlet userProfile=null;try{const userResponse=await githubService.getUser(user);userProfile=userResponse;}catch(err){console.error('Error fetching user:',err);// Redirect to landing page with warning message\nnavigate('/',{state:{warningMessage:t('errors.user_not_found',{user})}});return;}// Fetch repository\nlet repoData=null;try{const repoResponse=await githubService.getRepository(user,repo);repoData=repoResponse;}catch(err){console.error('Error fetching repository:',err);// Redirect to landing page with warning message\nnavigate('/',{state:{warningMessage:`Could not access the requested DAK. Repository '${user}/${repo}' not found or not accessible.`}});return;}// Validate that this is actually a DAK repository\nconst isValidDAK=await dakValidationService.validateDAKRepository(user,repo,branch||repoData.default_branch);if(!isValidDAK){console.log(`Repository ${user}/${repo} is not a valid DAK repository`);navigate('/',{state:{warningMessage:`Could not access the requested DAK. Repository '${user}/${repo}' not found or not accessible.`}});return;}// Validate branch if specified\nif(branch){try{await githubService.getBranch(user,repo,branch);setSelectedBranch(branch);}catch(err){console.warn(`Branch '${branch}' not found, falling back to default branch`);setSelectedBranch(repoData.default_branch);}}else{setSelectedBranch(repoData.default_branch);}setProfile(userProfile);setRepository(repoData);setLoading(false);}catch(err){console.error('Error fetching data from URL params:',err);setError('Failed to load dashboard data. Please check the URL or try again.');setLoading(false);}}else{setLoading(false);}};fetchDataFromUrlParams();},[user,repo,branch,profile,repository,navigate,t]);// Initialize selected branch from session context\nuseEffect(()=>{if(repository){const storedBranch=branchContextService.getSelectedBranch(repository);if(storedBranch){setSelectedBranch(storedBranch);}else if(profile&&profile.login==='demo-user'){// For demo mode, set a default branch\nconst defaultBranch=repository.default_branch||'main';setSelectedBranch(defaultBranch);branchContextService.setSelectedBranch(repository,defaultBranch);}}},[repository,profile]);// Load issue counts for repository\nconst loadIssueCounts=async()=>{if(!repository)return;try{var _repository$owner;const owner=((_repository$owner=repository.owner)===null||_repository$owner===void 0?void 0:_repository$owner.login)||repository.full_name.split('/')[0];const repoName=repository.name;// Get all issues (includes pull requests in GitHub API)\nconst issues=await githubService.getIssues(owner,repoName,{state:'all',per_page:100});// Filter out pull requests to get actual issues\nconst actualIssues=issues.filter(issue=>!issue.pull_request);// Count issues by state\nconst openIssues=actualIssues.filter(issue=>issue.state==='open').length;const closedIssues=actualIssues.filter(issue=>issue.state==='closed').length;setIssueCounts({total:actualIssues.length,open:openIssues,closed:closedIssues});}catch(err){console.warn('Could not load issue counts:',err);setIssueCounts({total:0,open:0,closed:0});}};// Load issue counts when repository changes\nuseEffect(()=>{if(repository&&!loading){loadIssueCounts();}},[repository,loading]);// eslint-disable-line react-hooks/exhaustive-deps\n// Check write permissions on mount\nuseEffect(()=>{const checkPermissions=async()=>{if(repository&&profile){try{var _repository$owner2;const writeAccess=await githubService.checkRepositoryWritePermissions(((_repository$owner2=repository.owner)===null||_repository$owner2===void 0?void 0:_repository$owner2.login)||repository.full_name.split('/')[0],repository.name);setHasWriteAccess(writeAccess);}catch(error){console.warn('Could not check write permissions:',error);setHasWriteAccess(false);}}setCheckingPermissions(false);};checkPermissions();},[repository,profile]);// Close user menu when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showUserMenu&&!event.target.closest('.user-menu-container')){setShowUserMenu(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[showUserMenu]);// Define the 8 core DAK components based on WHO SMART Guidelines documentation\nconst coreDAKComponents=[{id:'health-interventions',name:'Health Interventions and Recommendations',description:'Clinical guidelines and health intervention specifications that define evidence-based care recommendations',icon:'ðŸ“–',type:'L2',color:'#0078d4',fileTypes:['IRIS','Publication'],count:5,editor:'Publication reference manager with IRIS integration'},{id:'generic-personas',name:'Generic Personas',description:'Standardized user roles and actor definitions that represent different types of healthcare workers and patients',icon:'ðŸ‘¥',type:'L2',color:'#107c10',fileTypes:['Actor','Role'],count:8,editor:'Persona definition editor with role-based access specifications'},{id:'user-scenarios',name:'User Scenarios',description:'Narrative descriptions of how different personas interact with the system in specific healthcare contexts',icon:'ðŸ“',type:'L2',color:'#881798',fileTypes:['Narrative','Use Case'],count:12,editor:'Scenario editor with workflow visualization'},{id:'business-processes',name:'Generic Business Processes and Workflows',description:'BPMN workflows and business process definitions that model clinical workflows and care pathways',icon:'ðŸ”„',type:'L2',color:'#d13438',fileTypes:['BPMN','XML'],count:15,editor:'Graphical BPMN editor with SVG visualization'},{id:'core-data-elements',name:'Core Data Elements',description:'Essential data structures and terminology needed for clinical data capture and exchange',icon:'ðŸ—ƒï¸',type:'L2',color:'#ff8c00',fileTypes:['OCL','Concept'],count:issueCounts.total||89,editor:'Data element editor with OCL integration'},{id:'decision-support',name:'Decision-Support Logic',description:'DMN decision tables and clinical decision support rules that encode clinical logic',icon:'ðŸŽ¯',type:'L2',color:'#00bcf2',fileTypes:['DMN','XML'],count:24,editor:'DMN decision table editor with validation'},{id:'program-indicators',name:'Program Indicators',description:'Performance indicators and measurement definitions for monitoring and evaluation',icon:'ðŸ“Š',type:'L2',color:'#498205',fileTypes:['Measure','Logic'],count:18,editor:'Indicator definition editor with measurement logic'},{id:'functional-requirements',name:'Functional and Non-Functional Requirements',description:'System requirements specifications that define capabilities and constraints',icon:'âš™ï¸',type:'L2',color:'#6b69d6',fileTypes:['Requirements','Specification'],count:32,editor:'Requirements editor with structured templates'}];// Additional Structured Knowledge Representations\nconst additionalComponents=[{id:'pages',name:'Pages',description:'Published page content and documentation defined in sushi-config.yaml',icon:'ðŸ“„',type:'Content',color:'#8b5cf6',fileTypes:['Markdown','HTML'],count:0},{id:'terminology',name:'Terminology',description:'Code systems, value sets, and concept maps',icon:'ðŸ·ï¸',type:'L3',color:'#ff8c00',fileTypes:['CodeSystem','ValueSet'],count:156},{id:'profiles',name:'FHIR Profiles',description:'FHIR resource profiles and structure definitions',icon:'ðŸ”§',type:'L3',color:'#00bcf2',fileTypes:['StructureDefinition','Profile'],count:42},{id:'extensions',name:'FHIR Extensions',description:'Custom FHIR extensions and data elements',icon:'ðŸ§©',type:'L3',color:'#498205',fileTypes:['Extension','Element'],count:18},{id:'questionnaires',name:'FHIR Questionnaires',description:'Structured forms and questionnaires for data collection',icon:'ðŸ“‹',type:'L3',color:'#881798',fileTypes:['Questionnaire','StructureMap'],count:24},{id:'examples',name:'Test Data & Examples',description:'Sample data and test cases for validation',icon:'ðŸ§ª',type:'L3',color:'#6b69d6',fileTypes:['Example','Bundle'],count:67}];// Handle branch selection change\nconst handleBranchChange=branch=>{var _repository$owner3;setSelectedBranch(branch);branchContextService.setSelectedBranch(repository,branch);// Update the URL to include the branch parameter\nconst owner=((_repository$owner3=repository.owner)===null||_repository$owner3===void 0?void 0:_repository$owner3.login)||repository.full_name.split('/')[0];const repoName=repository.name;const newPath=`/dashboard/${owner}/${repoName}/${branch}`;navigate(newPath,{state:{profile,repository,selectedBranch:branch}});};const handleComponentClick=(event,component)=>{const navigationState={profile,repository,component,selectedBranch};// For decision-support, always navigate to view page (no permission check needed)\nif(component.id==='decision-support'){var _repository$owner4;const owner=((_repository$owner4=repository.owner)===null||_repository$owner4===void 0?void 0:_repository$owner4.login)||repository.full_name.split('/')[0];const repoName=repository.name;const path=selectedBranch?`/decision-support-logic/${owner}/${repoName}/${selectedBranch}`:`/decision-support-logic/${owner}/${repoName}`;handleNavigationClick(event,path,navigate,navigationState);return;}// For business processes, navigate to selection page without permission check\nif(component.id==='business-processes'){var _repository$owner5;const owner=((_repository$owner5=repository.owner)===null||_repository$owner5===void 0?void 0:_repository$owner5.login)||repository.full_name.split('/')[0];const repoName=repository.name;const path=selectedBranch?`/business-process-selection/${owner}/${repoName}/${selectedBranch}`:`/business-process-selection/${owner}/${repoName}`;handleNavigationClick(event,path,navigate,navigationState);return;}// For pages, navigate to pages manager (read-only access allowed)\nif(component.id==='pages'){handleNavigationClick(event,'/pages',navigate,navigationState);return;}// For health-interventions (WHO Digital Library), allow access in read-only mode\nif(component.id==='health-interventions'){handleNavigationClick(event,`/editor/${component.id}`,navigate,navigationState);return;}// For core-data-elements (Component 2 Core Data Dictionary), navigate to viewer\nif(component.id==='core-data-elements'){var _repository$owner6;const owner=user||((_repository$owner6=repository.owner)===null||_repository$owner6===void 0?void 0:_repository$owner6.login)||repository.full_name.split('/')[0];const repoName=repo||repository.name;const branchName=selectedBranch;const viewerPath=branchName?`/core-data-dictionary-viewer/${owner}/${repoName}/${branchName}`:`/core-data-dictionary-viewer/${owner}/${repoName}`;handleNavigationClick(event,viewerPath,navigate,navigationState);return;}// For terminology (also Component 2 Core Data Dictionary from Additional Components), navigate to viewer\nif(component.id==='terminology'){var _repository$owner7;const owner=user||((_repository$owner7=repository.owner)===null||_repository$owner7===void 0?void 0:_repository$owner7.login)||repository.full_name.split('/')[0];const repoName=repo||repository.name;const branchName=selectedBranch;const viewerPath=branchName?`/core-data-dictionary-viewer/${owner}/${repoName}/${branchName}`:`/core-data-dictionary-viewer/${owner}/${repoName}`;handleNavigationClick(event,viewerPath,navigate,navigationState);return;}// For generic-personas, navigate to actor editor\nif(component.id==='generic-personas'){handleNavigationClick(event,'/actor-editor',navigate,navigationState);return;}// For other components, check permissions before proceeding\nif(!hasWriteAccess){// If command-click, still show permission dialog instead of opening new tab\n// since the user needs to authenticate first\nsetShowPermissionDialog(true);return;}// Navigate to generic component editor for other components\nhandleNavigationClick(event,`/editor/${component.id}`,navigate,navigationState);};const handleBackToRepos=()=>{navigate('/repositories',{state:{profile}});};const handleHomeNavigation=()=>{navigate('/');};const handleUserMenuToggle=()=>{setShowUserMenu(!showUserMenu);};const handleClearCacheClick=()=>{setShowUserMenu(false);setShowClearCacheConfirm(true);};const handleClearCacheConfirm=()=>{const success=cacheManagementService.clearAllCache();setShowClearCacheConfirm(false);if(success){// Show success message and redirect to home\nnavigate('/',{state:{successMessage:'ðŸš½ Cache cleared successfully! All local data has been flushed.'}});}else{// Show error message\nalert('âš ï¸ There was an error clearing the cache. Please try again or refresh the page.');}};const handleClearCacheCancel=()=>{setShowClearCacheConfirm(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"dak-dashboard loading-state\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Loading Dashboard...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Fetching repository and user data...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"dak-dashboard error-state\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Error Loading Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"error-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"action-btn primary\",children:\"Return to Home\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"action-btn secondary\",children:\"Retry\"})]})]})});}if(!profile||!repository){navigate('/');return/*#__PURE__*/_jsx(\"div\",{children:\"Redirecting...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dak-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"who-branding\",children:[/*#__PURE__*/_jsx(\"h1\",{onClick:handleHomeNavigation,className:\"clickable-title\",children:t('app.title')}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:t('app.subtitle')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"repo-status\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"repo-info\",children:/*#__PURE__*/_jsxs(\"a\",{href:`https://github.com/${repository.full_name}`,target:\"_blank\",rel:\"noopener noreferrer\",className:\"context-repo-link\",title:\"View repository on GitHub\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"repo-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"context-repo\",children:repository.name}),/*#__PURE__*/_jsx(\"span\",{className:\"external-link\",children:\"\\u2197\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"branch-info\",children:/*#__PURE__*/_jsx(BranchSelector,{repository:repository,selectedBranch:selectedBranch,onBranchChange:handleBranchChange,className:\"header-branch-selector\"})}),!checkingPermissions&&/*#__PURE__*/_jsx(\"span\",{className:`access-level ${hasWriteAccess?'write':'read'}`,children:hasWriteAccess?'âœï¸ Edit Access':'ðŸ‘ï¸ Read-Only Access'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",onClick:handleUserMenuToggle,children:[/*#__PURE__*/_jsx(\"img\",{src:profile.avatar_url||`https://github.com/${profile.login}.png`,alt:\"Profile\",className:\"context-avatar\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"context-owner\",children:[\"@\",profile.login]}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-arrow\",children:\"\\u25BC\"})]}),showUserMenu&&/*#__PURE__*/_jsx(\"div\",{className:\"user-dropdown-menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleClearCacheClick,children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-icon\",children:\"\\uD83D\\uDEBD\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-text\",children:\"Clear Cache\"})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"breadcrumb-link\",children:\"Select Profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToRepos,className:\"breadcrumb-link\",children:\"Select Repository\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-current\",children:\"DAK Components\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-intro\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Digital Adaptation Kit Components\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Select a component to edit content for \",/*#__PURE__*/_jsx(\"strong\",{children:repository.name}),selectedBranch&&/*#__PURE__*/_jsxs(\"span\",{children:[\" on branch \",/*#__PURE__*/_jsx(\"code\",{className:\"branch-display\",children:selectedBranch})]}),\". Components are organized according to the WHO SMART Guidelines framework.\"]})]}),repository&&selectedBranch&&/*#__PURE__*/_jsx(DAKStatusBox,{repository:repository,selectedBranch:selectedBranch,hasWriteAccess:hasWriteAccess,profile:profile}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-navigation\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`tab-button ${activeTab==='core'?'active':''}`,onClick:()=>setActiveTab('core'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\u2B50\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-text\",children:\"8 Core Components\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-button ${activeTab==='additional'?'active':''}`,onClick:()=>setActiveTab('additional'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\uD83D\\uDD27\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-text\",children:\"Additional Components\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-button ${activeTab==='publications'?'active':''}`,onClick:()=>setActiveTab('publications'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-text\",children:\"Publications\"})]})]}),activeTab==='core'&&/*#__PURE__*/_jsxs(\"div\",{className:\"components-section active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"8 Core DAK Components\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Essential components that form the foundation of any WHO SMART Guidelines Digital Adaptation Kit\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"components-grid core-components\",children:coreDAKComponents.map(component=>/*#__PURE__*/_jsxs(\"div\",{className:`component-card ${component.type.toLowerCase()}`,onClick:event=>handleComponentClick(event,component),style:{'--component-color':component.color},children:[/*#__PURE__*/_jsx(\"div\",{className:\"component-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"component-icon\",style:{color:component.color},children:component.icon})}),/*#__PURE__*/_jsxs(\"div\",{className:\"component-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:component.name}),/*#__PURE__*/_jsx(\"p\",{children:component.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"component-meta\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-types\",children:component.fileTypes.map(type=>/*#__PURE__*/_jsx(\"span\",{className:\"file-type-tag\",children:type},type))}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-count\",children:[component.count,\" files\"]})]})]})]},component.id))})]}),activeTab==='additional'&&/*#__PURE__*/_jsxs(\"div\",{className:\"components-section additional-section active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"Additional Components\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"FHIR R4-specific implementations and technical artifacts that support the core DAK components\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"components-grid additional-components\",children:additionalComponents.map(component=>/*#__PURE__*/_jsxs(\"div\",{className:`component-card ${component.type.toLowerCase()}`,onClick:event=>handleComponentClick(event,component),style:{'--component-color':component.color},children:[/*#__PURE__*/_jsx(\"div\",{className:\"component-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"component-icon\",style:{color:component.color},children:component.icon})}),/*#__PURE__*/_jsxs(\"div\",{className:\"component-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:component.name}),/*#__PURE__*/_jsx(\"p\",{children:component.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"component-meta\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-types\",children:component.fileTypes.map(type=>/*#__PURE__*/_jsx(\"span\",{className:\"file-type-tag\",children:type},type))}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-count\",children:[component.count,\" files\"]})]})]})]},component.id))})]}),activeTab==='publications'&&/*#__PURE__*/_jsx(\"div\",{className:\"components-section publications-section active\",children:/*#__PURE__*/_jsx(Publications,{profile:profile,repository:repository,selectedBranch:selectedBranch,hasWriteAccess:hasWriteAccess})})]})]}),showPermissionDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"permission-dialog-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"permission-dialog\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Access Required\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dialog-close\",onClick:()=>setShowPermissionDialog(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-mascot\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/sgex/sgex-mascot.png\",alt:\"SGEX Helper\",className:\"dialog-mascot-img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mascot-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You need edit permissions to modify DAK components!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your current token only provides read access to this repository.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"permission-options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD27 Upgrade Your Token\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create a new fine-grained token with write permissions for this repository.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-buttons\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/settings/personal-access-tokens/new\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn-primary\",children:\"Create New Token\"}),/*#__PURE__*/_jsx(HelpButton,{helpTopic:\"github-token\",contextData:{repository:{owner:((_repository$owner8=repository.owner)===null||_repository$owner8===void 0?void 0:_repository$owner8.login)||repository.full_name.split('/')[0],name:repository.name},requiredScopes:['Contents: Write','Metadata: Read','Pull requests: Write'],permissionMode:'edit',upgradeMode:true}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDC41\\uFE0F Continue in Read-Only Mode\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Browse and view DAK components without editing capabilities.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setShowPermissionDialog(false),children:\"Continue Read-Only\"})]})]})]})]})}),showClearCacheConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"clear-cache-dialog-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"clear-cache-dialog\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDEBD Clear Cache\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dialog-close\",onClick:handleClearCacheCancel,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-mascot\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/sgex/sgex-mascot.png\",alt:\"SGEX Helper\",className:\"dialog-mascot-img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mascot-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Warning: You may lose unsaved progress!\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"This will clear all cached data including:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Repository lists and metadata\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Branch selections and context\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Unsaved changes in staging area\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Other local application data\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Any work not committed to GitHub will be lost permanently.\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger\",onClick:handleClearCacheConfirm,children:\"\\uD83D\\uDEBD Yes, Clear Cache\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:handleClearCacheCancel,children:\"Cancel\"})]})]})]})}),/*#__PURE__*/_jsx(ContextualHelpMascot,{pageId:\"dak-dashboard\",position:\"bottom-right\",contextData:{profile,repository,hasWriteAccess}})]});};export default DAKDashboard;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","useParams","useTranslation","githubService","dakValidationService","branchContextService","cacheManagementService","BranchSelector","HelpButton","ContextualHelpMascot","DAKStatusBox","Publications","handleNavigationClick","jsx","_jsx","jsxs","_jsxs","DAKDashboard","_location$state","_location$state2","_location$state3","_repository$owner8","t","location","navigate","user","repo","branch","profile","setProfile","state","repository","setRepository","loading","setLoading","error","setError","hasWriteAccess","setHasWriteAccess","checkingPermissions","setCheckingPermissions","showPermissionDialog","setShowPermissionDialog","activeTab","setActiveTab","selectedBranch","setSelectedBranch","issueCounts","setIssueCounts","showUserMenu","setShowUserMenu","showClearCacheConfirm","setShowClearCacheConfirm","fetchDataFromUrlParams","isAuth","window","pathname","includes","isValidDAK","validateDemoDAKRepository","warningMessage","demoProfile","login","name","charAt","toUpperCase","slice","avatar_url","type","isDemo","demoRepository","full_name","owner","default_branch","html_url","userProfile","userResponse","getUser","err","console","repoData","repoResponse","getRepository","validateDAKRepository","log","getBranch","warn","storedBranch","getSelectedBranch","defaultBranch","loadIssueCounts","_repository$owner","split","repoName","issues","getIssues","per_page","actualIssues","filter","issue","pull_request","openIssues","length","closedIssues","total","open","closed","checkPermissions","_repository$owner2","writeAccess","checkRepositoryWritePermissions","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","coreDAKComponents","id","description","icon","color","fileTypes","count","editor","additionalComponents","handleBranchChange","_repository$owner3","newPath","handleComponentClick","component","navigationState","_repository$owner4","path","_repository$owner5","_repository$owner6","branchName","viewerPath","_repository$owner7","handleBackToRepos","handleHomeNavigation","handleUserMenuToggle","handleClearCacheClick","handleClearCacheConfirm","success","clearAllCache","successMessage","alert","handleClearCacheCancel","className","children","onClick","reload","href","rel","title","onBranchChange","src","alt","map","toLowerCase","style","helpTopic","contextData","requiredScopes","permissionMode","upgradeMode","pageId","position"],"sources":["/home/runner/work/sgex/sgex/src/components/DAKDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport githubService from '../services/githubService';\nimport dakValidationService from '../services/dakValidationService';\nimport branchContextService from '../services/branchContextService';\nimport cacheManagementService from '../services/cacheManagementService';\nimport BranchSelector from './BranchSelector';\nimport HelpButton from './HelpButton';\nimport ContextualHelpMascot from './ContextualHelpMascot';\nimport DAKStatusBox from './DAKStatusBox';\nimport Publications from './Publications';\nimport { handleNavigationClick } from '../utils/navigationUtils';\nimport './DAKDashboard.css';\n\nconst DAKDashboard = () => {\n  const { t } = useTranslation();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { user, repo, branch } = useParams();\n  \n  // Try to get data from location.state first, then from URL params\n  const [profile, setProfile] = useState(location.state?.profile || null);\n  const [repository, setRepository] = useState(location.state?.repository || null);\n  const [loading, setLoading] = useState(!profile || !repository);\n  const [error, setError] = useState(null);\n  const [hasWriteAccess, setHasWriteAccess] = useState(false);\n  const [checkingPermissions, setCheckingPermissions] = useState(true);\n  const [showPermissionDialog, setShowPermissionDialog] = useState(false);\n  const [activeTab, setActiveTab] = useState('core'); // 'core', 'additional', or 'publications'\n  const [selectedBranch, setSelectedBranch] = useState(location.state?.selectedBranch || branch || null);\n  const [issueCounts, setIssueCounts] = useState({});\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showClearCacheConfirm, setShowClearCacheConfirm] = useState(false);\n\n  // Fetch data from URL parameters if not available in location.state\n  useEffect(() => {\n    const fetchDataFromUrlParams = async () => {\n      if ((!profile || !repository) && user && repo) {\n        try {\n          setLoading(true);\n          setError(null);\n\n          // Check if githubService is authenticated (allow demo mode to proceed without auth)\n          if (!githubService.isAuth()) {\n            // In demo mode, use the DAK validation service for demo repositories\n            if (window.location.pathname.includes('/dashboard/')) {\n              const isValidDAK = dakValidationService.validateDemoDAKRepository(user, repo);\n              \n              if (!isValidDAK) {\n                navigate('/', { \n                  state: { \n                    warningMessage: `Could not access the requested DAK. Repository '${user}/${repo}' not found or not accessible.` \n                  } \n                });\n                return;\n              }\n\n              const demoProfile = {\n                login: user,\n                name: user.charAt(0).toUpperCase() + user.slice(1),\n                avatar_url: `https://github.com/${user}.png`,\n                type: 'User',\n                isDemo: true\n              };\n\n              const demoRepository = {\n                name: repo,\n                full_name: `${user}/${repo}`,\n                owner: { login: user },\n                default_branch: branch || 'main',\n                html_url: `https://github.com/${user}/${repo}`,\n                isDemo: true\n              };\n\n              setProfile(demoProfile);\n              setRepository(demoRepository);\n              setSelectedBranch(branch || 'main');\n              setLoading(false);\n              return;\n            } else {\n              setError(t('errors.github_auth_required'));\n              setLoading(false);\n              return;\n            }\n          }\n\n          // Fetch user profile\n          let userProfile = null;\n          try {\n            const userResponse = await githubService.getUser(user);\n            userProfile = userResponse;\n          } catch (err) {\n            console.error('Error fetching user:', err);\n            // Redirect to landing page with warning message\n            navigate('/', { \n              state: { \n                warningMessage: t('errors.user_not_found', { user }) \n              } \n            });\n            return;\n          }\n\n          // Fetch repository\n          let repoData = null;\n          try {\n            const repoResponse = await githubService.getRepository(user, repo);\n            repoData = repoResponse;\n          } catch (err) {\n            console.error('Error fetching repository:', err);\n            // Redirect to landing page with warning message\n            navigate('/', { \n              state: { \n                warningMessage: `Could not access the requested DAK. Repository '${user}/${repo}' not found or not accessible.` \n              } \n            });\n            return;\n          }\n\n          // Validate that this is actually a DAK repository\n          const isValidDAK = await dakValidationService.validateDAKRepository(user, repo, branch || repoData.default_branch);\n          \n          if (!isValidDAK) {\n            console.log(`Repository ${user}/${repo} is not a valid DAK repository`);\n            navigate('/', { \n              state: { \n                warningMessage: `Could not access the requested DAK. Repository '${user}/${repo}' not found or not accessible.` \n              } \n            });\n            return;\n          }\n\n          // Validate branch if specified\n          if (branch) {\n            try {\n              await githubService.getBranch(user, repo, branch);\n              setSelectedBranch(branch);\n            } catch (err) {\n              console.warn(`Branch '${branch}' not found, falling back to default branch`);\n              setSelectedBranch(repoData.default_branch);\n            }\n          } else {\n            setSelectedBranch(repoData.default_branch);\n          }\n\n          setProfile(userProfile);\n          setRepository(repoData);\n          setLoading(false);\n        } catch (err) {\n          console.error('Error fetching data from URL params:', err);\n          setError('Failed to load dashboard data. Please check the URL or try again.');\n          setLoading(false);\n        }\n      } else {\n        setLoading(false);\n      }\n    };\n\n    fetchDataFromUrlParams();\n  }, [user, repo, branch, profile, repository, navigate, t]);\n\n  // Initialize selected branch from session context\n  useEffect(() => {\n    if (repository) {\n      const storedBranch = branchContextService.getSelectedBranch(repository);\n      if (storedBranch) {\n        setSelectedBranch(storedBranch);\n      } else if (profile && profile.login === 'demo-user') {\n        // For demo mode, set a default branch\n        const defaultBranch = repository.default_branch || 'main';\n        setSelectedBranch(defaultBranch);\n        branchContextService.setSelectedBranch(repository, defaultBranch);\n      }\n    }\n  }, [repository, profile]);\n\n  // Load issue counts for repository\n  const loadIssueCounts = async () => {\n    if (!repository) return;\n    \n    try {\n      const owner = repository.owner?.login || repository.full_name.split('/')[0];\n      const repoName = repository.name;\n      \n      // Get all issues (includes pull requests in GitHub API)\n      const issues = await githubService.getIssues(owner, repoName, {\n        state: 'all',\n        per_page: 100\n      });\n      \n      // Filter out pull requests to get actual issues\n      const actualIssues = issues.filter(issue => !issue.pull_request);\n      \n      // Count issues by state\n      const openIssues = actualIssues.filter(issue => issue.state === 'open').length;\n      const closedIssues = actualIssues.filter(issue => issue.state === 'closed').length;\n      \n      setIssueCounts({\n        total: actualIssues.length,\n        open: openIssues,\n        closed: closedIssues\n      });\n    } catch (err) {\n      console.warn('Could not load issue counts:', err);\n      setIssueCounts({ total: 0, open: 0, closed: 0 });\n    }\n  };\n\n  // Load issue counts when repository changes\n  useEffect(() => {\n    if (repository && !loading) {\n      loadIssueCounts();\n    }\n  }, [repository, loading]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Check write permissions on mount\n  useEffect(() => {\n    const checkPermissions = async () => {\n      if (repository && profile) {\n        try {\n          const writeAccess = await githubService.checkRepositoryWritePermissions(\n            repository.owner?.login || repository.full_name.split('/')[0],\n            repository.name\n          );\n          setHasWriteAccess(writeAccess);\n        } catch (error) {\n          console.warn('Could not check write permissions:', error);\n          setHasWriteAccess(false);\n        }\n      }\n      setCheckingPermissions(false);\n    };\n\n    checkPermissions();\n  }, [repository, profile]);\n\n  // Close user menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showUserMenu && !event.target.closest('.user-menu-container')) {\n        setShowUserMenu(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showUserMenu]);\n\n\n\n  // Define the 8 core DAK components based on WHO SMART Guidelines documentation\n  const coreDAKComponents = [\n    {\n      id: 'health-interventions',\n      name: 'Health Interventions and Recommendations',\n      description: 'Clinical guidelines and health intervention specifications that define evidence-based care recommendations',\n      icon: 'ðŸ“–',\n      type: 'L2',\n      color: '#0078d4',\n      fileTypes: ['IRIS', 'Publication'],\n      count: 5,\n      editor: 'Publication reference manager with IRIS integration'\n    },\n    {\n      id: 'generic-personas',\n      name: 'Generic Personas',\n      description: 'Standardized user roles and actor definitions that represent different types of healthcare workers and patients',\n      icon: 'ðŸ‘¥',\n      type: 'L2',\n      color: '#107c10',\n      fileTypes: ['Actor', 'Role'],\n      count: 8,\n      editor: 'Persona definition editor with role-based access specifications'\n    },\n    {\n      id: 'user-scenarios',\n      name: 'User Scenarios',\n      description: 'Narrative descriptions of how different personas interact with the system in specific healthcare contexts',\n      icon: 'ðŸ“',\n      type: 'L2',\n      color: '#881798',\n      fileTypes: ['Narrative', 'Use Case'],\n      count: 12,\n      editor: 'Scenario editor with workflow visualization'\n    },\n    {\n      id: 'business-processes',\n      name: 'Generic Business Processes and Workflows',\n      description: 'BPMN workflows and business process definitions that model clinical workflows and care pathways',\n      icon: 'ðŸ”„',\n      type: 'L2',\n      color: '#d13438',\n      fileTypes: ['BPMN', 'XML'],\n      count: 15,\n      editor: 'Graphical BPMN editor with SVG visualization'\n    },\n    {\n      id: 'core-data-elements',\n      name: 'Core Data Elements',\n      description: 'Essential data structures and terminology needed for clinical data capture and exchange',\n      icon: 'ðŸ—ƒï¸',\n      type: 'L2',\n      color: '#ff8c00',\n      fileTypes: ['OCL', 'Concept'],\n      count: issueCounts.total || 89,\n      editor: 'Data element editor with OCL integration'\n    },\n    {\n      id: 'decision-support',\n      name: 'Decision-Support Logic',\n      description: 'DMN decision tables and clinical decision support rules that encode clinical logic',\n      icon: 'ðŸŽ¯',\n      type: 'L2',\n      color: '#00bcf2',\n      fileTypes: ['DMN', 'XML'],\n      count: 24,\n      editor: 'DMN decision table editor with validation'\n    },\n    {\n      id: 'program-indicators',\n      name: 'Program Indicators',\n      description: 'Performance indicators and measurement definitions for monitoring and evaluation',\n      icon: 'ðŸ“Š',\n      type: 'L2',\n      color: '#498205',\n      fileTypes: ['Measure', 'Logic'],\n      count: 18,\n      editor: 'Indicator definition editor with measurement logic'\n    },\n    {\n      id: 'functional-requirements',\n      name: 'Functional and Non-Functional Requirements',\n      description: 'System requirements specifications that define capabilities and constraints',\n      icon: 'âš™ï¸',\n      type: 'L2',\n      color: '#6b69d6',\n      fileTypes: ['Requirements', 'Specification'],\n      count: 32,\n      editor: 'Requirements editor with structured templates'\n    }\n  ];\n\n  // Additional Structured Knowledge Representations\n  const additionalComponents = [\n    {\n      id: 'pages',\n      name: 'Pages',\n      description: 'Published page content and documentation defined in sushi-config.yaml',\n      icon: 'ðŸ“„',\n      type: 'Content',\n      color: '#8b5cf6',\n      fileTypes: ['Markdown', 'HTML'],\n      count: 0\n    },\n    {\n      id: 'terminology',\n      name: 'Terminology',\n      description: 'Code systems, value sets, and concept maps',\n      icon: 'ðŸ·ï¸',\n      type: 'L3',\n      color: '#ff8c00',\n      fileTypes: ['CodeSystem', 'ValueSet'],\n      count: 156\n    },\n    {\n      id: 'profiles',\n      name: 'FHIR Profiles',\n      description: 'FHIR resource profiles and structure definitions',\n      icon: 'ðŸ”§',\n      type: 'L3',\n      color: '#00bcf2',\n      fileTypes: ['StructureDefinition', 'Profile'],\n      count: 42\n    },\n    {\n      id: 'extensions',\n      name: 'FHIR Extensions',\n      description: 'Custom FHIR extensions and data elements',\n      icon: 'ðŸ§©',\n      type: 'L3',\n      color: '#498205',\n      fileTypes: ['Extension', 'Element'],\n      count: 18\n    },\n    {\n      id: 'questionnaires',\n      name: 'FHIR Questionnaires',\n      description: 'Structured forms and questionnaires for data collection',\n      icon: 'ðŸ“‹',\n      type: 'L3',\n      color: '#881798',\n      fileTypes: ['Questionnaire', 'StructureMap'],\n      count: 24\n    },\n    {\n      id: 'examples',\n      name: 'Test Data & Examples',\n      description: 'Sample data and test cases for validation',\n      icon: 'ðŸ§ª',\n      type: 'L3',\n      color: '#6b69d6',\n      fileTypes: ['Example', 'Bundle'],\n      count: 67\n    }\n  ];\n\n  // Handle branch selection change\n  const handleBranchChange = (branch) => {\n    setSelectedBranch(branch);\n    branchContextService.setSelectedBranch(repository, branch);\n    \n    // Update the URL to include the branch parameter\n    const owner = repository.owner?.login || repository.full_name.split('/')[0];\n    const repoName = repository.name;\n    const newPath = `/dashboard/${owner}/${repoName}/${branch}`;\n    \n    navigate(newPath, {\n      state: {\n        profile,\n        repository,\n        selectedBranch: branch\n      }\n    });\n  };\n\n  const handleComponentClick = (event, component) => {\n    const navigationState = {\n      profile,\n      repository,\n      component,\n      selectedBranch\n    };\n    \n    // For decision-support, always navigate to view page (no permission check needed)\n    if (component.id === 'decision-support') {\n      const owner = repository.owner?.login || repository.full_name.split('/')[0];\n      const repoName = repository.name;\n      const path = selectedBranch \n        ? `/decision-support-logic/${owner}/${repoName}/${selectedBranch}`\n        : `/decision-support-logic/${owner}/${repoName}`;\n      \n      handleNavigationClick(event, path, navigate, navigationState);\n      return;\n    }\n\n    // For business processes, navigate to selection page without permission check\n    if (component.id === 'business-processes') {\n      const owner = repository.owner?.login || repository.full_name.split('/')[0];\n      const repoName = repository.name;\n      const path = selectedBranch \n        ? `/business-process-selection/${owner}/${repoName}/${selectedBranch}`\n        : `/business-process-selection/${owner}/${repoName}`;\n      \n      handleNavigationClick(event, path, navigate, navigationState);\n      return;\n    }\n\n    // For pages, navigate to pages manager (read-only access allowed)\n    if (component.id === 'pages') {\n      handleNavigationClick(event, '/pages', navigate, navigationState);\n      return;\n    }\n\n    // For health-interventions (WHO Digital Library), allow access in read-only mode\n    if (component.id === 'health-interventions') {\n      handleNavigationClick(event, `/editor/${component.id}`, navigate, navigationState);\n      return;\n    }\n\n    // For core-data-elements (Component 2 Core Data Dictionary), navigate to viewer\n    if (component.id === 'core-data-elements') {\n      const owner = user || repository.owner?.login || repository.full_name.split('/')[0];\n      const repoName = repo || repository.name;\n      const branchName = selectedBranch;\n      \n      const viewerPath = branchName ? \n        `/core-data-dictionary-viewer/${owner}/${repoName}/${branchName}` :\n        `/core-data-dictionary-viewer/${owner}/${repoName}`;\n        \n      handleNavigationClick(event, viewerPath, navigate, navigationState);\n      return;\n    }\n\n    // For terminology (also Component 2 Core Data Dictionary from Additional Components), navigate to viewer\n    if (component.id === 'terminology') {\n      const owner = user || repository.owner?.login || repository.full_name.split('/')[0];\n      const repoName = repo || repository.name;\n      const branchName = selectedBranch;\n      \n      const viewerPath = branchName ? \n        `/core-data-dictionary-viewer/${owner}/${repoName}/${branchName}` :\n        `/core-data-dictionary-viewer/${owner}/${repoName}`;\n        \n      handleNavigationClick(event, viewerPath, navigate, navigationState);\n      return;\n    }\n\n    // For generic-personas, navigate to actor editor\n    if (component.id === 'generic-personas') {\n      handleNavigationClick(event, '/actor-editor', navigate, navigationState);\n      return;\n    }\n\n    // For other components, check permissions before proceeding\n    if (!hasWriteAccess) {\n      // If command-click, still show permission dialog instead of opening new tab\n      // since the user needs to authenticate first\n      setShowPermissionDialog(true);\n      return;\n    }\n\n    // Navigate to generic component editor for other components\n    handleNavigationClick(event, `/editor/${component.id}`, navigate, navigationState);\n  };\n\n  const handleBackToRepos = () => {\n    navigate('/repositories', { state: { profile } });\n  };\n\n  const handleHomeNavigation = () => {\n    navigate('/');\n  };\n\n  const handleUserMenuToggle = () => {\n    setShowUserMenu(!showUserMenu);\n  };\n\n  const handleClearCacheClick = () => {\n    setShowUserMenu(false);\n    setShowClearCacheConfirm(true);\n  };\n\n  const handleClearCacheConfirm = () => {\n    const success = cacheManagementService.clearAllCache();\n    setShowClearCacheConfirm(false);\n    \n    if (success) {\n      // Show success message and redirect to home\n      navigate('/', { \n        state: { \n          successMessage: 'ðŸš½ Cache cleared successfully! All local data has been flushed.' \n        } \n      });\n    } else {\n      // Show error message\n      alert('âš ï¸ There was an error clearing the cache. Please try again or refresh the page.');\n    }\n  };\n\n  const handleClearCacheCancel = () => {\n    setShowClearCacheConfirm(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"dak-dashboard loading-state\">\n        <div className=\"loading-content\">\n          <h2>Loading Dashboard...</h2>\n          <p>Fetching repository and user data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"dak-dashboard error-state\">\n        <div className=\"error-content\">\n          <h2>Error Loading Dashboard</h2>\n          <p>{error}</p>\n          <div className=\"error-actions\">\n            <button onClick={() => navigate('/')} className=\"action-btn primary\">\n              Return to Home\n            </button>\n            <button onClick={() => window.location.reload()} className=\"action-btn secondary\">\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile || !repository) {\n    navigate('/');\n    return <div>Redirecting...</div>;\n  }\n\n  return (\n    <div className=\"dak-dashboard\">\n      <div className=\"dashboard-header\">\n        <div className=\"header-left\">\n          <div className=\"who-branding\">\n            <h1 onClick={handleHomeNavigation} className=\"clickable-title\">{t('app.title')}</h1>\n            <p className=\"subtitle\">{t('app.subtitle')}</p>\n          </div>\n          <div className=\"repo-status\">\n            <div className=\"repo-info\">\n              <a \n                href={`https://github.com/${repository.full_name}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"context-repo-link\"\n                title=\"View repository on GitHub\"\n              >\n                <span className=\"repo-icon\">ðŸ“</span>\n                <span className=\"context-repo\">{repository.name}</span>\n                <span className=\"external-link\">â†—</span>\n              </a>\n            </div>\n            <div className=\"branch-info\">\n              <BranchSelector\n                repository={repository}\n                selectedBranch={selectedBranch}\n                onBranchChange={handleBranchChange}\n                className=\"header-branch-selector\"\n              />\n            </div>\n            {!checkingPermissions && (\n              <span className={`access-level ${hasWriteAccess ? 'write' : 'read'}`}>\n                {hasWriteAccess ? 'âœï¸ Edit Access' : 'ðŸ‘ï¸ Read-Only Access'}\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"header-right\">\n          <div className=\"user-menu-container\">\n            <div className=\"user-info\" onClick={handleUserMenuToggle}>\n              <img \n                src={profile.avatar_url || `https://github.com/${profile.login}.png`} \n                alt=\"Profile\" \n                className=\"context-avatar\" \n              />\n              <span className=\"context-owner\">@{profile.login}</span>\n              <span className=\"menu-arrow\">â–¼</span>\n            </div>\n            \n            {showUserMenu && (\n              <div className=\"user-dropdown-menu\">\n                <div className=\"dropdown-item\" onClick={handleClearCacheClick}>\n                  <span className=\"dropdown-icon\">ðŸš½</span>\n                  <span className=\"dropdown-text\">Clear Cache</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"dashboard-content\">\n        <div className=\"breadcrumb\">\n          <button onClick={() => navigate('/')} className=\"breadcrumb-link\">\n            Select Profile\n          </button>\n          <span className=\"breadcrumb-separator\">â€º</span>\n          <button onClick={handleBackToRepos} className=\"breadcrumb-link\">\n            Select Repository\n          </button>\n          <span className=\"breadcrumb-separator\">â€º</span>\n          <span className=\"breadcrumb-current\">DAK Components</span>\n        </div>\n\n        <div className=\"dashboard-main\">\n          <div className=\"dashboard-intro\">\n            <h2>Digital Adaptation Kit Components</h2>\n            <p>\n              Select a component to edit content for <strong>{repository.name}</strong>\n              {selectedBranch && (\n                <span> on branch <code className=\"branch-display\">{selectedBranch}</code></span>\n              )}. \n              Components are organized according to the WHO SMART Guidelines framework.\n            </p>\n          </div>\n\n          {/* DAK Status Box - only show when repository and branch are selected */}\n          {repository && selectedBranch && (\n            <DAKStatusBox \n              repository={repository}\n              selectedBranch={selectedBranch}\n              hasWriteAccess={hasWriteAccess}\n              profile={profile}\n            />\n          )}\n\n          {/* Tab Navigation */}\n          <div className=\"tab-navigation\">\n            <button \n              className={`tab-button ${activeTab === 'core' ? 'active' : ''}`}\n              onClick={() => setActiveTab('core')}\n            >\n              <span className=\"tab-icon\">â­</span>\n              <span className=\"tab-text\">8 Core Components</span>\n            </button>\n            <button \n              className={`tab-button ${activeTab === 'additional' ? 'active' : ''}`}\n              onClick={() => setActiveTab('additional')}\n            >\n              <span className=\"tab-icon\">ðŸ”§</span>\n              <span className=\"tab-text\">Additional Components</span>\n            </button>\n            <button\n              className={`tab-button ${activeTab === 'publications' ? 'active' : ''}`}\n              onClick={() => setActiveTab('publications')}\n            >\n              <span className=\"tab-icon\">ðŸ“š</span>\n              <span className=\"tab-text\">Publications</span>\n            </button>\n          </div>\n\n          {/* 8 Core DAK Components Section */}\n          {activeTab === 'core' && (\n            <div className=\"components-section active\">\n              <div className=\"section-header\">\n                <h3 className=\"section-title\">8 Core DAK Components</h3>\n                <p className=\"section-description\">\n                  Essential components that form the foundation of any WHO SMART Guidelines Digital Adaptation Kit\n                </p>\n              </div>\n\n              <div className=\"components-grid core-components\">\n                {coreDAKComponents.map((component) => (\n                  <div \n                    key={component.id}\n                    className={`component-card ${component.type.toLowerCase()}`}\n                    onClick={(event) => handleComponentClick(event, component)}\n                    style={{ '--component-color': component.color }}\n                  >\n                    <div className=\"component-header\">\n                      <div className=\"component-icon\" style={{ color: component.color }}>\n                        {component.icon}\n                      </div>\n                    </div>\n                    \n                    <div className=\"component-content\">\n                      <h4>{component.name}</h4>\n                      <p>{component.description}</p>\n                      \n                      <div className=\"component-meta\">\n                        <div className=\"file-types\">\n                          {component.fileTypes.map((type) => (\n                            <span key={type} className=\"file-type-tag\">{type}</span>\n                          ))}\n                        </div>\n                        <div className=\"file-count\">\n                          {component.count} files\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Additional Components Section */}\n          {activeTab === 'additional' && (\n            <div className=\"components-section additional-section active\">\n              <div className=\"section-header\">\n                <h3 className=\"section-title\">Additional Components</h3>\n                <p className=\"section-description\">\n                  FHIR R4-specific implementations and technical artifacts that support the core DAK components\n                </p>\n              </div>\n\n              <div className=\"components-grid additional-components\">\n                {additionalComponents.map((component) => (\n                  <div \n                    key={component.id}\n                    className={`component-card ${component.type.toLowerCase()}`}\n                    onClick={(event) => handleComponentClick(event, component)}\n                    style={{ '--component-color': component.color }}\n                  >\n                    <div className=\"component-header\">\n                      <div className=\"component-icon\" style={{ color: component.color }}>\n                        {component.icon}\n                      </div>\n                    </div>\n                    \n                    <div className=\"component-content\">\n                      <h4>{component.name}</h4>\n                      <p>{component.description}</p>\n                      \n                      <div className=\"component-meta\">\n                        <div className=\"file-types\">\n                          {component.fileTypes.map((type) => (\n                            <span key={type} className=\"file-type-tag\">{type}</span>\n                          ))}\n                        </div>\n                        <div className=\"file-count\">\n                          {component.count} files\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Publications Section */}\n          {activeTab === 'publications' && (\n            <div className=\"components-section publications-section active\">\n              <Publications\n                profile={profile}\n                repository={repository}\n                selectedBranch={selectedBranch}\n                hasWriteAccess={hasWriteAccess}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Permission Upgrade Dialog */}\n      {showPermissionDialog && (\n        <div className=\"permission-dialog-overlay\">\n          <div className=\"permission-dialog\">\n            <div className=\"dialog-header\">\n              <h3>Edit Access Required</h3>\n              <button \n                className=\"dialog-close\"\n                onClick={() => setShowPermissionDialog(false)}\n              >\n                Ã—\n              </button>\n            </div>\n            <div className=\"dialog-content\">\n              <div className=\"dialog-mascot\">\n                <img src=\"/sgex/sgex-mascot.png\" alt=\"SGEX Helper\" className=\"dialog-mascot-img\" />\n                <div className=\"mascot-message\">\n                  <p>You need edit permissions to modify DAK components!</p>\n                  <p>Your current token only provides read access to this repository.</p>\n                </div>\n              </div>\n              <div className=\"permission-options\">\n                <div className=\"option-card\">\n                  <h4>ðŸ”§ Upgrade Your Token</h4>\n                  <p>Create a new fine-grained token with write permissions for this repository.</p>\n                  <div className=\"option-buttons\">\n                    <a \n                      href=\"https://github.com/settings/personal-access-tokens/new\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"btn-primary\"\n                    >\n                      Create New Token\n                    </a>\n                    <HelpButton \n                      helpTopic=\"github-token\"\n                      contextData={{ \n                        repository: { owner: repository.owner?.login || repository.full_name.split('/')[0], name: repository.name },\n                        requiredScopes: ['Contents: Write', 'Metadata: Read', 'Pull requests: Write'],\n                        permissionMode: 'edit',\n                        upgradeMode: true\n                      }}\n                    />\n                  </div>\n                </div>\n                <div className=\"option-card\">\n                  <h4>ðŸ‘ï¸ Continue in Read-Only Mode</h4>\n                  <p>Browse and view DAK components without editing capabilities.</p>\n                  <button \n                    className=\"btn-secondary\"\n                    onClick={() => setShowPermissionDialog(false)}\n                  >\n                    Continue Read-Only\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Clear Cache Confirmation Dialog */}\n      {showClearCacheConfirm && (\n        <div className=\"clear-cache-dialog-overlay\">\n          <div className=\"clear-cache-dialog\">\n            <div className=\"dialog-header\">\n              <h3>ðŸš½ Clear Cache</h3>\n              <button \n                className=\"dialog-close\"\n                onClick={handleClearCacheCancel}\n              >\n                Ã—\n              </button>\n            </div>\n            <div className=\"dialog-content\">\n              <div className=\"dialog-mascot\">\n                <img src=\"/sgex/sgex-mascot.png\" alt=\"SGEX Helper\" className=\"dialog-mascot-img\" />\n                <div className=\"mascot-message\">\n                  <p><strong>âš ï¸ Warning: You may lose unsaved progress!</strong></p>\n                  <p>This will clear all cached data including:</p>\n                  <ul>\n                    <li>Repository lists and metadata</li>\n                    <li>Branch selections and context</li>\n                    <li>Unsaved changes in staging area</li>\n                    <li>Other local application data</li>\n                  </ul>\n                  <p><strong>Any work not committed to GitHub will be lost permanently.</strong></p>\n                </div>\n              </div>\n              <div className=\"dialog-actions\">\n                <button \n                  className=\"btn-danger\"\n                  onClick={handleClearCacheConfirm}\n                >\n                  ðŸš½ Yes, Clear Cache\n                </button>\n                <button \n                  className=\"btn-secondary\"\n                  onClick={handleClearCacheCancel}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Contextual Help Mascot */}\n      <ContextualHelpMascot \n        pageId=\"dak-dashboard\"\n        position=\"bottom-right\"\n        contextData={{ profile, repository, hasWriteAccess }}\n      />\n    </div>\n  );\n};\n\nexport default DAKDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}