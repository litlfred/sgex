{"ast":null,"code":"'use strict';\n\nconst {\n  HEX\n} = require('./scopedChars');\nconst IPV4_REG = /^(?:(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)$/u;\nfunction normalizeIPv4(host) {\n  if (findToken(host, '.') < 3) {\n    return {\n      host,\n      isIPV4: false\n    };\n  }\n  const matches = host.match(IPV4_REG) || [];\n  const [address] = matches;\n  if (address) {\n    return {\n      host: stripLeadingZeros(address, '.'),\n      isIPV4: true\n    };\n  } else {\n    return {\n      host,\n      isIPV4: false\n    };\n  }\n}\n\n/**\n * @param {string[]} input\n * @param {boolean} [keepZero=false]\n * @returns {string|undefined}\n */\nfunction stringArrayToHexStripped(input) {\n  let keepZero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  let acc = '';\n  let strip = true;\n  for (const c of input) {\n    if (HEX[c] === undefined) return undefined;\n    if (c !== '0' && strip === true) strip = false;\n    if (!strip) acc += c;\n  }\n  if (keepZero && acc.length === 0) acc = '0';\n  return acc;\n}\nfunction getIPV6(input) {\n  let tokenCount = 0;\n  const output = {\n    error: false,\n    address: '',\n    zone: ''\n  };\n  const address = [];\n  const buffer = [];\n  let isZone = false;\n  let endipv6Encountered = false;\n  let endIpv6 = false;\n  function consume() {\n    if (buffer.length) {\n      if (isZone === false) {\n        const hex = stringArrayToHexStripped(buffer);\n        if (hex !== undefined) {\n          address.push(hex);\n        } else {\n          output.error = true;\n          return false;\n        }\n      }\n      buffer.length = 0;\n    }\n    return true;\n  }\n  for (let i = 0; i < input.length; i++) {\n    const cursor = input[i];\n    if (cursor === '[' || cursor === ']') {\n      continue;\n    }\n    if (cursor === ':') {\n      if (endipv6Encountered === true) {\n        endIpv6 = true;\n      }\n      if (!consume()) {\n        break;\n      }\n      tokenCount++;\n      address.push(':');\n      if (tokenCount > 7) {\n        // not valid\n        output.error = true;\n        break;\n      }\n      if (i - 1 >= 0 && input[i - 1] === ':') {\n        endipv6Encountered = true;\n      }\n      continue;\n    } else if (cursor === '%') {\n      if (!consume()) {\n        break;\n      }\n      // switch to zone detection\n      isZone = true;\n    } else {\n      buffer.push(cursor);\n      continue;\n    }\n  }\n  if (buffer.length) {\n    if (isZone) {\n      output.zone = buffer.join('');\n    } else if (endIpv6) {\n      address.push(buffer.join(''));\n    } else {\n      address.push(stringArrayToHexStripped(buffer));\n    }\n  }\n  output.address = address.join('');\n  return output;\n}\nfunction normalizeIPv6(host) {\n  if (findToken(host, ':') < 2) {\n    return {\n      host,\n      isIPV6: false\n    };\n  }\n  const ipv6 = getIPV6(host);\n  if (!ipv6.error) {\n    let newHost = ipv6.address;\n    let escapedHost = ipv6.address;\n    if (ipv6.zone) {\n      newHost += '%' + ipv6.zone;\n      escapedHost += '%25' + ipv6.zone;\n    }\n    return {\n      host: newHost,\n      escapedHost,\n      isIPV6: true\n    };\n  } else {\n    return {\n      host,\n      isIPV6: false\n    };\n  }\n}\nfunction stripLeadingZeros(str, token) {\n  let out = '';\n  let skip = true;\n  const l = str.length;\n  for (let i = 0; i < l; i++) {\n    const c = str[i];\n    if (c === '0' && skip) {\n      if (i + 1 <= l && str[i + 1] === token || i + 1 === l) {\n        out += c;\n        skip = false;\n      }\n    } else {\n      if (c === token) {\n        skip = true;\n      } else {\n        skip = false;\n      }\n      out += c;\n    }\n  }\n  return out;\n}\nfunction findToken(str, token) {\n  let ind = 0;\n  for (let i = 0; i < str.length; i++) {\n    if (str[i] === token) ind++;\n  }\n  return ind;\n}\nconst RDS1 = /^\\.\\.?\\//u;\nconst RDS2 = /^\\/\\.(?:\\/|$)/u;\nconst RDS3 = /^\\/\\.\\.(?:\\/|$)/u;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/u;\nfunction removeDotSegments(input) {\n  const output = [];\n  while (input.length) {\n    if (input.match(RDS1)) {\n      input = input.replace(RDS1, '');\n    } else if (input.match(RDS2)) {\n      input = input.replace(RDS2, '/');\n    } else if (input.match(RDS3)) {\n      input = input.replace(RDS3, '/');\n      output.pop();\n    } else if (input === '.' || input === '..') {\n      input = '';\n    } else {\n      const im = input.match(RDS5);\n      if (im) {\n        const s = im[0];\n        input = input.slice(s.length);\n        output.push(s);\n      } else {\n        throw new Error('Unexpected dot segment condition');\n      }\n    }\n  }\n  return output.join('');\n}\nfunction normalizeComponentEncoding(components, esc) {\n  const func = esc !== true ? escape : unescape;\n  if (components.scheme !== undefined) {\n    components.scheme = func(components.scheme);\n  }\n  if (components.userinfo !== undefined) {\n    components.userinfo = func(components.userinfo);\n  }\n  if (components.host !== undefined) {\n    components.host = func(components.host);\n  }\n  if (components.path !== undefined) {\n    components.path = func(components.path);\n  }\n  if (components.query !== undefined) {\n    components.query = func(components.query);\n  }\n  if (components.fragment !== undefined) {\n    components.fragment = func(components.fragment);\n  }\n  return components;\n}\nfunction recomposeAuthority(components) {\n  const uriTokens = [];\n  if (components.userinfo !== undefined) {\n    uriTokens.push(components.userinfo);\n    uriTokens.push('@');\n  }\n  if (components.host !== undefined) {\n    let host = unescape(components.host);\n    const ipV4res = normalizeIPv4(host);\n    if (ipV4res.isIPV4) {\n      host = ipV4res.host;\n    } else {\n      const ipV6res = normalizeIPv6(ipV4res.host);\n      if (ipV6res.isIPV6 === true) {\n        host = `[${ipV6res.escapedHost}]`;\n      } else {\n        host = components.host;\n      }\n    }\n    uriTokens.push(host);\n  }\n  if (typeof components.port === 'number' || typeof components.port === 'string') {\n    uriTokens.push(':');\n    uriTokens.push(String(components.port));\n  }\n  return uriTokens.length ? uriTokens.join('') : undefined;\n}\n;\nmodule.exports = {\n  recomposeAuthority,\n  normalizeComponentEncoding,\n  removeDotSegments,\n  normalizeIPv4,\n  normalizeIPv6,\n  stringArrayToHexStripped\n};","map":{"version":3,"names":["HEX","require","IPV4_REG","normalizeIPv4","host","findToken","isIPV4","matches","match","address","stripLeadingZeros","stringArrayToHexStripped","input","keepZero","arguments","length","undefined","acc","strip","c","getIPV6","tokenCount","output","error","zone","buffer","isZone","endipv6Encountered","endIpv6","consume","hex","push","i","cursor","join","normalizeIPv6","isIPV6","ipv6","newHost","escapedHost","str","token","out","skip","l","ind","RDS1","RDS2","RDS3","RDS5","removeDotSegments","replace","pop","im","s","slice","Error","normalizeComponentEncoding","components","esc","func","escape","unescape","scheme","userinfo","path","query","fragment","recomposeAuthority","uriTokens","ipV4res","ipV6res","port","String","module","exports"],"sources":["/home/runner/work/sgex/sgex/node_modules/fast-uri/lib/utils.js"],"sourcesContent":["'use strict'\n\nconst { HEX } = require('./scopedChars')\n\nconst IPV4_REG = /^(?:(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)$/u\n\nfunction normalizeIPv4 (host) {\n  if (findToken(host, '.') < 3) { return { host, isIPV4: false } }\n  const matches = host.match(IPV4_REG) || []\n  const [address] = matches\n  if (address) {\n    return { host: stripLeadingZeros(address, '.'), isIPV4: true }\n  } else {\n    return { host, isIPV4: false }\n  }\n}\n\n/**\n * @param {string[]} input\n * @param {boolean} [keepZero=false]\n * @returns {string|undefined}\n */\nfunction stringArrayToHexStripped (input, keepZero = false) {\n  let acc = ''\n  let strip = true\n  for (const c of input) {\n    if (HEX[c] === undefined) return undefined\n    if (c !== '0' && strip === true) strip = false\n    if (!strip) acc += c\n  }\n  if (keepZero && acc.length === 0) acc = '0'\n  return acc\n}\n\nfunction getIPV6 (input) {\n  let tokenCount = 0\n  const output = { error: false, address: '', zone: '' }\n  const address = []\n  const buffer = []\n  let isZone = false\n  let endipv6Encountered = false\n  let endIpv6 = false\n\n  function consume () {\n    if (buffer.length) {\n      if (isZone === false) {\n        const hex = stringArrayToHexStripped(buffer)\n        if (hex !== undefined) {\n          address.push(hex)\n        } else {\n          output.error = true\n          return false\n        }\n      }\n      buffer.length = 0\n    }\n    return true\n  }\n\n  for (let i = 0; i < input.length; i++) {\n    const cursor = input[i]\n    if (cursor === '[' || cursor === ']') { continue }\n    if (cursor === ':') {\n      if (endipv6Encountered === true) {\n        endIpv6 = true\n      }\n      if (!consume()) { break }\n      tokenCount++\n      address.push(':')\n      if (tokenCount > 7) {\n        // not valid\n        output.error = true\n        break\n      }\n      if (i - 1 >= 0 && input[i - 1] === ':') {\n        endipv6Encountered = true\n      }\n      continue\n    } else if (cursor === '%') {\n      if (!consume()) { break }\n      // switch to zone detection\n      isZone = true\n    } else {\n      buffer.push(cursor)\n      continue\n    }\n  }\n  if (buffer.length) {\n    if (isZone) {\n      output.zone = buffer.join('')\n    } else if (endIpv6) {\n      address.push(buffer.join(''))\n    } else {\n      address.push(stringArrayToHexStripped(buffer))\n    }\n  }\n  output.address = address.join('')\n  return output\n}\n\nfunction normalizeIPv6 (host) {\n  if (findToken(host, ':') < 2) { return { host, isIPV6: false } }\n  const ipv6 = getIPV6(host)\n\n  if (!ipv6.error) {\n    let newHost = ipv6.address\n    let escapedHost = ipv6.address\n    if (ipv6.zone) {\n      newHost += '%' + ipv6.zone\n      escapedHost += '%25' + ipv6.zone\n    }\n    return { host: newHost, escapedHost, isIPV6: true }\n  } else {\n    return { host, isIPV6: false }\n  }\n}\n\nfunction stripLeadingZeros (str, token) {\n  let out = ''\n  let skip = true\n  const l = str.length\n  for (let i = 0; i < l; i++) {\n    const c = str[i]\n    if (c === '0' && skip) {\n      if ((i + 1 <= l && str[i + 1] === token) || i + 1 === l) {\n        out += c\n        skip = false\n      }\n    } else {\n      if (c === token) {\n        skip = true\n      } else {\n        skip = false\n      }\n      out += c\n    }\n  }\n  return out\n}\n\nfunction findToken (str, token) {\n  let ind = 0\n  for (let i = 0; i < str.length; i++) {\n    if (str[i] === token) ind++\n  }\n  return ind\n}\n\nconst RDS1 = /^\\.\\.?\\//u\nconst RDS2 = /^\\/\\.(?:\\/|$)/u\nconst RDS3 = /^\\/\\.\\.(?:\\/|$)/u\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/u\n\nfunction removeDotSegments (input) {\n  const output = []\n\n  while (input.length) {\n    if (input.match(RDS1)) {\n      input = input.replace(RDS1, '')\n    } else if (input.match(RDS2)) {\n      input = input.replace(RDS2, '/')\n    } else if (input.match(RDS3)) {\n      input = input.replace(RDS3, '/')\n      output.pop()\n    } else if (input === '.' || input === '..') {\n      input = ''\n    } else {\n      const im = input.match(RDS5)\n      if (im) {\n        const s = im[0]\n        input = input.slice(s.length)\n        output.push(s)\n      } else {\n        throw new Error('Unexpected dot segment condition')\n      }\n    }\n  }\n  return output.join('')\n}\n\nfunction normalizeComponentEncoding (components, esc) {\n  const func = esc !== true ? escape : unescape\n  if (components.scheme !== undefined) {\n    components.scheme = func(components.scheme)\n  }\n  if (components.userinfo !== undefined) {\n    components.userinfo = func(components.userinfo)\n  }\n  if (components.host !== undefined) {\n    components.host = func(components.host)\n  }\n  if (components.path !== undefined) {\n    components.path = func(components.path)\n  }\n  if (components.query !== undefined) {\n    components.query = func(components.query)\n  }\n  if (components.fragment !== undefined) {\n    components.fragment = func(components.fragment)\n  }\n  return components\n}\n\nfunction recomposeAuthority (components) {\n  const uriTokens = []\n\n  if (components.userinfo !== undefined) {\n    uriTokens.push(components.userinfo)\n    uriTokens.push('@')\n  }\n\n  if (components.host !== undefined) {\n    let host = unescape(components.host)\n    const ipV4res = normalizeIPv4(host)\n\n    if (ipV4res.isIPV4) {\n      host = ipV4res.host\n    } else {\n      const ipV6res = normalizeIPv6(ipV4res.host)\n      if (ipV6res.isIPV6 === true) {\n        host = `[${ipV6res.escapedHost}]`\n      } else {\n        host = components.host\n      }\n    }\n    uriTokens.push(host)\n  }\n\n  if (typeof components.port === 'number' || typeof components.port === 'string') {\n    uriTokens.push(':')\n    uriTokens.push(String(components.port))\n  }\n\n  return uriTokens.length ? uriTokens.join('') : undefined\n};\n\nmodule.exports = {\n  recomposeAuthority,\n  normalizeComponentEncoding,\n  removeDotSegments,\n  normalizeIPv4,\n  normalizeIPv6,\n  stringArrayToHexStripped\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}