{"ast":null,"code":"import{useState,useEffect}from'react';/**\n * Custom hook that returns the appropriate image path based on the current theme\n * @param {string} baseImagePath - The base image path (e.g., \"sgex-mascot.png\", \"authoring.png\")\n * @returns {string} The theme-appropriate image path\n */const useThemeImage=baseImagePath=>{const[currentImagePath,setCurrentImagePath]=useState(baseImagePath);useEffect(()=>{const updateImagePath=()=>{const isDarkMode=document.body.classList.contains('theme-dark');// Get the correct base path for the deployment environment\nconst publicUrl=process.env.PUBLIC_URL||'';// Normalize the base image path (remove leading slash if present)\nconst normalizedPath=baseImagePath.startsWith('/')?baseImagePath.slice(1):baseImagePath;let finalPath;if(isDarkMode){// Convert base image to dark mode version\n// e.g., \"sgex-mascot.png\" -> \"sgex-mascot_grey_tabby.png\"\nconst darkImageName=normalizedPath.replace(/\\.png$/,'_grey_tabby.png');finalPath=publicUrl?`${publicUrl}/${darkImageName}`:`/${darkImageName}`;}else{// Use original image for light mode\nfinalPath=publicUrl?`${publicUrl}/${normalizedPath}`:`/${normalizedPath}`;}setCurrentImagePath(finalPath);};// Initial update\nupdateImagePath();// Create a MutationObserver to watch for body class changes\nconst observer=new MutationObserver(mutations=>{mutations.forEach(mutation=>{if(mutation.type==='attributes'&&mutation.attributeName==='class'){updateImagePath();}});});// Start observing the body for class changes\nobserver.observe(document.body,{attributes:true,attributeFilter:['class']});// Cleanup observer on unmount\nreturn()=>{observer.disconnect();};},[baseImagePath]);return currentImagePath;};export default useThemeImage;","map":{"version":3,"names":["useState","useEffect","useThemeImage","baseImagePath","currentImagePath","setCurrentImagePath","updateImagePath","isDarkMode","document","body","classList","contains","publicUrl","process","env","PUBLIC_URL","normalizedPath","startsWith","slice","finalPath","darkImageName","replace","observer","MutationObserver","mutations","forEach","mutation","type","attributeName","observe","attributes","attributeFilter","disconnect"],"sources":["/home/runner/work/sgex/sgex/src/hooks/useThemeImage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n/**\n * Custom hook that returns the appropriate image path based on the current theme\n * @param {string} baseImagePath - The base image path (e.g., \"sgex-mascot.png\", \"authoring.png\")\n * @returns {string} The theme-appropriate image path\n */\nconst useThemeImage = (baseImagePath) => {\n  const [currentImagePath, setCurrentImagePath] = useState(baseImagePath);\n\n  useEffect(() => {\n    const updateImagePath = () => {\n      const isDarkMode = document.body.classList.contains('theme-dark');\n      \n      // Get the correct base path for the deployment environment\n      const publicUrl = process.env.PUBLIC_URL || '';\n      \n      // Normalize the base image path (remove leading slash if present)\n      const normalizedPath = baseImagePath.startsWith('/') ? baseImagePath.slice(1) : baseImagePath;\n      \n      let finalPath;\n      if (isDarkMode) {\n        // Convert base image to dark mode version\n        // e.g., \"sgex-mascot.png\" -> \"sgex-mascot_grey_tabby.png\"\n        const darkImageName = normalizedPath.replace(/\\.png$/, '_grey_tabby.png');\n        finalPath = publicUrl ? `${publicUrl}/${darkImageName}` : `/${darkImageName}`;\n      } else {\n        // Use original image for light mode\n        finalPath = publicUrl ? `${publicUrl}/${normalizedPath}` : `/${normalizedPath}`;\n      }\n      \n      setCurrentImagePath(finalPath);\n    };\n\n    // Initial update\n    updateImagePath();\n\n    // Create a MutationObserver to watch for body class changes\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n          updateImagePath();\n        }\n      });\n    });\n\n    // Start observing the body for class changes\n    observer.observe(document.body, {\n      attributes: true,\n      attributeFilter: ['class']\n    });\n\n    // Cleanup observer on unmount\n    return () => {\n      observer.disconnect();\n    };\n  }, [baseImagePath]);\n\n  return currentImagePath;\n};\n\nexport default useThemeImage;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C;AACA;AACA;AACA;AACA,GACA,KAAM,CAAAC,aAAa,CAAIC,aAAa,EAAK,CACvC,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGL,QAAQ,CAACG,aAAa,CAAC,CAEvEF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAK,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,UAAU,CAAGC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,YAAY,CAAC,CAEjE;AACA,KAAM,CAAAC,SAAS,CAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,EAAI,EAAE,CAE9C;AACA,KAAM,CAAAC,cAAc,CAAGb,aAAa,CAACc,UAAU,CAAC,GAAG,CAAC,CAAGd,aAAa,CAACe,KAAK,CAAC,CAAC,CAAC,CAAGf,aAAa,CAE7F,GAAI,CAAAgB,SAAS,CACb,GAAIZ,UAAU,CAAE,CACd;AACA;AACA,KAAM,CAAAa,aAAa,CAAGJ,cAAc,CAACK,OAAO,CAAC,QAAQ,CAAE,iBAAiB,CAAC,CACzEF,SAAS,CAAGP,SAAS,CAAG,GAAGA,SAAS,IAAIQ,aAAa,EAAE,CAAG,IAAIA,aAAa,EAAE,CAC/E,CAAC,IAAM,CACL;AACAD,SAAS,CAAGP,SAAS,CAAG,GAAGA,SAAS,IAAII,cAAc,EAAE,CAAG,IAAIA,cAAc,EAAE,CACjF,CAEAX,mBAAmB,CAACc,SAAS,CAAC,CAChC,CAAC,CAED;AACAb,eAAe,CAAC,CAAC,CAEjB;AACA,KAAM,CAAAgB,QAAQ,CAAG,GAAI,CAAAC,gBAAgB,CAAEC,SAAS,EAAK,CACnDA,SAAS,CAACC,OAAO,CAAEC,QAAQ,EAAK,CAC9B,GAAIA,QAAQ,CAACC,IAAI,GAAK,YAAY,EAAID,QAAQ,CAACE,aAAa,GAAK,OAAO,CAAE,CACxEtB,eAAe,CAAC,CAAC,CACnB,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF;AACAgB,QAAQ,CAACO,OAAO,CAACrB,QAAQ,CAACC,IAAI,CAAE,CAC9BqB,UAAU,CAAE,IAAI,CAChBC,eAAe,CAAE,CAAC,OAAO,CAC3B,CAAC,CAAC,CAEF;AACA,MAAO,IAAM,CACXT,QAAQ,CAACU,UAAU,CAAC,CAAC,CACvB,CAAC,CACH,CAAC,CAAE,CAAC7B,aAAa,CAAC,CAAC,CAEnB,MAAO,CAAAC,gBAAgB,CACzB,CAAC,CAED,cAAe,CAAAF,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}