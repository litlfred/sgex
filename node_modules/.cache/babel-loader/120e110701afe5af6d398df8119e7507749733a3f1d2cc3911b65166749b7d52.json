{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import{PageLayout,usePageParams}from'./framework';import{handleNavigationClick}from'../utils/navigationUtils';import'./DAKActionSelection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DAKActionSelection=()=>{return/*#__PURE__*/_jsx(PageLayout,{pageName:\"dak-action-selection\",showHeader:false,children:/*#__PURE__*/_jsx(DAKActionSelectionContent,{})});};const DAKActionSelectionContent=()=>{var _location$state;const location=useLocation();const navigate=useNavigate();const{profile}=usePageParams();// Use profile from framework (PageProvider) or location state\nconst effectiveProfile=profile||((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.profile);// Note: Profile validation is handled by PageLayout framework\n// When accessing directly via URL, the framework will load the profile based on URL params\nconst dakActions=[{id:'edit',title:'Edit Existing DAK',description:'Select and modify an existing DAK that you have permission to edit. Changes will be made directly to the repository.',icon:'âœï¸',color:'#0078d4'},{id:'fork',title:'Fork Existing DAK',description:'Create a copy of an existing DAK in your own organization or account. You will be able to modify the forked version independently.',icon:'ðŸ´',color:'#107c10'},{id:'create',title:'Create New DAK',description:'Create a new DAK from the WHO SMART Guidelines template (smart-ig-empty). You\\'ll configure basic parameters and start with a clean template.',icon:'âœ¨',color:'#881798'}];const handleActionSelect=(event,actionId)=>{// Navigate directly to the DAK selection with the chosen action and user parameter\nconst navigationState={profile:effectiveProfile,action:actionId};handleNavigationClick(event,`/dak-selection/${effectiveProfile.login}`,navigate,navigationState);};const handleBackToProfile=()=>{navigate('/',{state:{profile:effectiveProfile}});};if(!effectiveProfile){return/*#__PURE__*/_jsx(\"div\",{children:\"Redirecting...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"action-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToProfile,className:\"breadcrumb-link\",children:\"Select Profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-current\",children:\"Choose DAK Action\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"action-intro\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage a DAK\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Choose how you would like to work with a WHO SMART Guidelines Digital Adaptation Kit (DAK). Each option provides different workflows for DAK management and editing.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-grid\",children:dakActions.map(action=>/*#__PURE__*/_jsxs(\"div\",{className:`action-card`,onClick:event=>handleActionSelect(event,action.id),style:{'--action-color':action.color},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"action-header-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",style:{color:action.color},children:action.icon}),/*#__PURE__*/_jsx(\"h3\",{children:action.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-description\",children:/*#__PURE__*/_jsx(\"p\",{children:action.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-workflow\",children:[action.id==='edit'&&/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"1. Select DAK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"2. Edit Components\"})]}),action.id==='fork'&&/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"1. Select Source DAK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"2. Select Destination\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"3. Edit Components\"})]}),action.id==='create'&&/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"1. Select Template\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"2. Select Destination\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"3. Configure DAK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step\",children:\"4. Edit Components\"})]})]})]},action.id))})]})]});};export default DAKActionSelection;","map":{"version":3,"names":["React","useLocation","useNavigate","PageLayout","usePageParams","handleNavigationClick","jsx","_jsx","jsxs","_jsxs","DAKActionSelection","pageName","showHeader","children","DAKActionSelectionContent","_location$state","location","navigate","profile","effectiveProfile","state","dakActions","id","title","description","icon","color","handleActionSelect","event","actionId","navigationState","action","login","handleBackToProfile","className","onClick","map","style"],"sources":["/home/runner/work/sgex/sgex/src/components/DAKActionSelection.js"],"sourcesContent":["import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { PageLayout, usePageParams } from './framework';\nimport { handleNavigationClick } from '../utils/navigationUtils';\nimport './DAKActionSelection.css';\n\nconst DAKActionSelection = () => {\n  return (\n    <PageLayout pageName=\"dak-action-selection\" showHeader={false}>\n      <DAKActionSelectionContent />\n    </PageLayout>\n  );\n};\n\nconst DAKActionSelectionContent = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { profile } = usePageParams();\n  \n  // Use profile from framework (PageProvider) or location state\n  const effectiveProfile = profile || location.state?.profile;\n\n  // Note: Profile validation is handled by PageLayout framework\n  // When accessing directly via URL, the framework will load the profile based on URL params\n\n  const dakActions = [\n    {\n      id: 'edit',\n      title: 'Edit Existing DAK',\n      description: 'Select and modify an existing DAK that you have permission to edit. Changes will be made directly to the repository.',\n      icon: 'âœï¸',\n      color: '#0078d4'\n    },\n    {\n      id: 'fork', \n      title: 'Fork Existing DAK',\n      description: 'Create a copy of an existing DAK in your own organization or account. You will be able to modify the forked version independently.',\n      icon: 'ðŸ´',\n      color: '#107c10'\n    },\n    {\n      id: 'create',\n      title: 'Create New DAK',\n      description: 'Create a new DAK from the WHO SMART Guidelines template (smart-ig-empty). You\\'ll configure basic parameters and start with a clean template.',\n      icon: 'âœ¨',\n      color: '#881798'\n    }\n  ];\n\n  const handleActionSelect = (event, actionId) => {\n    // Navigate directly to the DAK selection with the chosen action and user parameter\n    const navigationState = { \n      profile: effectiveProfile, \n      action: actionId \n    };\n    \n    handleNavigationClick(event, `/dak-selection/${effectiveProfile.login}`, navigate, navigationState);\n  };\n\n  const handleBackToProfile = () => {\n    navigate('/', { state: { profile: effectiveProfile } });\n  };\n\n  if (!effectiveProfile) {\n    return <div>Redirecting...</div>;\n  }\n\n  return (\n    <div className=\"action-content\">\n      <div className=\"breadcrumb\">\n        <button onClick={handleBackToProfile} className=\"breadcrumb-link\">\n          Select Profile\n        </button>\n        <span className=\"breadcrumb-separator\">â€º</span>\n        <span className=\"breadcrumb-current\">Choose DAK Action</span>\n      </div>\n\n      <div className=\"action-main\">\n        <div className=\"action-intro\">\n          <h2>Manage a DAK</h2>\n          <p>\n            Choose how you would like to work with a WHO SMART Guidelines Digital Adaptation Kit (DAK). \n            Each option provides different workflows for DAK management and editing.\n          </p>\n        </div>\n\n        <div className=\"actions-grid\">\n          {dakActions.map((action) => (\n            <div \n              key={action.id}\n              className={`action-card`}\n              onClick={(event) => handleActionSelect(event, action.id)}\n              style={{ '--action-color': action.color }}\n            >\n              <div className=\"action-header-content\">\n                <div className=\"action-icon\" style={{ color: action.color }}>\n                  {action.icon}\n                </div>\n                <h3>{action.title}</h3>\n              </div>\n              \n              <div className=\"action-description\">\n                <p>{action.description}</p>\n              </div>\n\n              <div className=\"action-workflow\">\n                {action.id === 'edit' && (\n                  <div className=\"workflow-steps\">\n                    <span className=\"step\">1. Select DAK</span>\n                    <span className=\"step\">2. Edit Components</span>\n                  </div>\n                )}\n                {action.id === 'fork' && (\n                  <div className=\"workflow-steps\">\n                    <span className=\"step\">1. Select Source DAK</span>\n                    <span className=\"step\">2. Select Destination</span>\n                    <span className=\"step\">3. Edit Components</span>\n                  </div>\n                )}\n                {action.id === 'create' && (\n                  <div className=\"workflow-steps\">\n                    <span className=\"step\">1. Select Template</span>\n                    <span className=\"step\">2. Select Destination</span>\n                    <span className=\"step\">3. Configure DAK</span>\n                    <span className=\"step\">4. Edit Components</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DAKActionSelection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}